var jN=Object.defineProperty;var BN=(t,e,n)=>e in t?jN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cu=(t,e,n)=>(BN(t,typeof e!="symbol"?e+"":e,n),n);function UN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QE={exports:{}},ld={},XE={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),qN=Symbol.for("react.portal"),HN=Symbol.for("react.fragment"),GN=Symbol.for("react.strict_mode"),KN=Symbol.for("react.profiler"),WN=Symbol.for("react.provider"),QN=Symbol.for("react.context"),XN=Symbol.for("react.forward_ref"),YN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),ZN=Symbol.for("react.lazy"),$1=Symbol.iterator;function eR(t){return t===null||typeof t!="object"?null:(t=$1&&t[$1]||t["@@iterator"],typeof t=="function"?t:null)}var YE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JE=Object.assign,ZE={};function eu(t,e,n){this.props=t,this.context=e,this.refs=ZE,this.updater=n||YE}eu.prototype.isReactComponent={};eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e_(){}e_.prototype=eu.prototype;function rv(t,e,n){this.props=t,this.context=e,this.refs=ZE,this.updater=n||YE}var iv=rv.prototype=new e_;iv.constructor=rv;JE(iv,eu.prototype);iv.isPureReactComponent=!0;var F1=Array.isArray,t_=Object.prototype.hasOwnProperty,sv={current:null},n_={key:!0,ref:!0,__self:!0,__source:!0};function r_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)t_.call(e,r)&&!n_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dc,type:t,key:s,ref:o,props:i,_owner:sv.current}}function tR(t,e){return{$$typeof:dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ov(t){return typeof t=="object"&&t!==null&&t.$$typeof===dc}function nR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V1=/\/+/g;function Gp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nR(""+t.key):e.toString(36)}function Fh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dc:case qN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Gp(o,0):r,F1(i)?(n="",t!=null&&(n=t.replace(V1,"$&/")+"/"),Fh(i,e,n,"",function(c){return c})):i!=null&&(ov(i)&&(i=tR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(V1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",F1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Gp(s,a);o+=Fh(s,e,n,l,i)}else if(l=eR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Gp(s,a++),o+=Fh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nh(t,e,n){if(t==null)return t;var r=[],i=0;return Fh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},Vh={transition:null},iR={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:sv};De.Children={map:nh,forEach:function(t,e,n){nh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nh(t,function(){e++}),e},toArray:function(t){return nh(t,function(e){return e})||[]},only:function(t){if(!ov(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=eu;De.Fragment=HN;De.Profiler=KN;De.PureComponent=rv;De.StrictMode=GN;De.Suspense=YN;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iR;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)t_.call(e,l)&&!n_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:dc,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:QN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WN,_context:t},t.Consumer=t};De.createElement=r_;De.createFactory=function(t){var e=r_.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:XN,render:t}};De.isValidElement=ov;De.lazy=function(t){return{$$typeof:ZN,_payload:{_status:-1,_result:t},_init:rR}};De.memo=function(t,e){return{$$typeof:JN,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Vh.transition;Vh.transition={};try{t()}finally{Vh.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return wn.current.useCallback(t,e)};De.useContext=function(t){return wn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};De.useEffect=function(t,e){return wn.current.useEffect(t,e)};De.useId=function(){return wn.current.useId()};De.useImperativeHandle=function(t,e,n){return wn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return wn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return wn.current.useReducer(t,e,n)};De.useRef=function(t){return wn.current.useRef(t)};De.useState=function(t){return wn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return wn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return wn.current.useTransition()};De.version="18.2.0";XE.exports=De;var q=XE.exports;const yr=WE(q),Zm=UN({__proto__:null,default:yr},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR=q,oR=Symbol.for("react.element"),aR=Symbol.for("react.fragment"),uR=Object.prototype.hasOwnProperty,lR=sR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cR={key:!0,ref:!0,__self:!0,__source:!0};function i_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uR.call(e,r)&&!cR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oR,type:t,key:s,ref:o,props:i,_owner:lR.current}}ld.Fragment=aR;ld.jsx=i_;ld.jsxs=i_;QE.exports=ld;var R=QE.exports,eg={},s_={exports:{}},Gn={},o_={exports:{}},a_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,fe){var xe=ie.length;ie.push(fe);e:for(;0<xe;){var ge=xe-1>>>1,ze=ie[ge];if(0<i(ze,fe))ie[ge]=fe,ie[xe]=ze,xe=ge;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var fe=ie[0],xe=ie.pop();if(xe!==fe){ie[0]=xe;e:for(var ge=0,ze=ie.length,ar=ze>>>1;ge<ar;){var $n=2*(ge+1)-1,Ci=ie[$n],an=$n+1,Gr=ie[an];if(0>i(Ci,xe))an<ze&&0>i(Gr,Ci)?(ie[ge]=Gr,ie[an]=xe,ge=an):(ie[ge]=Ci,ie[$n]=xe,ge=$n);else if(an<ze&&0>i(Gr,xe))ie[ge]=Gr,ie[an]=xe,ge=an;else break e}}return fe}function i(ie,fe){var xe=ie.sortIndex-fe.sortIndex;return xe!==0?xe:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,m=null,y=3,x=!1,T=!1,C=!1,L=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ie){for(var fe=n(c);fe!==null;){if(fe.callback===null)r(c);else if(fe.startTime<=ie)r(c),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=n(c)}}function P(ie){if(C=!1,I(ie),!T)if(n(l)!==null)T=!0,Sn(B);else{var fe=n(c);fe!==null&&St(P,fe.startTime-ie)}}function B(ie,fe){T=!1,C&&(C=!1,E(H),H=-1),x=!0;var xe=y;try{for(I(fe),m=n(l);m!==null&&(!(m.expirationTime>fe)||ie&&!rt());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,y=m.priorityLevel;var ze=ge(m.expirationTime<=fe);fe=t.unstable_now(),typeof ze=="function"?m.callback=ze:m===n(l)&&r(l),I(fe)}else r(l);m=n(l)}if(m!==null)var ar=!0;else{var $n=n(c);$n!==null&&St(P,$n.startTime-fe),ar=!1}return ar}finally{m=null,y=xe,x=!1}}var G=!1,p=null,H=-1,Z=5,me=-1;function rt(){return!(t.unstable_now()-me<Z)}function Xt(){if(p!==null){var ie=t.unstable_now();me=ie;var fe=!0;try{fe=p(!0,ie)}finally{fe?Ee():(G=!1,p=null)}}else G=!1}var Ee;if(typeof _=="function")Ee=function(){_(Xt)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,it=Ue.port2;Ue.port1.onmessage=Xt,Ee=function(){it.postMessage(null)}}else Ee=function(){L(Xt,0)};function Sn(ie){p=ie,G||(G=!0,Ee())}function St(ie,fe){H=L(function(){ie(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,Sn(B))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var xe=y;y=fe;try{return ie()}finally{y=xe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var xe=y;y=ie;try{return fe()}finally{y=xe}},t.unstable_scheduleCallback=function(ie,fe,xe){var ge=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?ge+xe:ge):xe=ge,ie){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=xe+ze,ie={id:f++,callback:fe,priorityLevel:ie,startTime:xe,expirationTime:ze,sortIndex:-1},xe>ge?(ie.sortIndex=xe,e(c,ie),n(l)===null&&ie===n(c)&&(C?(E(H),H=-1):C=!0,St(P,xe-ge))):(ie.sortIndex=ze,e(l,ie),T||x||(T=!0,Sn(B))),ie},t.unstable_shouldYield=rt,t.unstable_wrapCallback=function(ie){var fe=y;return function(){var xe=y;y=fe;try{return ie.apply(this,arguments)}finally{y=xe}}}})(a_);o_.exports=a_;var hR=o_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=q,Un=hR;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l_=new Set,Tl={};function Io(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(Tl[t]=e,t=0;t<e.length;t++)l_.add(e[t])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=Object.prototype.hasOwnProperty,fR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j1={},B1={};function dR(t){return tg.call(B1,t)?!0:tg.call(j1,t)?!1:fR.test(t)?B1[t]=!0:(j1[t]=!0,!1)}function pR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mR(t,e,n,r){if(e===null||typeof e>"u"||pR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var av=/[\-:]([a-z])/g;function uv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(av,uv);Wt[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(av,uv);Wt[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(av,uv);Wt[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function lv(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mR(e,n,i,r)&&(n=null),r||i===null?dR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xi=u_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),ra=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),h_=Symbol.for("react.context"),hv=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),fv=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),f_=Symbol.for("react.offscreen"),U1=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=U1&&t[U1]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Kp;function Hu(t){if(Kp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kp=e&&e[1]||""}return`
`+Kp+t}var Wp=!1;function Qp(t,e){if(!t||Wp)return"";Wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hu(t):""}function gR(t){switch(t.tag){case 5:return Hu(t.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return t=Qp(t.type,!1),t;case 11:return t=Qp(t.type.render,!1),t;case 1:return t=Qp(t.type,!0),t;default:return""}}function sg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ia:return"Fragment";case ra:return"Portal";case ng:return"Profiler";case cv:return"StrictMode";case rg:return"Suspense";case ig:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h_:return(t.displayName||"Context")+".Consumer";case c_:return(t._context.displayName||"Context")+".Provider";case hv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fv:return e=t.displayName||null,e!==null?e:sg(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return sg(t(e))}catch{}}return null}function yR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sg(e);case 8:return e===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vR(t){var e=d_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=vR(t))}function p_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function og(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function z1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m_(t,e){e=e.checked,e!=null&&lv(t,"checked",e,!1)}function ag(t,e){m_(t,e);var n=rs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ug(t,e.type,n):e.hasOwnProperty("defaultValue")&&ug(t,e.type,rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function q1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ug(t,e,n){(e!=="number"||of(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gu=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function H1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Gu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rs(n)}}function g_(t,e){var n=rs(e.value),r=rs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function G1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sh,v_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sh=sh||document.createElement("div"),sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wR=["Webkit","ms","Moz","O"];Object.keys(tl).forEach(function(t){wR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tl[e]=tl[t]})});function w_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tl.hasOwnProperty(t)&&tl[t]?(""+e).trim():e+"px"}function x_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=w_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xR=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hg(t,e){if(e){if(xR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function fg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=null;function dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pg=null,Sa=null,Ta=null;function K1(t){if(t=gc(t)){if(typeof pg!="function")throw Error(X(280));var e=t.stateNode;e&&(e=pd(e),pg(t.stateNode,t.type,e))}}function S_(t){Sa?Ta?Ta.push(t):Ta=[t]:Sa=t}function T_(){if(Sa){var t=Sa,e=Ta;if(Ta=Sa=null,K1(t),e)for(t=0;t<e.length;t++)K1(e[t])}}function E_(t,e){return t(e)}function __(){}var Xp=!1;function C_(t,e,n){if(Xp)return t(e,n);Xp=!0;try{return E_(t,e,n)}finally{Xp=!1,(Sa!==null||Ta!==null)&&(__(),T_())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var r=pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var mg=!1;if(fi)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){mg=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{mg=!1}function SR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var nl=!1,af=null,uf=!1,gg=null,TR={onError:function(t){nl=!0,af=t}};function ER(t,e,n,r,i,s,o,a,l){nl=!1,af=null,SR.apply(TR,arguments)}function _R(t,e,n,r,i,s,o,a,l){if(ER.apply(this,arguments),nl){if(nl){var c=af;nl=!1,af=null}else throw Error(X(198));uf||(uf=!0,gg=c)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W1(t){if(ko(t)!==t)throw Error(X(188))}function CR(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return W1(i),t;if(s===r)return W1(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function k_(t){return t=CR(t),t!==null?b_(t):null}function b_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b_(t);if(e!==null)return e;t=t.sibling}return null}var D_=Un.unstable_scheduleCallback,Q1=Un.unstable_cancelCallback,IR=Un.unstable_shouldYield,kR=Un.unstable_requestPaint,yt=Un.unstable_now,bR=Un.unstable_getCurrentPriorityLevel,pv=Un.unstable_ImmediatePriority,A_=Un.unstable_UserBlockingPriority,lf=Un.unstable_NormalPriority,DR=Un.unstable_LowPriority,P_=Un.unstable_IdlePriority,cd=null,$r=null;function AR(t){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(cd,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:RR,PR=Math.log,NR=Math.LN2;function RR(t){return t>>>=0,t===0?32:31-(PR(t)/NR|0)|0}var oh=64,ah=4194304;function Ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ku(a):(s&=o,s!==0&&(r=Ku(s)))}else o=n&~i,o!==0?r=Ku(o):s!==0&&(r=Ku(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function LR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=LR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function yg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N_(){var t=oh;return oh<<=1,!(oh&4194240)&&(oh=64),t}function Yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function MR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function R_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L_,gv,O_,M_,$_,vg=!1,uh=[],Hi=null,Gi=null,Ki=null,Cl=new Map,Il=new Map,$i=[],$R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X1(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function bu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&gv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FR(t,e,n,r,i){switch(e){case"focusin":return Hi=bu(Hi,t,e,n,r,i),!0;case"dragenter":return Gi=bu(Gi,t,e,n,r,i),!0;case"mouseover":return Ki=bu(Ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cl.set(s,bu(Cl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,bu(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function F_(t){var e=Qs(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=I_(n),e!==null){t.blockedOn=e,$_(t.priority,function(){O_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dg=r,n.target.dispatchEvent(r),dg=null}else return e=gc(n),e!==null&&gv(e),t.blockedOn=n,!1;e.shift()}return!0}function Y1(t,e,n){jh(t)&&n.delete(e)}function VR(){vg=!1,Hi!==null&&jh(Hi)&&(Hi=null),Gi!==null&&jh(Gi)&&(Gi=null),Ki!==null&&jh(Ki)&&(Ki=null),Cl.forEach(Y1),Il.forEach(Y1)}function Du(t,e){t.blockedOn===e&&(t.blockedOn=null,vg||(vg=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,VR)))}function kl(t){function e(i){return Du(i,t)}if(0<uh.length){Du(uh[0],t);for(var n=1;n<uh.length;n++){var r=uh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hi!==null&&Du(Hi,t),Gi!==null&&Du(Gi,t),Ki!==null&&Du(Ki,t),Cl.forEach(e),Il.forEach(e),n=0;n<$i.length;n++)r=$i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)F_(n),n.blockedOn===null&&$i.shift()}var Ea=xi.ReactCurrentBatchConfig,hf=!0;function jR(t,e,n,r){var i=Fe,s=Ea.transition;Ea.transition=null;try{Fe=1,yv(t,e,n,r)}finally{Fe=i,Ea.transition=s}}function BR(t,e,n,r){var i=Fe,s=Ea.transition;Ea.transition=null;try{Fe=4,yv(t,e,n,r)}finally{Fe=i,Ea.transition=s}}function yv(t,e,n,r){if(hf){var i=wg(t,e,n,r);if(i===null)am(t,e,r,ff,n),X1(t,r);else if(FR(i,t,e,n,r))r.stopPropagation();else if(X1(t,r),e&4&&-1<$R.indexOf(t)){for(;i!==null;){var s=gc(i);if(s!==null&&L_(s),s=wg(t,e,n,r),s===null&&am(t,e,r,ff,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else am(t,e,r,null,n)}}var ff=null;function wg(t,e,n,r){if(ff=null,t=dv(r),t=Qs(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ff=t,null}function V_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case pv:return 1;case A_:return 4;case lf:case DR:return 16;case P_:return 536870912;default:return 16}default:return 16}}var Bi=null,vv=null,Bh=null;function j_(){if(Bh)return Bh;var t,e=vv,n=e.length,r,i="value"in Bi?Bi.value:Bi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bh=i.slice(t,1<r?1-r:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function J1(){return!1}function Kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lh:J1,this.isPropagationStopped=J1,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wv=Kn(tu),mc=ct({},tu,{view:0,detail:0}),UR=Kn(mc),Jp,Zp,Au,hd=ct({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(Jp=t.screenX-Au.screenX,Zp=t.screenY-Au.screenY):Zp=Jp=0,Au=t),Jp)},movementY:function(t){return"movementY"in t?t.movementY:Zp}}),Z1=Kn(hd),zR=ct({},hd,{dataTransfer:0}),qR=Kn(zR),HR=ct({},mc,{relatedTarget:0}),em=Kn(HR),GR=ct({},tu,{animationName:0,elapsedTime:0,pseudoElement:0}),KR=Kn(GR),WR=ct({},tu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QR=Kn(WR),XR=ct({},tu,{data:0}),ex=Kn(XR),YR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZR[t])?!!e[t]:!1}function xv(){return e2}var t2=ct({},mc,{key:function(t){if(t.key){var e=YR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xv,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n2=Kn(t2),r2=ct({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=Kn(r2),i2=ct({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xv}),s2=Kn(i2),o2=ct({},tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),a2=Kn(o2),u2=ct({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l2=Kn(u2),c2=[9,13,27,32],Sv=fi&&"CompositionEvent"in window,rl=null;fi&&"documentMode"in document&&(rl=document.documentMode);var h2=fi&&"TextEvent"in window&&!rl,B_=fi&&(!Sv||rl&&8<rl&&11>=rl),nx=String.fromCharCode(32),rx=!1;function U_(t,e){switch(t){case"keyup":return c2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function f2(t,e){switch(t){case"compositionend":return z_(e);case"keypress":return e.which!==32?null:(rx=!0,nx);case"textInput":return t=e.data,t===nx&&rx?null:t;default:return null}}function d2(t,e){if(sa)return t==="compositionend"||!Sv&&U_(t,e)?(t=j_(),Bh=vv=Bi=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B_&&e.locale!=="ko"?null:e.data;default:return null}}var p2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p2[t.type]:e==="textarea"}function q_(t,e,n,r){S_(r),e=df(e,"onChange"),0<e.length&&(n=new wv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var il=null,bl=null;function m2(t){tC(t,0)}function fd(t){var e=ua(t);if(p_(e))return t}function g2(t,e){if(t==="change")return e}var H_=!1;if(fi){var tm;if(fi){var nm="oninput"in document;if(!nm){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),nm=typeof sx.oninput=="function"}tm=nm}else tm=!1;H_=tm&&(!document.documentMode||9<document.documentMode)}function ox(){il&&(il.detachEvent("onpropertychange",G_),bl=il=null)}function G_(t){if(t.propertyName==="value"&&fd(bl)){var e=[];q_(e,bl,t,dv(t)),C_(m2,e)}}function y2(t,e,n){t==="focusin"?(ox(),il=e,bl=n,il.attachEvent("onpropertychange",G_)):t==="focusout"&&ox()}function v2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fd(bl)}function w2(t,e){if(t==="click")return fd(e)}function x2(t,e){if(t==="input"||t==="change")return fd(e)}function S2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:S2;function Dl(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tg.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function ax(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ux(t,e){var n=ax(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ax(n)}}function K_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W_(){for(var t=window,e=of();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=of(t.document)}return e}function Tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T2(t){var e=W_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K_(n.ownerDocument.documentElement,n)){if(r!==null&&Tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ux(n,s);var o=ux(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E2=fi&&"documentMode"in document&&11>=document.documentMode,oa=null,xg=null,sl=null,Sg=!1;function lx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sg||oa==null||oa!==of(r)||(r=oa,"selectionStart"in r&&Tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&Dl(sl,r)||(sl=r,r=df(xg,"onSelect"),0<r.length&&(e=new wv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oa)))}function ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var aa={animationend:ch("Animation","AnimationEnd"),animationiteration:ch("Animation","AnimationIteration"),animationstart:ch("Animation","AnimationStart"),transitionend:ch("Transition","TransitionEnd")},rm={},Q_={};fi&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function dd(t){if(rm[t])return rm[t];if(!aa[t])return t;var e=aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q_)return rm[t]=e[n];return t}var X_=dd("animationend"),Y_=dd("animationiteration"),J_=dd("animationstart"),Z_=dd("transitionend"),eC=new Map,cx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){eC.set(t,e),Io(e,[t])}for(var im=0;im<cx.length;im++){var sm=cx[im],_2=sm.toLowerCase(),C2=sm[0].toUpperCase()+sm.slice(1);vs(_2,"on"+C2)}vs(X_,"onAnimationEnd");vs(Y_,"onAnimationIteration");vs(J_,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(Z_,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function hx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_R(r,e,void 0,t),t.currentTarget=null}function tC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;hx(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;hx(i,a,c),s=l}}}if(uf)throw t=gg,uf=!1,gg=null,t}function Ke(t,e){var n=e[Ig];n===void 0&&(n=e[Ig]=new Set);var r=t+"__bubble";n.has(r)||(nC(e,t,2,!1),n.add(r))}function om(t,e,n){var r=0;e&&(r|=4),nC(n,t,r,e)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[hh]){t[hh]=!0,l_.forEach(function(n){n!=="selectionchange"&&(I2.has(n)||om(n,!1,t),om(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hh]||(e[hh]=!0,om("selectionchange",!1,e))}}function nC(t,e,n,r){switch(V_(e)){case 1:var i=jR;break;case 4:i=BR;break;default:i=yv}n=i.bind(null,e,n,t),i=void 0,!mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function am(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}C_(function(){var c=s,f=dv(n),m=[];e:{var y=eC.get(t);if(y!==void 0){var x=wv,T=t;switch(t){case"keypress":if(Uh(n)===0)break e;case"keydown":case"keyup":x=n2;break;case"focusin":T="focus",x=em;break;case"focusout":T="blur",x=em;break;case"beforeblur":case"afterblur":x=em;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=qR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=s2;break;case X_:case Y_:case J_:x=KR;break;case Z_:x=a2;break;case"scroll":x=UR;break;case"wheel":x=l2;break;case"copy":case"cut":case"paste":x=QR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=tx}var C=(e&4)!==0,L=!C&&t==="scroll",E=C?y!==null?y+"Capture":null:y;C=[];for(var _=c,I;_!==null;){I=_;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,E!==null&&(P=_l(_,E),P!=null&&C.push(Pl(_,P,I)))),L)break;_=_.return}0<C.length&&(y=new x(y,T,null,n,f),m.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",y&&n!==dg&&(T=n.relatedTarget||n.fromElement)&&(Qs(T)||T[di]))break e;if((x||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,x?(T=n.relatedTarget||n.toElement,x=c,T=T?Qs(T):null,T!==null&&(L=ko(T),T!==L||T.tag!==5&&T.tag!==6)&&(T=null)):(x=null,T=c),x!==T)){if(C=Z1,P="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(C=tx,P="onPointerLeave",E="onPointerEnter",_="pointer"),L=x==null?y:ua(x),I=T==null?y:ua(T),y=new C(P,_+"leave",x,n,f),y.target=L,y.relatedTarget=I,P=null,Qs(f)===c&&(C=new C(E,_+"enter",T,n,f),C.target=I,C.relatedTarget=L,P=C),L=P,x&&T)t:{for(C=x,E=T,_=0,I=C;I;I=Qo(I))_++;for(I=0,P=E;P;P=Qo(P))I++;for(;0<_-I;)C=Qo(C),_--;for(;0<I-_;)E=Qo(E),I--;for(;_--;){if(C===E||E!==null&&C===E.alternate)break t;C=Qo(C),E=Qo(E)}C=null}else C=null;x!==null&&fx(m,y,x,C,!1),T!==null&&L!==null&&fx(m,L,T,C,!0)}}e:{if(y=c?ua(c):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var B=g2;else if(ix(y))if(H_)B=x2;else{B=v2;var G=y2}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(B=w2);if(B&&(B=B(t,c))){q_(m,B,n,f);break e}G&&G(t,y,c),t==="focusout"&&(G=y._wrapperState)&&G.controlled&&y.type==="number"&&ug(y,"number",y.value)}switch(G=c?ua(c):window,t){case"focusin":(ix(G)||G.contentEditable==="true")&&(oa=G,xg=c,sl=null);break;case"focusout":sl=xg=oa=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,lx(m,n,f);break;case"selectionchange":if(E2)break;case"keydown":case"keyup":lx(m,n,f)}var p;if(Sv)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else sa?U_(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(B_&&n.locale!=="ko"&&(sa||H!=="onCompositionStart"?H==="onCompositionEnd"&&sa&&(p=j_()):(Bi=f,vv="value"in Bi?Bi.value:Bi.textContent,sa=!0)),G=df(c,H),0<G.length&&(H=new ex(H,t,null,n,f),m.push({event:H,listeners:G}),p?H.data=p:(p=z_(n),p!==null&&(H.data=p)))),(p=h2?f2(t,n):d2(t,n))&&(c=df(c,"onBeforeInput"),0<c.length&&(f=new ex("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=p))}tC(m,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_l(t,n),s!=null&&r.unshift(Pl(t,s,i)),s=_l(t,e),s!=null&&r.push(Pl(t,s,i))),t=t.return}return r}function Qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_l(n,s),l!=null&&o.unshift(Pl(n,l,a))):i||(l=_l(n,s),l!=null&&o.push(Pl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var k2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function dx(t){return(typeof t=="string"?t:""+t).replace(k2,`
`).replace(b2,"")}function fh(t,e,n){if(e=dx(e),dx(t)!==e&&n)throw Error(X(425))}function pf(){}var Tg=null,Eg=null;function _g(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cg=typeof setTimeout=="function"?setTimeout:void 0,D2=typeof clearTimeout=="function"?clearTimeout:void 0,px=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof px<"u"?function(t){return px.resolve(null).then(t).catch(P2)}:Cg;function P2(t){setTimeout(function(){throw t})}function um(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kl(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nu=Math.random().toString(36).slice(2),Ar="__reactFiber$"+nu,Nl="__reactProps$"+nu,di="__reactContainer$"+nu,Ig="__reactEvents$"+nu,N2="__reactListeners$"+nu,R2="__reactHandles$"+nu;function Qs(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mx(t);t!==null;){if(n=t[Ar])return n;t=mx(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[Ar]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function pd(t){return t[Nl]||null}var kg=[],la=-1;function ws(t){return{current:t}}function Xe(t){0>la||(t.current=kg[la],kg[la]=null,la--)}function He(t,e){la++,kg[la]=t.current,t.current=e}var is={},on=ws(is),Nn=ws(!1),uo=is;function Ra(t,e){var n=t.type.contextTypes;if(!n)return is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function mf(){Xe(Nn),Xe(on)}function gx(t,e,n){if(on.current!==is)throw Error(X(168));He(on,e),He(Nn,n)}function rC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,yR(t)||"Unknown",i));return ct({},n,r)}function gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||is,uo=on.current,He(on,t),He(Nn,Nn.current),!0}function yx(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=rC(t,e,uo),r.__reactInternalMemoizedMergedChildContext=t,Xe(Nn),Xe(on),He(on,t)):Xe(Nn),He(Nn,n)}var ei=null,md=!1,lm=!1;function iC(t){ei===null?ei=[t]:ei.push(t)}function L2(t){md=!0,iC(t)}function xs(){if(!lm&&ei!==null){lm=!0;var t=0,e=Fe;try{var n=ei;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,md=!1}catch(i){throw ei!==null&&(ei=ei.slice(t+1)),D_(pv,xs),i}finally{Fe=e,lm=!1}}return null}var ca=[],ha=0,yf=null,vf=0,Jn=[],Zn=0,lo=null,ni=1,ri="";function Fs(t,e){ca[ha++]=vf,ca[ha++]=yf,yf=t,vf=e}function sC(t,e,n){Jn[Zn++]=ni,Jn[Zn++]=ri,Jn[Zn++]=lo,lo=t;var r=ni;t=ri;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var s=32-mr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-mr(e)+i|n<<i|r,ri=s+t}else ni=1<<s|n<<i|r,ri=t}function Ev(t){t.return!==null&&(Fs(t,1),sC(t,1,0))}function _v(t){for(;t===yf;)yf=ca[--ha],ca[ha]=null,vf=ca[--ha],ca[ha]=null;for(;t===lo;)lo=Jn[--Zn],Jn[Zn]=null,ri=Jn[--Zn],Jn[Zn]=null,ni=Jn[--Zn],Jn[Zn]=null}var Bn=null,jn=null,et=!1,dr=null;function oC(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,jn=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:ni,overflow:ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,jn=null,!0):!1;default:return!1}}function bg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dg(t){if(et){var e=jn;if(e){var n=e;if(!vx(t,e)){if(bg(t))throw Error(X(418));e=Wi(n.nextSibling);var r=Bn;e&&vx(t,e)?oC(r,n):(t.flags=t.flags&-4097|2,et=!1,Bn=t)}}else{if(bg(t))throw Error(X(418));t.flags=t.flags&-4097|2,et=!1,Bn=t}}}function wx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function dh(t){if(t!==Bn)return!1;if(!et)return wx(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_g(t.type,t.memoizedProps)),e&&(e=jn)){if(bg(t))throw aC(),Error(X(418));for(;e;)oC(t,e),e=Wi(e.nextSibling)}if(wx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=Wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Bn?Wi(t.stateNode.nextSibling):null;return!0}function aC(){for(var t=jn;t;)t=Wi(t.nextSibling)}function La(){jn=Bn=null,et=!1}function Cv(t){dr===null?dr=[t]:dr.push(t)}var O2=xi.ReactCurrentBatchConfig;function hr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var wf=ws(null),xf=null,fa=null,Iv=null;function kv(){Iv=fa=xf=null}function bv(t){var e=wf.current;Xe(wf),t._currentValue=e}function Ag(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){xf=t,Iv=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(Iv!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(xf===null)throw Error(X(308));fa=t,xf.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var Xs=null;function Dv(t){Xs===null?Xs=[t]:Xs.push(t)}function uC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Dv(e)):(n.next=i.next,i.next=n),e.interleaved=n,pi(t,r)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oi=!1;function Av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pi(t,n)}return i=r.interleaved,i===null?(e.next=e,Dv(r)):(e.next=i.next,i.next=e),r.interleaved=e,pi(t,n)}function zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mv(t,n)}}function xx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sf(t,e,n,r){var i=t.updateQueue;Oi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,f=c=l=null,a=s;do{var y=a.lane,x=a.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,C=a;switch(y=e,x=n,C.tag){case 1:if(T=C.payload,typeof T=="function"){m=T.call(x,m,y);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,y=typeof T=="function"?T.call(x,m,y):T,y==null)break e;m=ct({},m,y);break e;case 2:Oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else x={eventTime:x,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=x,l=m):f=f.next=x,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ho|=o,t.lanes=o,t.memoizedState=m}}function Sx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var cC=new u_.Component().refs;function Pg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gd={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Yi(t),s=ai(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(gr(e,t,i,r),zh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Yi(t),s=ai(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(gr(e,t,i,r),zh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=Yi(t),i=ai(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qi(t,i,r),e!==null&&(gr(e,t,r,n),zh(e,t,r))}};function Tx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,s):!0}function hC(t,e,n){var r=!1,i=is,s=e.contextType;return typeof s=="object"&&s!==null?s=sr(s):(i=Rn(e)?uo:on.current,r=e.contextTypes,s=(r=r!=null)?Ra(t,i):is),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ex(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gd.enqueueReplaceState(e,e.state,null)}function Ng(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cC,Av(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sr(s):(s=Rn(e)?uo:on.current,i.context=Ra(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gd.enqueueReplaceState(i,i.state,null),Sf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===cC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function ph(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _x(t){var e=t._init;return e(t._payload)}function fC(t){function e(E,_){if(t){var I=E.deletions;I===null?(E.deletions=[_],E.flags|=16):I.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=Ji(E,_),E.index=0,E.sibling=null,E}function s(E,_,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<_?(E.flags|=2,_):I):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,I,P){return _===null||_.tag!==6?(_=gm(I,E.mode,P),_.return=E,_):(_=i(_,I),_.return=E,_)}function l(E,_,I,P){var B=I.type;return B===ia?f(E,_,I.props.children,P,I.key):_!==null&&(_.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Li&&_x(B)===_.type)?(P=i(_,I.props),P.ref=Pu(E,_,I),P.return=E,P):(P=Qh(I.type,I.key,I.props,null,E.mode,P),P.ref=Pu(E,_,I),P.return=E,P)}function c(E,_,I,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=ym(I,E.mode,P),_.return=E,_):(_=i(_,I.children||[]),_.return=E,_)}function f(E,_,I,P,B){return _===null||_.tag!==7?(_=io(I,E.mode,P,B),_.return=E,_):(_=i(_,I),_.return=E,_)}function m(E,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=gm(""+_,E.mode,I),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rh:return I=Qh(_.type,_.key,_.props,null,E.mode,I),I.ref=Pu(E,null,_),I.return=E,I;case ra:return _=ym(_,E.mode,I),_.return=E,_;case Li:var P=_._init;return m(E,P(_._payload),I)}if(Gu(_)||Iu(_))return _=io(_,E.mode,I,null),_.return=E,_;ph(E,_)}return null}function y(E,_,I,P){var B=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return B!==null?null:a(E,_,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case rh:return I.key===B?l(E,_,I,P):null;case ra:return I.key===B?c(E,_,I,P):null;case Li:return B=I._init,y(E,_,B(I._payload),P)}if(Gu(I)||Iu(I))return B!==null?null:f(E,_,I,P,null);ph(E,I)}return null}function x(E,_,I,P,B){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(I)||null,a(_,E,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case rh:return E=E.get(P.key===null?I:P.key)||null,l(_,E,P,B);case ra:return E=E.get(P.key===null?I:P.key)||null,c(_,E,P,B);case Li:var G=P._init;return x(E,_,I,G(P._payload),B)}if(Gu(P)||Iu(P))return E=E.get(I)||null,f(_,E,P,B,null);ph(_,P)}return null}function T(E,_,I,P){for(var B=null,G=null,p=_,H=_=0,Z=null;p!==null&&H<I.length;H++){p.index>H?(Z=p,p=null):Z=p.sibling;var me=y(E,p,I[H],P);if(me===null){p===null&&(p=Z);break}t&&p&&me.alternate===null&&e(E,p),_=s(me,_,H),G===null?B=me:G.sibling=me,G=me,p=Z}if(H===I.length)return n(E,p),et&&Fs(E,H),B;if(p===null){for(;H<I.length;H++)p=m(E,I[H],P),p!==null&&(_=s(p,_,H),G===null?B=p:G.sibling=p,G=p);return et&&Fs(E,H),B}for(p=r(E,p);H<I.length;H++)Z=x(p,E,H,I[H],P),Z!==null&&(t&&Z.alternate!==null&&p.delete(Z.key===null?H:Z.key),_=s(Z,_,H),G===null?B=Z:G.sibling=Z,G=Z);return t&&p.forEach(function(rt){return e(E,rt)}),et&&Fs(E,H),B}function C(E,_,I,P){var B=Iu(I);if(typeof B!="function")throw Error(X(150));if(I=B.call(I),I==null)throw Error(X(151));for(var G=B=null,p=_,H=_=0,Z=null,me=I.next();p!==null&&!me.done;H++,me=I.next()){p.index>H?(Z=p,p=null):Z=p.sibling;var rt=y(E,p,me.value,P);if(rt===null){p===null&&(p=Z);break}t&&p&&rt.alternate===null&&e(E,p),_=s(rt,_,H),G===null?B=rt:G.sibling=rt,G=rt,p=Z}if(me.done)return n(E,p),et&&Fs(E,H),B;if(p===null){for(;!me.done;H++,me=I.next())me=m(E,me.value,P),me!==null&&(_=s(me,_,H),G===null?B=me:G.sibling=me,G=me);return et&&Fs(E,H),B}for(p=r(E,p);!me.done;H++,me=I.next())me=x(p,E,H,me.value,P),me!==null&&(t&&me.alternate!==null&&p.delete(me.key===null?H:me.key),_=s(me,_,H),G===null?B=me:G.sibling=me,G=me);return t&&p.forEach(function(Xt){return e(E,Xt)}),et&&Fs(E,H),B}function L(E,_,I,P){if(typeof I=="object"&&I!==null&&I.type===ia&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case rh:e:{for(var B=I.key,G=_;G!==null;){if(G.key===B){if(B=I.type,B===ia){if(G.tag===7){n(E,G.sibling),_=i(G,I.props.children),_.return=E,E=_;break e}}else if(G.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Li&&_x(B)===G.type){n(E,G.sibling),_=i(G,I.props),_.ref=Pu(E,G,I),_.return=E,E=_;break e}n(E,G);break}else e(E,G);G=G.sibling}I.type===ia?(_=io(I.props.children,E.mode,P,I.key),_.return=E,E=_):(P=Qh(I.type,I.key,I.props,null,E.mode,P),P.ref=Pu(E,_,I),P.return=E,E=P)}return o(E);case ra:e:{for(G=I.key;_!==null;){if(_.key===G)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(E,_.sibling),_=i(_,I.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=ym(I,E.mode,P),_.return=E,E=_}return o(E);case Li:return G=I._init,L(E,_,G(I._payload),P)}if(Gu(I))return T(E,_,I,P);if(Iu(I))return C(E,_,I,P);ph(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,I),_.return=E,E=_):(n(E,_),_=gm(I,E.mode,P),_.return=E,E=_),o(E)):n(E,_)}return L}var Oa=fC(!0),dC=fC(!1),yc={},Fr=ws(yc),Rl=ws(yc),Ll=ws(yc);function Ys(t){if(t===yc)throw Error(X(174));return t}function Pv(t,e){switch(He(Ll,e),He(Rl,t),He(Fr,yc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cg(e,t)}Xe(Fr),He(Fr,e)}function Ma(){Xe(Fr),Xe(Rl),Xe(Ll)}function pC(t){Ys(Ll.current);var e=Ys(Fr.current),n=cg(e,t.type);e!==n&&(He(Rl,t),He(Fr,n))}function Nv(t){Rl.current===t&&(Xe(Fr),Xe(Rl))}var ot=ws(0);function Tf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cm=[];function Rv(){for(var t=0;t<cm.length;t++)cm[t]._workInProgressVersionPrimary=null;cm.length=0}var qh=xi.ReactCurrentDispatcher,hm=xi.ReactCurrentBatchConfig,co=0,lt=null,It=null,Pt=null,Ef=!1,ol=!1,Ol=0,M2=0;function Jt(){throw Error(X(321))}function Lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function Ov(t,e,n,r,i,s){if(co=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?j2:B2,t=n(r,i),ol){s=0;do{if(ol=!1,Ol=0,25<=s)throw Error(X(301));s+=1,Pt=It=null,e.updateQueue=null,qh.current=U2,t=n(r,i)}while(ol)}if(qh.current=_f,e=It!==null&&It.next!==null,co=0,Pt=It=lt=null,Ef=!1,e)throw Error(X(300));return t}function Mv(){var t=Ol!==0;return Ol=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?lt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function or(){if(It===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Pt===null?lt.memoizedState:Pt.next;if(e!==null)Pt=e,It=t;else{if(t===null)throw Error(X(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Pt===null?lt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Ml(t,e){return typeof e=="function"?e(t):e}function fm(t){var e=or(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((co&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,lt.lanes|=f,ho|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,lt.lanes|=s,ho|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dm(t){var e=or(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vr(s,e.memoizedState)||(bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mC(){}function gC(t,e){var n=lt,r=or(),i=e(),s=!vr(r.memoizedState,i);if(s&&(r.memoizedState=i,bn=!0),r=r.queue,$v(wC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,$l(9,vC.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(X(349));co&30||yC(n,e,i)}return i}function yC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vC(t,e,n,r){e.value=n,e.getSnapshot=r,xC(e)&&SC(t)}function wC(t,e,n){return n(function(){xC(e)&&SC(t)})}function xC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function SC(t){var e=pi(t,1);e!==null&&gr(e,t,1,-1)}function Cx(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=V2.bind(null,lt,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TC(){return or().memoizedState}function Hh(t,e,n,r){var i=br();lt.flags|=t,i.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function yd(t,e,n,r){var i=or();r=r===void 0?null:r;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,r!==null&&Lv(r,o.deps)){i.memoizedState=$l(e,n,s,r);return}}lt.flags|=t,i.memoizedState=$l(1|e,n,s,r)}function Ix(t,e){return Hh(8390656,8,t,e)}function $v(t,e){return yd(2048,8,t,e)}function EC(t,e){return yd(4,2,t,e)}function _C(t,e){return yd(4,4,t,e)}function CC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IC(t,e,n){return n=n!=null?n.concat([t]):null,yd(4,4,CC.bind(null,e,t),n)}function Fv(){}function kC(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bC(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DC(t,e,n){return co&21?(vr(n,e)||(n=N_(),lt.lanes|=n,ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function $2(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=hm.transition;hm.transition={};try{t(!1),e()}finally{Fe=n,hm.transition=r}}function AC(){return or().memoizedState}function F2(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PC(t))NC(e,n);else if(n=uC(t,e,n,r),n!==null){var i=yn();gr(n,t,r,i),RC(n,e,r)}}function V2(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PC(t))NC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vr(a,o)){var l=e.interleaved;l===null?(i.next=i,Dv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=uC(t,e,i,r),n!==null&&(i=yn(),gr(n,t,r,i),RC(n,e,r))}}function PC(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function NC(t,e){ol=Ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mv(t,n)}}var _f={readContext:sr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},j2={readContext:sr,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:Ix,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4194308,4,CC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=F2.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:Cx,useDebugValue:Fv,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=Cx(!1),e=t[0];return t=$2.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=br();if(et){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Rt===null)throw Error(X(349));co&30||yC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ix(wC.bind(null,r,s,t),[t]),r.flags|=2048,$l(9,vC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=br(),e=Rt.identifierPrefix;if(et){var n=ri,r=ni;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B2={readContext:sr,useCallback:kC,useContext:sr,useEffect:$v,useImperativeHandle:IC,useInsertionEffect:EC,useLayoutEffect:_C,useMemo:bC,useReducer:fm,useRef:TC,useState:function(){return fm(Ml)},useDebugValue:Fv,useDeferredValue:function(t){var e=or();return DC(e,It.memoizedState,t)},useTransition:function(){var t=fm(Ml)[0],e=or().memoizedState;return[t,e]},useMutableSource:mC,useSyncExternalStore:gC,useId:AC,unstable_isNewReconciler:!1},U2={readContext:sr,useCallback:kC,useContext:sr,useEffect:$v,useImperativeHandle:IC,useInsertionEffect:EC,useLayoutEffect:_C,useMemo:bC,useReducer:dm,useRef:TC,useState:function(){return dm(Ml)},useDebugValue:Fv,useDeferredValue:function(t){var e=or();return It===null?e.memoizedState=t:DC(e,It.memoizedState,t)},useTransition:function(){var t=dm(Ml)[0],e=or().memoizedState;return[t,e]},useMutableSource:mC,useSyncExternalStore:gC,useId:AC,unstable_isNewReconciler:!1};function $a(t,e){try{var n="",r=e;do n+=gR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var z2=typeof WeakMap=="function"?WeakMap:Map;function LC(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){If||(If=!0,zg=r),Rg(t,e)},n}function OC(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rg(t,e),typeof r!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rL.bind(null,t,e,n),e.then(t,t))}function bx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,Qi(n,e,1))),n.lanes|=1),t)}var q2=xi.ReactCurrentOwner,bn=!1;function fn(t,e,n,r){e.child=t===null?dC(e,null,n,r):Oa(e,t.child,n,r)}function Ax(t,e,n,r,i){n=n.render;var s=e.ref;return _a(e,i),r=Ov(t,e,n,r,s,i),n=Mv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(et&&n&&Ev(e),e.flags|=1,fn(t,e,r,i),e.child)}function Px(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,MC(t,e,s,r,i)):(t=Qh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(o,r)&&t.ref===e.ref)return mi(t,e,i)}return e.flags|=1,t=Ji(s,r),t.ref=e.ref,t.return=e,e.child=t}function MC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dl(s,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,mi(t,e,i)}return Lg(t,e,n,r,i)}function $C(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(pa,Fn),Fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(pa,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(pa,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(pa,Fn),Fn|=r;return fn(t,e,i,n),e.child}function FC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lg(t,e,n,r,i){var s=Rn(n)?uo:on.current;return s=Ra(e,s),_a(e,i),n=Ov(t,e,n,r,s,i),r=Mv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(et&&r&&Ev(e),e.flags|=1,fn(t,e,n,i),e.child)}function Nx(t,e,n,r,i){if(Rn(n)){var s=!0;gf(e)}else s=!1;if(_a(e,i),e.stateNode===null)Gh(t,e),hC(e,n,r),Ng(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sr(c):(c=Rn(n)?uo:on.current,c=Ra(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ex(e,o,r,c),Oi=!1;var y=e.memoizedState;o.state=y,Sf(e,r,o,i),l=e.memoizedState,a!==r||y!==l||Nn.current||Oi?(typeof f=="function"&&(Pg(e,n,f,r),l=e.memoizedState),(a=Oi||Tx(e,n,a,r,y,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:hr(e.type,a),o.props=c,m=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=Rn(n)?uo:on.current,l=Ra(e,l));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||y!==l)&&Ex(e,o,r,l),Oi=!1,y=e.memoizedState,o.state=y,Sf(e,r,o,i);var T=e.memoizedState;a!==m||y!==T||Nn.current||Oi?(typeof x=="function"&&(Pg(e,n,x,r),T=e.memoizedState),(c=Oi||Tx(e,n,c,r,y,T,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Og(t,e,n,r,s,i)}function Og(t,e,n,r,i,s){FC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yx(e,n,!1),mi(t,e,s);r=e.stateNode,q2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oa(e,t.child,null,s),e.child=Oa(e,null,a,s)):fn(t,e,a,s),e.memoizedState=r.state,i&&yx(e,n,!0),e.child}function VC(t){var e=t.stateNode;e.pendingContext?gx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gx(t,e.context,!1),Pv(t,e.containerInfo)}function Rx(t,e,n,r,i){return La(),Cv(i),e.flags|=256,fn(t,e,n,r),e.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function $g(t){return{baseLanes:t,cachePool:null,transitions:null}}function jC(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(ot,i&1),t===null)return Dg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xd(o,r,0,null),t=io(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$g(n),e.memoizedState=Mg,t):Vv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return H2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ji(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ji(a,s):(s=io(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$g(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mg,r}return s=t.child,t=s.sibling,r=Ji(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vv(t,e){return e=xd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mh(t,e,n,r){return r!==null&&Cv(r),Oa(e,t.child,null,n),t=Vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pm(Error(X(422))),mh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xd({mode:"visible",children:r.children},i,0,null),s=io(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Oa(e,t.child,null,o),e.child.memoizedState=$g(o),e.memoizedState=Mg,s);if(!(e.mode&1))return mh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=pm(s,r,void 0),mh(t,e,o,r)}if(a=(o&t.childLanes)!==0,bn||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(t,i),gr(r,t,i,-1))}return Hv(),r=pm(Error(X(421))),mh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,jn=Wi(i.nextSibling),Bn=e,et=!0,dr=null,t!==null&&(Jn[Zn++]=ni,Jn[Zn++]=ri,Jn[Zn++]=lo,ni=t.id,ri=t.overflow,lo=e),e=Vv(e,r.children),e.flags|=4096,e)}function Lx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ag(t.return,e,n)}function mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lx(t,n,e);else if(t.tag===19)Lx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mm(e,!0,n,null,s);break;case"together":mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G2(t,e,n){switch(e.tag){case 3:VC(e),La();break;case 5:pC(e);break;case 1:Rn(e.type)&&gf(e);break;case 4:Pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(wf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?jC(t,e,n):(He(ot,ot.current&1),t=mi(t,e,n),t!==null?t.sibling:null);He(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,$C(t,e,n)}return mi(t,e,n)}var UC,Fg,zC,qC;UC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fg=function(){};zC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ys(Fr.current);var s=null;switch(n){case"input":i=og(t,i),r=og(t,r),s=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":i=lg(t,i),r=lg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pf)}hg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};qC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nu(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K2(t,e,n){var r=e.pendingProps;switch(_v(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Rn(e.type)&&mf(),Zt(e),null;case 3:return r=e.stateNode,Ma(),Xe(Nn),Xe(on),Rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dr!==null&&(Gg(dr),dr=null))),Fg(t,e),Zt(e),null;case 5:Nv(e);var i=Ys(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)zC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Zt(e),null}if(t=Ys(Fr.current),dh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ar]=e,r[Nl]=s,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ke(Wu[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":z1(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":H1(r,s),Ke("invalid",r)}hg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fh(r.textContent,a,t),i=["children",""+a]):Tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":ih(r),q1(r,s,!0);break;case"textarea":ih(r),G1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[Nl]=r,UC(t,e,!1,!1),e.stateNode=t;e:{switch(o=fg(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ke(Wu[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":z1(t,r),i=og(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":H1(t,r),i=lg(t,r),Ke("invalid",t);break;default:i=r}hg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?x_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&v_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(t,l):typeof l=="number"&&El(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ke("scroll",t):l!=null&&lv(t,s,l,o))}switch(n){case"input":ih(t),q1(t,r,!1);break;case"textarea":ih(t),G1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xa(t,!!r.multiple,s,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)qC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Ys(Ll.current),Ys(Fr.current),dh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(s=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:fh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return Zt(e),null;case 13:if(Xe(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&jn!==null&&e.mode&1&&!(e.flags&128))aC(),La(),e.flags|=98560,s=!1;else if(s=dh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Ar]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),s=!1}else dr!==null&&(Gg(dr),dr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?bt===0&&(bt=3):Hv())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ma(),Fg(t,e),t===null&&Al(e.stateNode.containerInfo),Zt(e),null;case 10:return bv(e.type._context),Zt(e),null;case 17:return Rn(e.type)&&mf(),Zt(e),null;case 19:if(Xe(ot),s=e.memoizedState,s===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nu(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tf(t),o!==null){for(e.flags|=128,Nu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&yt()>Fa&&(e.flags|=128,r=!0,Nu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Zt(e),null}else 2*yt()-s.renderingStartTime>Fa&&n!==1073741824&&(e.flags|=128,r=!0,Nu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,n=ot.current,He(ot,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return qv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function W2(t,e){switch(_v(e),e.tag){case 1:return Rn(e.type)&&mf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(),Xe(Nn),Xe(on),Rv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nv(e),null;case 13:if(Xe(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(ot),null;case 4:return Ma(),null;case 10:return bv(e.type._context),null;case 22:case 23:return qv(),null;case 24:return null;default:return null}}var gh=!1,tn=!1,Q2=typeof WeakSet=="function"?WeakSet:Set,oe=null;function da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Vg(t,e,n){try{n()}catch(r){dt(t,e,r)}}var Ox=!1;function X2(t,e){if(Tg=hf,t=W_(),Tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,m=t,y=null;t:for(;;){for(var x;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)y=m,m=x;for(;;){if(m===t)break t;if(y===n&&++c===i&&(a=o),y===s&&++f===r&&(l=o),(x=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eg={focusedElem:t,selectionRange:n},hf=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,L=T.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:hr(e.type,C),L);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(P){dt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return T=Ox,Ox=!1,T}function al(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vg(e,n,s)}i=i.next}while(i!==r)}}function vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HC(t){var e=t.alternate;e!==null&&(t.alternate=null,HC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[Nl],delete e[Ig],delete e[N2],delete e[R2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GC(t){return t.tag===5||t.tag===3||t.tag===4}function Mx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pf));else if(r!==4&&(t=t.child,t!==null))for(Bg(t,e,n),t=t.sibling;t!==null;)Bg(t,e,n),t=t.sibling}function Ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ug(t,e,n),t=t.sibling;t!==null;)Ug(t,e,n),t=t.sibling}var Ut=null,fr=!1;function Di(t,e,n){for(n=n.child;n!==null;)KC(t,e,n),n=n.sibling}function KC(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(cd,n)}catch{}switch(n.tag){case 5:tn||da(n,e);case 6:var r=Ut,i=fr;Ut=null,Di(t,e,n),Ut=r,fr=i,Ut!==null&&(fr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(fr?(t=Ut,n=n.stateNode,t.nodeType===8?um(t.parentNode,n):t.nodeType===1&&um(t,n),kl(t)):um(Ut,n.stateNode));break;case 4:r=Ut,i=fr,Ut=n.stateNode.containerInfo,fr=!0,Di(t,e,n),Ut=r,fr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vg(n,e,o),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!tn&&(da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Di(t,e,n),tn=r):Di(t,e,n);break;default:Di(t,e,n)}}function $x(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Q2),e.forEach(function(r){var i=sL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,fr=!1;break e;case 3:Ut=a.stateNode.containerInfo,fr=!0;break e;case 4:Ut=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Ut===null)throw Error(X(160));KC(s,o,i),Ut=null,fr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WC(e,t),e=e.sibling}function WC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),kr(t),r&4){try{al(3,t,t.return),vd(3,t)}catch(C){dt(t,t.return,C)}try{al(5,t,t.return)}catch(C){dt(t,t.return,C)}}break;case 1:cr(e,t),kr(t),r&512&&n!==null&&da(n,n.return);break;case 5:if(cr(e,t),kr(t),r&512&&n!==null&&da(n,n.return),t.flags&32){var i=t.stateNode;try{El(i,"")}catch(C){dt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&m_(i,s),fg(a,o);var c=fg(a,s);for(o=0;o<l.length;o+=2){var f=l[o],m=l[o+1];f==="style"?x_(i,m):f==="dangerouslySetInnerHTML"?v_(i,m):f==="children"?El(i,m):lv(i,f,m,c)}switch(a){case"input":ag(i,s);break;case"textarea":g_(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?xa(i,!!s.multiple,x,!1):y!==!!s.multiple&&(s.defaultValue!=null?xa(i,!!s.multiple,s.defaultValue,!0):xa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nl]=s}catch(C){dt(t,t.return,C)}}break;case 6:if(cr(e,t),kr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){dt(t,t.return,C)}}break;case 3:if(cr(e,t),kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(e.containerInfo)}catch(C){dt(t,t.return,C)}break;case 4:cr(e,t),kr(t);break;case 13:cr(e,t),kr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uv=yt())),r&4&&$x(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(c=tn)||f,cr(e,t),tn=c):cr(e,t),kr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(oe=t,f=t.child;f!==null;){for(m=oe=f;oe!==null;){switch(y=oe,x=y.child,y.tag){case 0:case 11:case 14:case 15:al(4,y,y.return);break;case 1:da(y,y.return);var T=y.stateNode;if(typeof T.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(C){dt(r,n,C)}}break;case 5:da(y,y.return);break;case 22:if(y.memoizedState!==null){Vx(m);continue}}x!==null?(x.return=y,oe=x):Vx(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=w_("display",o))}catch(C){dt(t,t.return,C)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(C){dt(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:cr(e,t),kr(t),r&4&&$x(t);break;case 21:break;default:cr(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(El(i,""),r.flags&=-33);var s=Mx(t);Ug(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mx(t);Bg(t,a,o);break;default:throw Error(X(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y2(t,e,n){oe=t,QC(t)}function QC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tn;a=gh;var c=tn;if(gh=o,(tn=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?jx(i):l!==null?(l.return=o,oe=l):jx(i);for(;s!==null;)oe=s,QC(s),s=s.sibling;oe=i,gh=a,tn=c}Fx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):Fx(t)}}function Fx(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Sx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&kl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}tn||e.flags&512&&jg(e)}catch(y){dt(e,e.return,y)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Vx(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function jx(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vd(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var s=e.return;try{jg(e)}catch(l){dt(e,s,l)}break;case 5:var o=e.return;try{jg(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var J2=Math.ceil,Cf=xi.ReactCurrentDispatcher,jv=xi.ReactCurrentOwner,ir=xi.ReactCurrentBatchConfig,Le=0,Rt=null,_t=null,Gt=0,Fn=0,pa=ws(0),bt=0,Fl=null,ho=0,wd=0,Bv=0,ul=null,kn=null,Uv=0,Fa=1/0,Zr=null,If=!1,zg=null,Xi=null,yh=!1,Ui=null,kf=0,ll=0,qg=null,Kh=-1,Wh=0;function yn(){return Le&6?yt():Kh!==-1?Kh:Kh=yt()}function Yi(t){return t.mode&1?Le&2&&Gt!==0?Gt&-Gt:O2.transition!==null?(Wh===0&&(Wh=N_()),Wh):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:V_(t.type)),t):1}function gr(t,e,n,r){if(50<ll)throw ll=0,qg=null,Error(X(185));pc(t,n,r),(!(Le&2)||t!==Rt)&&(t===Rt&&(!(Le&2)&&(wd|=n),bt===4&&Fi(t,Gt)),Ln(t,r),n===1&&Le===0&&!(e.mode&1)&&(Fa=yt()+500,md&&xs()))}function Ln(t,e){var n=t.callbackNode;OR(t,e);var r=cf(t,t===Rt?Gt:0);if(r===0)n!==null&&Q1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Q1(n),e===1)t.tag===0?L2(Bx.bind(null,t)):iC(Bx.bind(null,t)),A2(function(){!(Le&6)&&xs()}),n=null;else{switch(R_(r)){case 1:n=pv;break;case 4:n=A_;break;case 16:n=lf;break;case 536870912:n=P_;break;default:n=lf}n=rI(n,XC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XC(t,e){if(Kh=-1,Wh=0,Le&6)throw Error(X(327));var n=t.callbackNode;if(Ca()&&t.callbackNode!==n)return null;var r=cf(t,t===Rt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bf(t,r);else{e=r;var i=Le;Le|=2;var s=JC();(Rt!==t||Gt!==e)&&(Zr=null,Fa=yt()+500,ro(t,e));do try{tL();break}catch(a){YC(t,a)}while(1);kv(),Cf.current=s,Le=i,_t!==null?e=0:(Rt=null,Gt=0,e=bt)}if(e!==0){if(e===2&&(i=yg(t),i!==0&&(r=i,e=Hg(t,i))),e===1)throw n=Fl,ro(t,0),Fi(t,r),Ln(t,yt()),n;if(e===6)Fi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z2(i)&&(e=bf(t,r),e===2&&(s=yg(t),s!==0&&(r=s,e=Hg(t,s))),e===1))throw n=Fl,ro(t,0),Fi(t,r),Ln(t,yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Vs(t,kn,Zr);break;case 3:if(Fi(t,r),(r&130023424)===r&&(e=Uv+500-yt(),10<e)){if(cf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cg(Vs.bind(null,t,kn,Zr),e);break}Vs(t,kn,Zr);break;case 4:if(Fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-mr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J2(r/1960))-r,10<r){t.timeoutHandle=Cg(Vs.bind(null,t,kn,Zr),r);break}Vs(t,kn,Zr);break;case 5:Vs(t,kn,Zr);break;default:throw Error(X(329))}}}return Ln(t,yt()),t.callbackNode===n?XC.bind(null,t):null}function Hg(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=bf(t,e),t!==2&&(e=kn,kn=n,e!==null&&Gg(e)),t}function Gg(t){kn===null?kn=t:kn.push.apply(kn,t)}function Z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fi(t,e){for(e&=~Bv,e&=~wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function Bx(t){if(Le&6)throw Error(X(327));Ca();var e=cf(t,0);if(!(e&1))return Ln(t,yt()),null;var n=bf(t,e);if(t.tag!==0&&n===2){var r=yg(t);r!==0&&(e=r,n=Hg(t,r))}if(n===1)throw n=Fl,ro(t,0),Fi(t,e),Ln(t,yt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,kn,Zr),Ln(t,yt()),null}function zv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Fa=yt()+500,md&&xs())}}function fo(t){Ui!==null&&Ui.tag===0&&!(Le&6)&&Ca();var e=Le;Le|=1;var n=ir.transition,r=Fe;try{if(ir.transition=null,Fe=1,t)return t()}finally{Fe=r,ir.transition=n,Le=e,!(Le&6)&&xs()}}function qv(){Fn=pa.current,Xe(pa)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D2(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(_v(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mf();break;case 3:Ma(),Xe(Nn),Xe(on),Rv();break;case 5:Nv(r);break;case 4:Ma();break;case 13:Xe(ot);break;case 19:Xe(ot);break;case 10:bv(r.type._context);break;case 22:case 23:qv()}n=n.return}if(Rt=t,_t=t=Ji(t.current,null),Gt=Fn=e,bt=0,Fl=null,Bv=wd=ho=0,kn=ul=null,Xs!==null){for(e=0;e<Xs.length;e++)if(n=Xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xs=null}return t}function YC(t,e){do{var n=_t;try{if(kv(),qh.current=_f,Ef){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ef=!1}if(co=0,Pt=It=lt=null,ol=!1,Ol=0,jv.current=null,n===null||n.return===null){bt=1,Fl=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=bx(o);if(x!==null){x.flags&=-257,Dx(x,o,a,s,e),x.mode&1&&kx(s,c,e),e=x,l=c;var T=e.updateQueue;if(T===null){var C=new Set;C.add(l),e.updateQueue=C}else T.add(l);break e}else{if(!(e&1)){kx(s,c,e),Hv();break e}l=Error(X(426))}}else if(et&&a.mode&1){var L=bx(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Dx(L,o,a,s,e),Cv($a(l,a));break e}}s=l=$a(l,a),bt!==4&&(bt=2),ul===null?ul=[s]:ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=LC(s,l,e);xx(s,E);break e;case 1:a=l;var _=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Xi===null||!Xi.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=OC(s,a,e);xx(s,P);break e}}s=s.return}while(s!==null)}eI(n)}catch(B){e=B,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function JC(){var t=Cf.current;return Cf.current=_f,t===null?_f:t}function Hv(){(bt===0||bt===3||bt===2)&&(bt=4),Rt===null||!(ho&268435455)&&!(wd&268435455)||Fi(Rt,Gt)}function bf(t,e){var n=Le;Le|=2;var r=JC();(Rt!==t||Gt!==e)&&(Zr=null,ro(t,e));do try{eL();break}catch(i){YC(t,i)}while(1);if(kv(),Le=n,Cf.current=r,_t!==null)throw Error(X(261));return Rt=null,Gt=0,bt}function eL(){for(;_t!==null;)ZC(_t)}function tL(){for(;_t!==null&&!IR();)ZC(_t)}function ZC(t){var e=nI(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?eI(t):_t=e,jv.current=null}function eI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=W2(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,_t=null;return}}else if(n=K2(n,e,Fn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);bt===0&&(bt=5)}function Vs(t,e,n){var r=Fe,i=ir.transition;try{ir.transition=null,Fe=1,nL(t,e,n,r)}finally{ir.transition=i,Fe=r}return null}function nL(t,e,n,r){do Ca();while(Ui!==null);if(Le&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MR(t,s),t===Rt&&(_t=Rt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yh||(yh=!0,rI(lf,function(){return Ca(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ir.transition,ir.transition=null;var o=Fe;Fe=1;var a=Le;Le|=4,jv.current=null,X2(t,n),WC(n,t),T2(Eg),hf=!!Tg,Eg=Tg=null,t.current=n,Y2(n),kR(),Le=a,Fe=o,ir.transition=s}else t.current=n;if(yh&&(yh=!1,Ui=t,kf=i),s=t.pendingLanes,s===0&&(Xi=null),AR(n.stateNode),Ln(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(If)throw If=!1,t=zg,zg=null,t;return kf&1&&t.tag!==0&&Ca(),s=t.pendingLanes,s&1?t===qg?ll++:(ll=0,qg=t):ll=0,xs(),null}function Ca(){if(Ui!==null){var t=R_(kf),e=ir.transition,n=Fe;try{if(ir.transition=null,Fe=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,kf=0,Le&6)throw Error(X(331));var i=Le;for(Le|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var f=oe;switch(f.tag){case 0:case 11:case 15:al(8,f,s)}var m=f.child;if(m!==null)m.return=f,oe=m;else for(;oe!==null;){f=oe;var y=f.sibling,x=f.return;if(HC(f),f===c){oe=null;break}if(y!==null){y.return=x,oe=y;break}oe=x}}}var T=s.alternate;if(T!==null){var C=T.child;if(C!==null){T.child=null;do{var L=C.sibling;C.sibling=null,C=L}while(C!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,oe=E;break e}oe=s.return}}var _=t.current;for(oe=_;oe!==null;){o=oe;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,oe=I;else e:for(o=_;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vd(9,a)}}catch(B){dt(a,a.return,B)}if(a===o){oe=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,oe=P;break e}oe=a.return}}if(Le=i,xs(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(cd,t)}catch{}r=!0}return r}finally{Fe=n,ir.transition=e}}return!1}function Ux(t,e,n){e=$a(n,e),e=LC(t,e,1),t=Qi(t,e,1),e=yn(),t!==null&&(pc(t,1,e),Ln(t,e))}function dt(t,e,n){if(t.tag===3)Ux(t,t,n);else for(;e!==null;){if(e.tag===3){Ux(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xi===null||!Xi.has(r))){t=$a(n,t),t=OC(e,t,1),e=Qi(e,t,1),t=yn(),e!==null&&(pc(e,1,t),Ln(e,t));break}}e=e.return}}function rL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Gt&n)===n&&(bt===4||bt===3&&(Gt&130023424)===Gt&&500>yt()-Uv?ro(t,0):Bv|=n),Ln(t,e)}function tI(t,e){e===0&&(t.mode&1?(e=ah,ah<<=1,!(ah&130023424)&&(ah=4194304)):e=1);var n=yn();t=pi(t,e),t!==null&&(pc(t,e,n),Ln(t,n))}function iL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tI(t,n)}function sL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),tI(t,n)}var nI;nI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,G2(t,e,n);bn=!!(t.flags&131072)}else bn=!1,et&&e.flags&1048576&&sC(e,vf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gh(t,e),t=e.pendingProps;var i=Ra(e,on.current);_a(e,n),i=Ov(null,e,r,t,i,n);var s=Mv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,gf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Av(e),i.updater=gd,e.stateNode=i,i._reactInternals=e,Ng(e,r,t,n),e=Og(null,e,r,!0,s,n)):(e.tag=0,et&&s&&Ev(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aL(r),t=hr(r,t),i){case 0:e=Lg(null,e,r,t,n);break e;case 1:e=Nx(null,e,r,t,n);break e;case 11:e=Ax(null,e,r,t,n);break e;case 14:e=Px(null,e,r,hr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),Lg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),Nx(t,e,r,i,n);case 3:e:{if(VC(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,lC(t,e),Sf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$a(Error(X(423)),e),e=Rx(t,e,r,n,i);break e}else if(r!==i){i=$a(Error(X(424)),e),e=Rx(t,e,r,n,i);break e}else for(jn=Wi(e.stateNode.containerInfo.firstChild),Bn=e,et=!0,dr=null,n=dC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=mi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return pC(e),t===null&&Dg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,_g(r,i)?o=null:s!==null&&_g(r,s)&&(e.flags|=32),FC(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&Dg(e),null;case 13:return jC(t,e,n);case 4:return Pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oa(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),Ax(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(wf,r._currentValue),r._currentValue=o,s!==null)if(vr(s.value,o)){if(s.children===i.children&&!Nn.current){e=mi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ai(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ag(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ag(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_a(e,n),i=sr(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=hr(r,e.pendingProps),i=hr(r.type,i),Px(t,e,r,i,n);case 15:return MC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),Gh(t,e),e.tag=1,Rn(r)?(t=!0,gf(e)):t=!1,_a(e,n),hC(e,r,i),Ng(e,r,i,n),Og(null,e,r,!0,t,n);case 19:return BC(t,e,n);case 22:return $C(t,e,n)}throw Error(X(156,e.tag))};function rI(t,e){return D_(t,e)}function oL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new oL(t,e,n,r)}function Gv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aL(t){if(typeof t=="function")return Gv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hv)return 11;if(t===fv)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ia:return io(n.children,i,s,e);case cv:o=8,i|=8;break;case ng:return t=tr(12,n,e,i|2),t.elementType=ng,t.lanes=s,t;case rg:return t=tr(13,n,e,i),t.elementType=rg,t.lanes=s,t;case ig:return t=tr(19,n,e,i),t.elementType=ig,t.lanes=s,t;case f_:return xd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c_:o=10;break e;case h_:o=9;break e;case hv:o=11;break e;case fv:o=14;break e;case Li:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=tr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function io(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function xd(t,e,n,r){return t=tr(22,t,r,e),t.elementType=f_,t.lanes=n,t.stateNode={isHidden:!1},t}function gm(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function ym(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kv(t,e,n,r,i,s,o,a,l){return t=new uL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(s),t}function lL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iI(t){if(!t)return is;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Rn(n))return rC(t,n,e)}return e}function sI(t,e,n,r,i,s,o,a,l){return t=Kv(n,r,!0,t,i,s,o,a,l),t.context=iI(null),n=t.current,r=yn(),i=Yi(n),s=ai(r,i),s.callback=e??null,Qi(n,s,i),t.current.lanes=i,pc(t,i,r),Ln(t,r),t}function Sd(t,e,n,r){var i=e.current,s=yn(),o=Yi(i);return n=iI(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qi(i,e,o),t!==null&&(gr(t,i,o,s),zh(t,i,o)),o}function Df(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wv(t,e){zx(t,e),(t=t.alternate)&&zx(t,e)}function cL(){return null}var oI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qv(t){this._internalRoot=t}Td.prototype.render=Qv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Sd(t,e,null,null)};Td.prototype.unmount=Qv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fo(function(){Sd(null,t,null,null)}),e[di]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=M_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&F_(t)}};function Xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qx(){}function hL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Df(o);s.call(c)}}var o=sI(e,r,t,0,null,!1,!1,"",qx);return t._reactRootContainer=o,t[di]=o.current,Al(t.nodeType===8?t.parentNode:t),fo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Df(l);a.call(c)}}var l=Kv(t,0,!1,null,null,!1,!1,"",qx);return t._reactRootContainer=l,t[di]=l.current,Al(t.nodeType===8?t.parentNode:t),fo(function(){Sd(e,l,n,r)}),l}function _d(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Df(o);a.call(l)}}Sd(e,o,t,i)}else o=hL(n,e,t,i,r);return Df(o)}L_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ku(e.pendingLanes);n!==0&&(mv(e,n|1),Ln(e,yt()),!(Le&6)&&(Fa=yt()+500,xs()))}break;case 13:fo(function(){var r=pi(t,1);if(r!==null){var i=yn();gr(r,t,1,i)}}),Wv(t,1)}};gv=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=yn();gr(e,t,134217728,n)}Wv(t,134217728)}};O_=function(t){if(t.tag===13){var e=Yi(t),n=pi(t,e);if(n!==null){var r=yn();gr(n,t,e,r)}Wv(t,e)}};M_=function(){return Fe};$_=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};pg=function(t,e,n){switch(e){case"input":if(ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pd(r);if(!i)throw Error(X(90));p_(r),ag(r,i)}}}break;case"textarea":g_(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};E_=zv;__=fo;var fL={usingClientEntryPoint:!1,Events:[gc,ua,pd,S_,T_,zv]},Ru={findFiberByHostInstance:Qs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dL={bundleType:Ru.bundleType,version:Ru.version,rendererPackageName:Ru.rendererPackageName,rendererConfig:Ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k_(t),t===null?null:t.stateNode},findFiberByHostInstance:Ru.findFiberByHostInstance||cL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{cd=vh.inject(dL),$r=vh}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fL;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xv(e))throw Error(X(200));return lL(t,e,null,n)};Gn.createRoot=function(t,e){if(!Xv(t))throw Error(X(299));var n=!1,r="",i=oI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kv(t,1,!1,null,null,n,!1,r,i),t[di]=e.current,Al(t.nodeType===8?t.parentNode:t),new Qv(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=k_(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return fo(t)};Gn.hydrate=function(t,e,n){if(!Ed(e))throw Error(X(200));return _d(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!Xv(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sI(e,null,t,1,n??null,i,!1,s,o),t[di]=e.current,Al(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Td(e)};Gn.render=function(t,e,n){if(!Ed(e))throw Error(X(200));return _d(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!Ed(t))throw Error(X(40));return t._reactRootContainer?(fo(function(){_d(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};Gn.unstable_batchedUpdates=zv;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ed(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return _d(t,e,n,!1,r)};Gn.version="18.2.0-next-9e3b772b8-20220608";function aI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aI)}catch(t){console.error(t)}}aI(),s_.exports=Gn;var pL=s_.exports,Hx=pL;eg.createRoot=Hx.createRoot,eg.hydrateRoot=Hx.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vl.apply(this,arguments)}var zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zi||(zi={}));const Gx="popstate";function mL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Kg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jl(i)}return vL(e,n,null,t)}function gL(){return Math.random().toString(36).substr(2,8)}function Kx(t){return{usr:t.state,key:t.key}}function Kg(t,e,n,r){return n===void 0&&(n=null),Vl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ru(e):e,{state:n,key:e&&e.key||r||gL()})}function jl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ru(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yL(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",n=typeof t=="string"?t:jl(t);return new URL(n,e)}function vL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zi.Pop,l=null;function c(){a=zi.Pop,l&&l({action:a,location:y.location})}function f(x,T){a=zi.Push;let C=Kg(y.location,x,T);n&&n(C,x);let L=Kx(C),E=y.createHref(C);try{o.pushState(L,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:y.location})}function m(x,T){a=zi.Replace;let C=Kg(y.location,x,T);n&&n(C,x);let L=Kx(C),E=y.createHref(C);o.replaceState(L,"",E),s&&l&&l({action:a,location:y.location})}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Gx,c),l=x,()=>{i.removeEventListener(Gx,c),l=null}},createHref(x){return e(i,x)},encodeLocation(x){let T=yL(jl(x));return Vl({},x,{pathname:T.pathname,search:T.search,hash:T.hash})},push:f,replace:m,go(x){return o.go(x)}};return y}var Wx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wx||(Wx={}));function wL(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ru(e):e,i=lI(r.pathname||"/",n);if(i==null)return null;let s=uI(t);xL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=DL(s[a],NL(i));return o}function uI(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(Lt(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=Zi([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(Lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),uI(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:kL(a,i.index),routesMeta:l})}),e}function xL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SL=/^:\w+$/,TL=3,EL=2,_L=1,CL=10,IL=-2,Qx=t=>t==="*";function kL(t,e){let n=t.split("/"),r=n.length;return n.some(Qx)&&(r+=IL),e&&(r+=EL),n.filter(i=>!Qx(i)).reduce((i,s)=>i+(SL.test(s)?TL:s===""?_L:CL),r)}function bL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=AL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!f)return null;Object.assign(r,f.params);let m=a.route;s.push({params:r,pathname:Zi([i,f.pathname]),pathnameBase:ML(Zi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Zi([i,f.pathnameBase]))}return s}function AL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,m)=>{if(f==="*"){let y=a[m]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return c[f]=RL(a[m]||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function PL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NL(t){try{return decodeURI(t)}catch(e){return Yv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function RL(t,e){try{return decodeURIComponent(t)}catch(n){return Yv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function lI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ru(t):t;return{pathname:n?n.startsWith("/")?n:OL(n,e):e,search:$L(r),hash:FL(i)}}function OL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ru(t):(i=Vl({},t),Lt(!i.pathname||!i.pathname.includes("?"),vm("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),vm("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),vm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let m=e.length-1;if(o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}a=m>=0?e[m]:"/"}let l=LL(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),ML=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$L=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class VL{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function jL(t){return t instanceof VL}const BL=new Set(["POST","PUT","PATCH","DELETE"]);[...BL];/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function UL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const zL=typeof Object.is=="function"?Object.is:UL,{useState:qL,useEffect:HL,useLayoutEffect:GL,useDebugValue:KL}=Zm;function WL(t,e,n){const r=e(),[{inst:i},s]=qL({inst:{value:r,getSnapshot:e}});return GL(()=>{i.value=r,i.getSnapshot=e,wm(i)&&s({inst:i})},[t,r,e]),HL(()=>(wm(i)&&s({inst:i}),t(()=>{wm(i)&&s({inst:i})})),[t]),KL(r),r}function wm(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!zL(n,r)}catch{return!0}}function QL(t,e,n){return e()}const XL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YL=!XL,JL=YL?QL:WL;"useSyncExternalStore"in Zm&&(t=>t.useSyncExternalStore)(Zm);const ZL=q.createContext(null),eO=q.createContext(null),Jv=q.createContext(null),Zv=q.createContext(null),Cd=q.createContext(null),bo=q.createContext({outlet:null,matches:[]}),fI=q.createContext(null);function tO(t,e){let{relative:n}=e===void 0?{}:e;vc()||Lt(!1);let{basename:r,navigator:i}=q.useContext(Zv),{hash:s,pathname:o,search:a}=t0(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vc(){return q.useContext(Cd)!=null}function Do(){return vc()||Lt(!1),q.useContext(Cd).location}function dI(){vc()||Lt(!1);let{basename:t,navigator:e}=q.useContext(Zv),{matches:n}=q.useContext(bo),{pathname:r}=Do(),i=JSON.stringify(cI(n).map(a=>a.pathnameBase)),s=q.useRef(!1);return q.useEffect(()=>{s.current=!0}),q.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=hI(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:Zi([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}const pI=q.createContext(null);function e0(){return q.useContext(pI)}function nO(t){let e=q.useContext(bo).outlet;return e&&q.createElement(pI.Provider,{value:t},e)}function mI(){let{matches:t}=q.useContext(bo),e=t[t.length-1];return e?e.params:{}}function t0(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=q.useContext(bo),{pathname:i}=Do(),s=JSON.stringify(cI(r).map(o=>o.pathnameBase));return q.useMemo(()=>hI(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function rO(t,e){vc()||Lt(!1);let n=q.useContext(Jv),{matches:r}=q.useContext(bo),i=r[r.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let a=Do(),l;if(e){var c;let T=typeof e=="string"?ru(e):e;o==="/"||(c=T.pathname)!=null&&c.startsWith(o)||Lt(!1),l=T}else l=a;let f=l.pathname||"/",m=o==="/"?f:f.slice(o.length)||"/",y=wL(t,{pathname:m}),x=aO(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},s,T.params),pathname:Zi([o,T.pathname]),pathnameBase:T.pathnameBase==="/"?o:Zi([o,T.pathnameBase])})),r,n||void 0);return e&&x?q.createElement(Cd.Provider,{value:{location:Wg({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:zi.Pop}},x):x}function iO(){let t=lO(),e=jL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unhandled Thrown Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",q.createElement("code",{style:s},"errorElement")," props on",q.createElement("code",{style:s},"<Route>")))}class sO extends q.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?q.createElement(fI.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function oO(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(ZL);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),q.createElement(bo.Provider,{value:e},r)}function aO(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Lt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||q.createElement(iO,null):null,f=()=>q.createElement(oO,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))}},l?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?q.createElement(sO,{location:n.location,component:c,error:l,children:f()}):f()},null)}var Xx;(function(t){t.UseRevalidator="useRevalidator"})(Xx||(Xx={}));var Qg;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Qg||(Qg={}));function uO(t){let e=q.useContext(Jv);return e||Lt(!1),e}function lO(){var t;let e=q.useContext(fI),n=uO(Qg.UseRouteError),r=q.useContext(bo),i=r.matches[r.matches.length-1];return e||(r||Lt(!1),i.route.id||Lt(!1),(t=n.errors)==null?void 0:t[i.route.id])}function n0(t){return nO(t.context)}function Bt(t){Lt(!1)}function cO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zi.Pop,navigator:s,static:o=!1}=t;vc()&&Lt(!1);let a=e.replace(/^\/*/,"/"),l=q.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ru(r));let{pathname:c="/",search:f="",hash:m="",state:y=null,key:x="default"}=r,T=q.useMemo(()=>{let C=lI(c,a);return C==null?null:{pathname:C,search:f,hash:m,state:y,key:x}},[a,c,f,m,y,x]);return T==null?null:q.createElement(Zv.Provider,{value:l},q.createElement(Cd.Provider,{children:n,value:{location:T,navigationType:i}}))}function hO(t){let{children:e,location:n}=t,r=q.useContext(eO),i=r&&!e?r.router.routes:Xg(e);return rO(i,n)}var Yx;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Yx||(Yx={}));new Promise(()=>{});function Xg(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;if(r.type===q.Fragment){n.push.apply(n,Xg(r.props.children,e));return}r.type!==Bt&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=Xg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}function gI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dO(t,e){return t.button===0&&(!e||e==="_self")&&!fO(t)}function Yg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function pO(t,e){let n=Yg(t);for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const mO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],gO=["aria-current","caseSensitive","className","end","style","to","children"];function yO(t){let{basename:e,children:n,window:r}=t,i=q.useRef();i.current==null&&(i.current=mL({window:r,v5Compat:!0}));let s=i.current,[o,a]=q.useState({action:s.action,location:s.location});return q.useLayoutEffect(()=>s.listen(a),[s]),q.createElement(cO,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const Ao=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f}=e,m=gI(e,mO),y=tO(c,{relative:i}),x=vO(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:i});function T(C){r&&r(C),C.defaultPrevented||x(C)}return q.createElement("a",Af({},m,{href:y,onClick:s?r:T,ref:n,target:l}))}),Vn=q.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,f=gI(e,gO),m=t0(l,{relative:f.relative}),y=Do(),x=q.useContext(Jv),T=m.pathname,C=y.pathname,L=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(C=C.toLowerCase(),L=L?L.toLowerCase():null,T=T.toLowerCase());let E=C===T||!o&&C.startsWith(T)&&C.charAt(T.length)==="/",_=L!=null&&(L===T||!o&&L.startsWith(T)&&L.charAt(T.length)==="/"),I=E?r:void 0,P;typeof s=="function"?P=s({isActive:E,isPending:_}):P=[s,E?"active":null,_?"pending":null].filter(Boolean).join(" ");let B=typeof a=="function"?a({isActive:E,isPending:_}):a;return q.createElement(Ao,Af({},f,{"aria-current":I,className:P,ref:n,style:B,to:l}),typeof c=="function"?c({isActive:E,isPending:_}):c)});var Jx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Jx||(Jx={}));var Zx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zx||(Zx={}));function vO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=dI(),l=Do(),c=t0(t,{relative:o});return q.useCallback(f=>{if(dO(f,n)){f.preventDefault();let m=r!==void 0?r:jl(l)===jl(c);a(t,{replace:m,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}function wO(t){let e=q.useRef(Yg(t)),n=Do(),r=q.useMemo(()=>pO(n.search,e.current),[n.search]),i=dI(),s=q.useCallback((o,a)=>{const l=Yg(typeof o=="function"?o(r):o);i("?"+l,a)},[i,r]);return[r,s]}function xO(){return R.jsx(R.Fragment,{})}async function SO(){return(await(await fetch("/api/vans")).json()).vans}function TO(){const[t,e]=wO(),[n,r]=yr.useState([]),i=t.get("type");yr.useEffect(()=>{async function l(){const c=await SO();r(c)}l()},[]);const o=(i?n.filter(l=>l.type===i):n).map(l=>R.jsx("div",{className:"van-tile",children:R.jsxs(Ao,{to:l.id,state:{search:`?${t.toString()}`,type:i},children:[R.jsx("img",{src:l.imageUrl}),R.jsxs("div",{className:"van-info",children:[R.jsx("h3",{children:l.name}),R.jsxs("p",{children:["$",l.price,R.jsx("span",{children:"/day"})]})]}),R.jsx("i",{className:`van-type ${l.type} selected`,children:l.type})]})},l.id));function a(l,c){e(f=>(c===null?f.delete(l):f.set(l,c),f))}return R.jsxs("div",{className:"van-list-container",children:[R.jsx("h1",{children:"Explore our van options"}),R.jsxs("div",{className:"van-list-filter-buttons",children:[R.jsx("button",{onClick:()=>a("type","simple"),className:`van-type simple 
                        ${i==="simple"?"selected":""}`,children:"Simple"}),R.jsx("button",{onClick:()=>a("type","luxury"),className:`van-type luxury 
                        ${i==="luxury"?"selected":""}`,children:"Luxury"}),R.jsx("button",{onClick:()=>a("type","rugged"),className:`van-type rugged 
                        ${i==="rugged"?"selected":""}`,children:"Rugged"}),i?R.jsx("button",{onClick:()=>a("type",null),className:"van-type clear-filters",children:"Clear filter"}):null]}),R.jsx("div",{className:"van-list",children:o})]})}function EO(){var o,a;const t=mI(),e=Do();console.log(e);const[n,r]=yr.useState(null);yr.useEffect(()=>{fetch(`/api/vans/${t.id}`).then(l=>l.json()).then(l=>r(l.vans))},[t.id]);const i=((o=e.state)==null?void 0:o.search)||"",s=((a=e.state)==null?void 0:a.type)||"all";return R.jsxs("div",{className:"van-detail-container",children:[R.jsxs(Ao,{to:`..${i}`,relative:"path",className:"back-button",children:[" ",R.jsxs("span",{children:["Back to ",s," vans"]})]}),n?R.jsxs("div",{className:"van-detail",children:[R.jsx("img",{src:n.imageUrl}),R.jsx("i",{className:`van-type ${n.type} selected`,children:n.type}),R.jsx("h2",{children:n.name}),R.jsxs("p",{className:"van-price",children:[R.jsxs("span",{children:["$",n.price]}),"/day"]}),R.jsx("p",{children:n.description}),R.jsx("button",{className:"link-button",children:"Rent this van"})]}):R.jsx("h2",{children:"Loading..."})]})}function _O(){return R.jsx("h1",{children:"Dashboard goes here"})}function CO(){return R.jsx("h1",{children:"Income page goes here"})}function IO(){return R.jsx("h1",{children:"Reviews page goes here"})}function kO(){const[t,e]=yr.useState([]);yr.useEffect(()=>{fetch("/api/host/vans").then(r=>r.json()).then(r=>e(r.vans))},[]);const n=t.map(r=>R.jsx(Ao,{to:r.id,className:"host-van-link-wrapper",children:R.jsxs("div",{className:"host-van-single",children:[R.jsx("img",{src:r.imageUrl,alt:`Photo of ${r.name}`}),R.jsxs("div",{className:"host-van-info",children:[R.jsx("h3",{children:r.name}),R.jsxs("p",{children:["$",r.price,"/day"]})]})]},r.id)},r.id));return R.jsxs("section",{children:[R.jsx("h1",{className:"host-vans-title",children:"Your listed vans"}),R.jsx("div",{className:"host-vans-list",children:t.length>0?R.jsx("section",{children:n}):R.jsx("h2",{children:"Loading..."})})]})}function bO(){const{id:t}=mI(),[e,n]=yr.useState(null),r={fontWeight:"bold",textDecoration:"underline",color:"#161616"};return yr.useEffect(()=>{fetch(`/api/host/vans/${t}`).then(i=>i.json()).then(i=>n(i.vans))},[]),e?R.jsxs("section",{children:[R.jsxs(Ao,{to:"..",relative:"path",className:"back-button",children:[" ",R.jsx("span",{children:"Back to all vans"})]}),R.jsxs("div",{className:"host-van-detail-layout-container",children:[R.jsxs("div",{className:"host-van-detail",children:[R.jsx("img",{src:e.imageUrl}),R.jsxs("div",{className:"host-van-detail-info-text",children:[R.jsx("i",{className:`van-type van-type-${e.type}`,children:e.type}),R.jsx("h3",{children:e.name}),R.jsxs("h4",{children:["$",e.price,"/day"]})]})]}),R.jsxs("nav",{className:"host-van-detail-nav",children:[R.jsx(Vn,{to:".",end:!0,style:({isActive:i})=>i?r:null,children:"Details"}),R.jsx(Vn,{to:"pricing",style:({isActive:i})=>i?r:null,children:"Pricing"}),R.jsx(Vn,{to:"photos",style:({isActive:i})=>i?r:null,children:"Photos"})]}),R.jsx(n0,{context:{currentVan:e}})]})]}):R.jsx("h1",{children:"Loading..."})}function DO(){const{currentVan:t}=e0();return R.jsxs("section",{className:"host-van-detail-info",children:[R.jsxs("h4",{children:["Name: ",R.jsx("span",{children:t.name})]}),R.jsxs("h4",{children:["Category: ",R.jsx("span",{children:t.type})]}),R.jsxs("h4",{children:["Description: ",R.jsx("span",{children:t.description})]}),R.jsxs("h4",{children:["Visibility: ",R.jsx("span",{children:"Public"})]})]})}function AO(){const{currentVan:t}=e0();return R.jsxs("h3",{className:"host-van-price",children:["$",t.price,R.jsx("span",{children:"/day"})]})}function PO(){const{currentVan:t}=e0();return R.jsx("img",{src:t.imageUrl,className:"host-van-detail-image"})}function NO(){return R.jsxs("div",{className:"not-found-container",children:[R.jsx("h1",{children:"Sorry, the page you were looking for was not found."}),R.jsx(Ao,{to:"/",className:"link-button",children:"Return to Home"})]})}function RO(){return R.jsxs("header",{children:[R.jsx(Ao,{className:"site-logo",to:"/",children:"Lin  Yao"}),R.jsxs("nav",{children:[R.jsx(Vn,{to:"/letter",children:" "}),R.jsx(Vn,{to:"/photos",children:""}),R.jsx(Vn,{to:"/",children:"(TBD)"}),R.jsx(Vn,{to:"/",children:"(TBD)"}),R.jsx(Vn,{to:"/",children:"(TBD)"}),R.jsx(Vn,{to:"/",children:"(TBD)"})]})]})}function LO(){return R.jsx("footer",{children:"Lin  Yao  2022.9.19"})}function OO(){return R.jsxs("div",{className:"site-wrapper",children:[R.jsx(RO,{}),R.jsx("main",{children:R.jsx(n0,{})}),R.jsx(LO,{})]})}function MO(){const t={fontWeight:"bold",textDecoration:"underline",color:"#161616"};return R.jsxs(R.Fragment,{children:[R.jsxs("nav",{className:"host-nav",children:[R.jsx(Vn,{to:".",end:!0,style:({isActive:e})=>e?t:null,children:"Dashboard"}),R.jsx(Vn,{to:"income",style:({isActive:e})=>e?t:null,children:"Income"}),R.jsx(Vn,{to:"vans",style:({isActive:e})=>e?t:null,children:"Vans"}),R.jsx(Vn,{to:"reviews",style:({isActive:e})=>e?t:null,children:"Reviews"})]}),R.jsx(n0,{})]})}const $O="/assets/-92642ed7.png";var yI={exports:{}};/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:zN,function(e,n){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(u){return r.flat.call(u)}:function(u){return r.concat.apply([],u)},a=r.push,l=r.indexOf,c={},f=c.toString,m=c.hasOwnProperty,y=m.toString,x=y.call(Object),T={},C=function(h){return typeof h=="function"&&typeof h.nodeType!="number"&&typeof h.item!="function"},L=function(h){return h!=null&&h===h.window},E=e.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function I(u,h,d){d=d||E;var g,v,w=d.createElement("script");if(w.text=u,h)for(g in _)v=h[g]||h.getAttribute&&h.getAttribute(g),v&&w.setAttribute(g,v);d.head.appendChild(w).parentNode.removeChild(w)}function P(u){return u==null?u+"":typeof u=="object"||typeof u=="function"?c[f.call(u)]||"object":typeof u}var B="3.7.0",G=/HTML$/i,p=function(u,h){return new p.fn.init(u,h)};p.fn=p.prototype={jquery:B,constructor:p,length:0,toArray:function(){return s.call(this)},get:function(u){return u==null?s.call(this):u<0?this[u+this.length]:this[u]},pushStack:function(u){var h=p.merge(this.constructor(),u);return h.prevObject=this,h},each:function(u){return p.each(this,u)},map:function(u){return this.pushStack(p.map(this,function(h,d){return u.call(h,d,h)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(u,h){return(h+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(u,h){return h%2}))},eq:function(u){var h=this.length,d=+u+(u<0?h:0);return this.pushStack(d>=0&&d<h?[this[d]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},p.extend=p.fn.extend=function(){var u,h,d,g,v,w,S=arguments[0]||{},D=1,b=arguments.length,N=!1;for(typeof S=="boolean"&&(N=S,S=arguments[D]||{},D++),typeof S!="object"&&!C(S)&&(S={}),D===b&&(S=this,D--);D<b;D++)if((u=arguments[D])!=null)for(h in u)g=u[h],!(h==="__proto__"||S===g)&&(N&&g&&(p.isPlainObject(g)||(v=Array.isArray(g)))?(d=S[h],v&&!Array.isArray(d)?w=[]:!v&&!p.isPlainObject(d)?w={}:w=d,v=!1,S[h]=p.extend(N,w,g)):g!==void 0&&(S[h]=g));return S},p.extend({expando:"jQuery"+(B+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isPlainObject:function(u){var h,d;return!u||f.call(u)!=="[object Object]"?!1:(h=i(u),h?(d=m.call(h,"constructor")&&h.constructor,typeof d=="function"&&y.call(d)===x):!0)},isEmptyObject:function(u){var h;for(h in u)return!1;return!0},globalEval:function(u,h,d){I(u,{nonce:h&&h.nonce},d)},each:function(u,h){var d,g=0;if(H(u))for(d=u.length;g<d&&h.call(u[g],g,u[g])!==!1;g++);else for(g in u)if(h.call(u[g],g,u[g])===!1)break;return u},text:function(u){var h,d="",g=0,v=u.nodeType;if(v){if(v===1||v===9||v===11)return u.textContent;if(v===3||v===4)return u.nodeValue}else for(;h=u[g++];)d+=p.text(h);return d},makeArray:function(u,h){var d=h||[];return u!=null&&(H(Object(u))?p.merge(d,typeof u=="string"?[u]:u):a.call(d,u)),d},inArray:function(u,h,d){return h==null?-1:l.call(h,u,d)},isXMLDoc:function(u){var h=u&&u.namespaceURI,d=u&&(u.ownerDocument||u).documentElement;return!G.test(h||d&&d.nodeName||"HTML")},merge:function(u,h){for(var d=+h.length,g=0,v=u.length;g<d;g++)u[v++]=h[g];return u.length=v,u},grep:function(u,h,d){for(var g,v=[],w=0,S=u.length,D=!d;w<S;w++)g=!h(u[w],w),g!==D&&v.push(u[w]);return v},map:function(u,h,d){var g,v,w=0,S=[];if(H(u))for(g=u.length;w<g;w++)v=h(u[w],w,d),v!=null&&S.push(v);else for(w in u)v=h(u[w],w,d),v!=null&&S.push(v);return o(S)},guid:1,support:T}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=r[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(u,h){c["[object "+h+"]"]=h.toLowerCase()});function H(u){var h=!!u&&"length"in u&&u.length,d=P(u);return C(u)||L(u)?!1:d==="array"||h===0||typeof h=="number"&&h>0&&h-1 in u}function Z(u,h){return u.nodeName&&u.nodeName.toLowerCase()===h.toLowerCase()}var me=r.pop,rt=r.sort,Xt=r.splice,Ee="[\\x20\\t\\r\\n\\f]",Ue=new RegExp("^"+Ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ee+"+$","g");p.contains=function(u,h){var d=h&&h.parentNode;return u===d||!!(d&&d.nodeType===1&&(u.contains?u.contains(d):u.compareDocumentPosition&&u.compareDocumentPosition(d)&16))};var it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Sn(u,h){return h?u==="\0"?"":u.slice(0,-1)+"\\"+u.charCodeAt(u.length-1).toString(16)+" ":"\\"+u}p.escapeSelector=function(u){return(u+"").replace(it,Sn)};var St=E,ie=a;(function(){var u,h,d,g,v,w=ie,S,D,b,N,j,z=p.expando,M=0,Q=0,ye=Yc(),Ae=Yc(),_e=Yc(),jt=Yc(),Ct=function(k,A){return k===A&&(v=!0),0},Tr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Er="(?:\\\\[\\da-fA-F]{1,6}"+Ee+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ke="\\["+Ee+"*("+Er+")(?:"+Ee+"*([*^$|!~]?=)"+Ee+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Er+"))|)"+Ee+"*\\]",Ls=":("+Er+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ke+")*)|.*)\\)|)",Re=new RegExp(Ee+"+","g"),ft=new RegExp("^"+Ee+"*,"+Ee+"*"),Eu=new RegExp("^"+Ee+"*([>+~]|"+Ee+")"+Ee+"*"),Vp=new RegExp(Ee+"|>"),_r=new RegExp(Ls),_u=new RegExp("^"+Er+"$"),Cr={ID:new RegExp("^#("+Er+")"),CLASS:new RegExp("^\\.("+Er+")"),TAG:new RegExp("^("+Er+"|[*])"),ATTR:new RegExp("^"+ke),PSEUDO:new RegExp("^"+Ls),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ee+"*(even|odd|(([+-]|)(\\d*)n|)"+Ee+"*(?:([+-]|)"+Ee+"*(\\d+)|))"+Ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Tr+")$","i"),needsContext:new RegExp("^"+Ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ee+"*((?:-\\d)?\\d*)"+Ee+"*\\)|)(?=[^-]|$)","i")},Ii=/^(?:input|select|textarea|button)$/i,ki=/^h\d$/i,Qn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,jp=/[+~]/,Yr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ee+"?|\\\\([^\\r\\n\\f])","g"),Jr=function(k,A){var O="0x"+k.slice(1)-65536;return A||(O<0?String.fromCharCode(O+65536):String.fromCharCode(O>>10|55296,O&1023|56320))},RN=function(){bi()},LN=eh(function(k){return k.disabled===!0&&Z(k,"fieldset")},{dir:"parentNode",next:"legend"});function ON(){try{return S.activeElement}catch{}}try{w.apply(r=s.call(St.childNodes),St.childNodes),r[St.childNodes.length].nodeType}catch{w={apply:function(A,O){ie.apply(A,s.call(O))},call:function(A){ie.apply(A,s.call(arguments,1))}}}function je(k,A,O,F){var U,Y,ne,ae,re,Ce,pe,ve=A&&A.ownerDocument,Ie=A?A.nodeType:9;if(O=O||[],typeof k!="string"||!k||Ie!==1&&Ie!==9&&Ie!==11)return O;if(!F&&(bi(A),A=A||S,b)){if(Ie!==11&&(re=Qn.exec(k)))if(U=re[1]){if(Ie===9)if(ne=A.getElementById(U)){if(ne.id===U)return w.call(O,ne),O}else return O;else if(ve&&(ne=ve.getElementById(U))&&je.contains(A,ne)&&ne.id===U)return w.call(O,ne),O}else{if(re[2])return w.apply(O,A.getElementsByTagName(k)),O;if((U=re[3])&&A.getElementsByClassName)return w.apply(O,A.getElementsByClassName(U)),O}if(!jt[k+" "]&&(!N||!N.test(k))){if(pe=k,ve=A,Ie===1&&(Vp.test(k)||Eu.test(k))){for(ve=jp.test(k)&&Bp(A.parentNode)||A,(ve!=A||!T.scope)&&((ae=A.getAttribute("id"))?ae=p.escapeSelector(ae):A.setAttribute("id",ae=z)),Ce=Jc(k),Y=Ce.length;Y--;)Ce[Y]=(ae?"#"+ae:":scope")+" "+Zc(Ce[Y]);pe=Ce.join(",")}try{return w.apply(O,ve.querySelectorAll(pe)),O}catch{jt(k,!0)}finally{ae===z&&A.removeAttribute("id")}}}return M1(k.replace(Ue,"$1"),A,O,F)}function Yc(){var k=[];function A(O,F){return k.push(O+" ")>h.cacheLength&&delete A[k.shift()],A[O+" "]=F}return A}function lr(k){return k[z]=!0,k}function Ko(k){var A=S.createElement("fieldset");try{return!!k(A)}catch{return!1}finally{A.parentNode&&A.parentNode.removeChild(A),A=null}}function MN(k){return function(A){return Z(A,"input")&&A.type===k}}function $N(k){return function(A){return(Z(A,"input")||Z(A,"button"))&&A.type===k}}function L1(k){return function(A){return"form"in A?A.parentNode&&A.disabled===!1?"label"in A?"label"in A.parentNode?A.parentNode.disabled===k:A.disabled===k:A.isDisabled===k||A.isDisabled!==!k&&LN(A)===k:A.disabled===k:"label"in A?A.disabled===k:!1}}function Os(k){return lr(function(A){return A=+A,lr(function(O,F){for(var U,Y=k([],O.length,A),ne=Y.length;ne--;)O[U=Y[ne]]&&(O[U]=!(F[U]=O[U]))})})}function Bp(k){return k&&typeof k.getElementsByTagName<"u"&&k}function bi(k){var A,O=k?k.ownerDocument||k:St;return O==S||O.nodeType!==9||!O.documentElement||(S=O,D=S.documentElement,b=!p.isXMLDoc(S),j=D.matches||D.webkitMatchesSelector||D.msMatchesSelector,St!=S&&(A=S.defaultView)&&A.top!==A&&A.addEventListener("unload",RN),T.getById=Ko(function(F){return D.appendChild(F).id=p.expando,!S.getElementsByName||!S.getElementsByName(p.expando).length}),T.disconnectedMatch=Ko(function(F){return j.call(F,"*")}),T.scope=Ko(function(){return S.querySelectorAll(":scope")}),T.cssHas=Ko(function(){try{return S.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.getById?(h.filter.ID=function(F){var U=F.replace(Yr,Jr);return function(Y){return Y.getAttribute("id")===U}},h.find.ID=function(F,U){if(typeof U.getElementById<"u"&&b){var Y=U.getElementById(F);return Y?[Y]:[]}}):(h.filter.ID=function(F){var U=F.replace(Yr,Jr);return function(Y){var ne=typeof Y.getAttributeNode<"u"&&Y.getAttributeNode("id");return ne&&ne.value===U}},h.find.ID=function(F,U){if(typeof U.getElementById<"u"&&b){var Y,ne,ae,re=U.getElementById(F);if(re){if(Y=re.getAttributeNode("id"),Y&&Y.value===F)return[re];for(ae=U.getElementsByName(F),ne=0;re=ae[ne++];)if(Y=re.getAttributeNode("id"),Y&&Y.value===F)return[re]}return[]}}),h.find.TAG=function(F,U){return typeof U.getElementsByTagName<"u"?U.getElementsByTagName(F):U.querySelectorAll(F)},h.find.CLASS=function(F,U){if(typeof U.getElementsByClassName<"u"&&b)return U.getElementsByClassName(F)},N=[],Ko(function(F){var U;D.appendChild(F).innerHTML="<a id='"+z+"' href='' disabled='disabled'></a><select id='"+z+"-\r\\' disabled='disabled'><option selected=''></option></select>",F.querySelectorAll("[selected]").length||N.push("\\["+Ee+"*(?:value|"+Tr+")"),F.querySelectorAll("[id~="+z+"-]").length||N.push("~="),F.querySelectorAll("a#"+z+"+*").length||N.push(".#.+[+~]"),F.querySelectorAll(":checked").length||N.push(":checked"),U=S.createElement("input"),U.setAttribute("type","hidden"),F.appendChild(U).setAttribute("name","D"),D.appendChild(F).disabled=!0,F.querySelectorAll(":disabled").length!==2&&N.push(":enabled",":disabled"),U=S.createElement("input"),U.setAttribute("name",""),F.appendChild(U),F.querySelectorAll("[name='']").length||N.push("\\["+Ee+"*name"+Ee+"*="+Ee+`*(?:''|"")`)}),T.cssHas||N.push(":has"),N=N.length&&new RegExp(N.join("|")),Ct=function(F,U){if(F===U)return v=!0,0;var Y=!F.compareDocumentPosition-!U.compareDocumentPosition;return Y||(Y=(F.ownerDocument||F)==(U.ownerDocument||U)?F.compareDocumentPosition(U):1,Y&1||!T.sortDetached&&U.compareDocumentPosition(F)===Y?F===S||F.ownerDocument==St&&je.contains(St,F)?-1:U===S||U.ownerDocument==St&&je.contains(St,U)?1:g?l.call(g,F)-l.call(g,U):0:Y&4?-1:1)}),S}je.matches=function(k,A){return je(k,null,null,A)},je.matchesSelector=function(k,A){if(bi(k),b&&!jt[A+" "]&&(!N||!N.test(A)))try{var O=j.call(k,A);if(O||T.disconnectedMatch||k.document&&k.document.nodeType!==11)return O}catch{jt(A,!0)}return je(A,S,null,[k]).length>0},je.contains=function(k,A){return(k.ownerDocument||k)!=S&&bi(k),p.contains(k,A)},je.attr=function(k,A){(k.ownerDocument||k)!=S&&bi(k);var O=h.attrHandle[A.toLowerCase()],F=O&&m.call(h.attrHandle,A.toLowerCase())?O(k,A,!b):void 0;return F!==void 0?F:k.getAttribute(A)},je.error=function(k){throw new Error("Syntax error, unrecognized expression: "+k)},p.uniqueSort=function(k){var A,O=[],F=0,U=0;if(v=!T.sortStable,g=!T.sortStable&&s.call(k,0),rt.call(k,Ct),v){for(;A=k[U++];)A===k[U]&&(F=O.push(U));for(;F--;)Xt.call(k,O[F],1)}return g=null,k},p.fn.uniqueSort=function(){return this.pushStack(p.uniqueSort(s.apply(this)))},h=p.expr={cacheLength:50,createPseudo:lr,match:Cr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(k){return k[1]=k[1].replace(Yr,Jr),k[3]=(k[3]||k[4]||k[5]||"").replace(Yr,Jr),k[2]==="~="&&(k[3]=" "+k[3]+" "),k.slice(0,4)},CHILD:function(k){return k[1]=k[1].toLowerCase(),k[1].slice(0,3)==="nth"?(k[3]||je.error(k[0]),k[4]=+(k[4]?k[5]+(k[6]||1):2*(k[3]==="even"||k[3]==="odd")),k[5]=+(k[7]+k[8]||k[3]==="odd")):k[3]&&je.error(k[0]),k},PSEUDO:function(k){var A,O=!k[6]&&k[2];return Cr.CHILD.test(k[0])?null:(k[3]?k[2]=k[4]||k[5]||"":O&&_r.test(O)&&(A=Jc(O,!0))&&(A=O.indexOf(")",O.length-A)-O.length)&&(k[0]=k[0].slice(0,A),k[2]=O.slice(0,A)),k.slice(0,3))}},filter:{TAG:function(k){var A=k.replace(Yr,Jr).toLowerCase();return k==="*"?function(){return!0}:function(O){return Z(O,A)}},CLASS:function(k){var A=ye[k+" "];return A||(A=new RegExp("(^|"+Ee+")"+k+"("+Ee+"|$)"))&&ye(k,function(O){return A.test(typeof O.className=="string"&&O.className||typeof O.getAttribute<"u"&&O.getAttribute("class")||"")})},ATTR:function(k,A,O){return function(F){var U=je.attr(F,k);return U==null?A==="!=":A?(U+="",A==="="?U===O:A==="!="?U!==O:A==="^="?O&&U.indexOf(O)===0:A==="*="?O&&U.indexOf(O)>-1:A==="$="?O&&U.slice(-O.length)===O:A==="~="?(" "+U.replace(Re," ")+" ").indexOf(O)>-1:A==="|="?U===O||U.slice(0,O.length+1)===O+"-":!1):!0}},CHILD:function(k,A,O,F,U){var Y=k.slice(0,3)!=="nth",ne=k.slice(-4)!=="last",ae=A==="of-type";return F===1&&U===0?function(re){return!!re.parentNode}:function(re,Ce,pe){var ve,Ie,he,qe,Cn,Yt=Y!==ne?"nextSibling":"previousSibling",Xn=re.parentNode,Ir=ae&&re.nodeName.toLowerCase(),Wo=!pe&&!ae,ln=!1;if(Xn){if(Y){for(;Yt;){for(he=re;he=he[Yt];)if(ae?Z(he,Ir):he.nodeType===1)return!1;Cn=Yt=k==="only"&&!Cn&&"nextSibling"}return!0}if(Cn=[ne?Xn.firstChild:Xn.lastChild],ne&&Wo){for(Ie=Xn[z]||(Xn[z]={}),ve=Ie[k]||[],qe=ve[0]===M&&ve[1],ln=qe&&ve[2],he=qe&&Xn.childNodes[qe];he=++qe&&he&&he[Yt]||(ln=qe=0)||Cn.pop();)if(he.nodeType===1&&++ln&&he===re){Ie[k]=[M,qe,ln];break}}else if(Wo&&(Ie=re[z]||(re[z]={}),ve=Ie[k]||[],qe=ve[0]===M&&ve[1],ln=qe),ln===!1)for(;(he=++qe&&he&&he[Yt]||(ln=qe=0)||Cn.pop())&&!((ae?Z(he,Ir):he.nodeType===1)&&++ln&&(Wo&&(Ie=he[z]||(he[z]={}),Ie[k]=[M,ln]),he===re)););return ln-=U,ln===F||ln%F===0&&ln/F>=0}}},PSEUDO:function(k,A){var O,F=h.pseudos[k]||h.setFilters[k.toLowerCase()]||je.error("unsupported pseudo: "+k);return F[z]?F(A):F.length>1?(O=[k,k,"",A],h.setFilters.hasOwnProperty(k.toLowerCase())?lr(function(U,Y){for(var ne,ae=F(U,A),re=ae.length;re--;)ne=l.call(U,ae[re]),U[ne]=!(Y[ne]=ae[re])}):function(U){return F(U,0,O)}):F}},pseudos:{not:lr(function(k){var A=[],O=[],F=Hp(k.replace(Ue,"$1"));return F[z]?lr(function(U,Y,ne,ae){for(var re,Ce=F(U,null,ae,[]),pe=U.length;pe--;)(re=Ce[pe])&&(U[pe]=!(Y[pe]=re))}):function(U,Y,ne){return A[0]=U,F(A,null,ne,O),A[0]=null,!O.pop()}}),has:lr(function(k){return function(A){return je(k,A).length>0}}),contains:lr(function(k){return k=k.replace(Yr,Jr),function(A){return(A.textContent||p.text(A)).indexOf(k)>-1}}),lang:lr(function(k){return _u.test(k||"")||je.error("unsupported lang: "+k),k=k.replace(Yr,Jr).toLowerCase(),function(A){var O;do if(O=b?A.lang:A.getAttribute("xml:lang")||A.getAttribute("lang"))return O=O.toLowerCase(),O===k||O.indexOf(k+"-")===0;while((A=A.parentNode)&&A.nodeType===1);return!1}}),target:function(k){var A=e.location&&e.location.hash;return A&&A.slice(1)===k.id},root:function(k){return k===D},focus:function(k){return k===ON()&&S.hasFocus()&&!!(k.type||k.href||~k.tabIndex)},enabled:L1(!1),disabled:L1(!0),checked:function(k){return Z(k,"input")&&!!k.checked||Z(k,"option")&&!!k.selected},selected:function(k){return k.parentNode&&k.parentNode.selectedIndex,k.selected===!0},empty:function(k){for(k=k.firstChild;k;k=k.nextSibling)if(k.nodeType<6)return!1;return!0},parent:function(k){return!h.pseudos.empty(k)},header:function(k){return ki.test(k.nodeName)},input:function(k){return Ii.test(k.nodeName)},button:function(k){return Z(k,"input")&&k.type==="button"||Z(k,"button")},text:function(k){var A;return Z(k,"input")&&k.type==="text"&&((A=k.getAttribute("type"))==null||A.toLowerCase()==="text")},first:Os(function(){return[0]}),last:Os(function(k,A){return[A-1]}),eq:Os(function(k,A,O){return[O<0?O+A:O]}),even:Os(function(k,A){for(var O=0;O<A;O+=2)k.push(O);return k}),odd:Os(function(k,A){for(var O=1;O<A;O+=2)k.push(O);return k}),lt:Os(function(k,A,O){var F;for(O<0?F=O+A:O>A?F=A:F=O;--F>=0;)k.push(F);return k}),gt:Os(function(k,A,O){for(var F=O<0?O+A:O;++F<A;)k.push(F);return k})}},h.pseudos.nth=h.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[u]=MN(u);for(u in{submit:!0,reset:!0})h.pseudos[u]=$N(u);function O1(){}O1.prototype=h.filters=h.pseudos,h.setFilters=new O1;function Jc(k,A){var O,F,U,Y,ne,ae,re,Ce=Ae[k+" "];if(Ce)return A?0:Ce.slice(0);for(ne=k,ae=[],re=h.preFilter;ne;){(!O||(F=ft.exec(ne)))&&(F&&(ne=ne.slice(F[0].length)||ne),ae.push(U=[])),O=!1,(F=Eu.exec(ne))&&(O=F.shift(),U.push({value:O,type:F[0].replace(Ue," ")}),ne=ne.slice(O.length));for(Y in h.filter)(F=Cr[Y].exec(ne))&&(!re[Y]||(F=re[Y](F)))&&(O=F.shift(),U.push({value:O,type:Y,matches:F}),ne=ne.slice(O.length));if(!O)break}return A?ne.length:ne?je.error(k):Ae(k,ae).slice(0)}function Zc(k){for(var A=0,O=k.length,F="";A<O;A++)F+=k[A].value;return F}function eh(k,A,O){var F=A.dir,U=A.next,Y=U||F,ne=O&&Y==="parentNode",ae=Q++;return A.first?function(re,Ce,pe){for(;re=re[F];)if(re.nodeType===1||ne)return k(re,Ce,pe);return!1}:function(re,Ce,pe){var ve,Ie,he=[M,ae];if(pe){for(;re=re[F];)if((re.nodeType===1||ne)&&k(re,Ce,pe))return!0}else for(;re=re[F];)if(re.nodeType===1||ne)if(Ie=re[z]||(re[z]={}),U&&Z(re,U))re=re[F]||re;else{if((ve=Ie[Y])&&ve[0]===M&&ve[1]===ae)return he[2]=ve[2];if(Ie[Y]=he,he[2]=k(re,Ce,pe))return!0}return!1}}function Up(k){return k.length>1?function(A,O,F){for(var U=k.length;U--;)if(!k[U](A,O,F))return!1;return!0}:k[0]}function FN(k,A,O){for(var F=0,U=A.length;F<U;F++)je(k,A[F],O);return O}function th(k,A,O,F,U){for(var Y,ne=[],ae=0,re=k.length,Ce=A!=null;ae<re;ae++)(Y=k[ae])&&(!O||O(Y,F,U))&&(ne.push(Y),Ce&&A.push(ae));return ne}function zp(k,A,O,F,U,Y){return F&&!F[z]&&(F=zp(F)),U&&!U[z]&&(U=zp(U,Y)),lr(function(ne,ae,re,Ce){var pe,ve,Ie,he,qe=[],Cn=[],Yt=ae.length,Xn=ne||FN(A||"*",re.nodeType?[re]:re,[]),Ir=k&&(ne||!A)?th(Xn,qe,k,re,Ce):Xn;if(O?(he=U||(ne?k:Yt||F)?[]:ae,O(Ir,he,re,Ce)):he=Ir,F)for(pe=th(he,Cn),F(pe,[],re,Ce),ve=pe.length;ve--;)(Ie=pe[ve])&&(he[Cn[ve]]=!(Ir[Cn[ve]]=Ie));if(ne){if(U||k){if(U){for(pe=[],ve=he.length;ve--;)(Ie=he[ve])&&pe.push(Ir[ve]=Ie);U(null,he=[],pe,Ce)}for(ve=he.length;ve--;)(Ie=he[ve])&&(pe=U?l.call(ne,Ie):qe[ve])>-1&&(ne[pe]=!(ae[pe]=Ie))}}else he=th(he===ae?he.splice(Yt,he.length):he),U?U(null,ae,he,Ce):w.apply(ae,he)})}function qp(k){for(var A,O,F,U=k.length,Y=h.relative[k[0].type],ne=Y||h.relative[" "],ae=Y?1:0,re=eh(function(ve){return ve===A},ne,!0),Ce=eh(function(ve){return l.call(A,ve)>-1},ne,!0),pe=[function(ve,Ie,he){var qe=!Y&&(he||Ie!=d)||((A=Ie).nodeType?re(ve,Ie,he):Ce(ve,Ie,he));return A=null,qe}];ae<U;ae++)if(O=h.relative[k[ae].type])pe=[eh(Up(pe),O)];else{if(O=h.filter[k[ae].type].apply(null,k[ae].matches),O[z]){for(F=++ae;F<U&&!h.relative[k[F].type];F++);return zp(ae>1&&Up(pe),ae>1&&Zc(k.slice(0,ae-1).concat({value:k[ae-2].type===" "?"*":""})).replace(Ue,"$1"),O,ae<F&&qp(k.slice(ae,F)),F<U&&qp(k=k.slice(F)),F<U&&Zc(k))}pe.push(O)}return Up(pe)}function VN(k,A){var O=A.length>0,F=k.length>0,U=function(Y,ne,ae,re,Ce){var pe,ve,Ie,he=0,qe="0",Cn=Y&&[],Yt=[],Xn=d,Ir=Y||F&&h.find.TAG("*",Ce),Wo=M+=Xn==null?1:Math.random()||.1,ln=Ir.length;for(Ce&&(d=ne==S||ne||Ce);qe!==ln&&(pe=Ir[qe])!=null;qe++){if(F&&pe){for(ve=0,!ne&&pe.ownerDocument!=S&&(bi(pe),ae=!b);Ie=k[ve++];)if(Ie(pe,ne||S,ae)){w.call(re,pe);break}Ce&&(M=Wo)}O&&((pe=!Ie&&pe)&&he--,Y&&Cn.push(pe))}if(he+=qe,O&&qe!==he){for(ve=0;Ie=A[ve++];)Ie(Cn,Yt,ne,ae);if(Y){if(he>0)for(;qe--;)Cn[qe]||Yt[qe]||(Yt[qe]=me.call(re));Yt=th(Yt)}w.apply(re,Yt),Ce&&!Y&&Yt.length>0&&he+A.length>1&&p.uniqueSort(re)}return Ce&&(M=Wo,d=Xn),Cn};return O?lr(U):U}function Hp(k,A){var O,F=[],U=[],Y=_e[k+" "];if(!Y){for(A||(A=Jc(k)),O=A.length;O--;)Y=qp(A[O]),Y[z]?F.push(Y):U.push(Y);Y=_e(k,VN(U,F)),Y.selector=k}return Y}function M1(k,A,O,F){var U,Y,ne,ae,re,Ce=typeof k=="function"&&k,pe=!F&&Jc(k=Ce.selector||k);if(O=O||[],pe.length===1){if(Y=pe[0]=pe[0].slice(0),Y.length>2&&(ne=Y[0]).type==="ID"&&A.nodeType===9&&b&&h.relative[Y[1].type]){if(A=(h.find.ID(ne.matches[0].replace(Yr,Jr),A)||[])[0],A)Ce&&(A=A.parentNode);else return O;k=k.slice(Y.shift().value.length)}for(U=Cr.needsContext.test(k)?0:Y.length;U--&&(ne=Y[U],!h.relative[ae=ne.type]);)if((re=h.find[ae])&&(F=re(ne.matches[0].replace(Yr,Jr),jp.test(Y[0].type)&&Bp(A.parentNode)||A))){if(Y.splice(U,1),k=F.length&&Zc(Y),!k)return w.apply(O,F),O;break}}return(Ce||Hp(k,pe))(F,A,!b,O,!A||jp.test(k)&&Bp(A.parentNode)||A),O}T.sortStable=z.split("").sort(Ct).join("")===z,bi(),T.sortDetached=Ko(function(k){return k.compareDocumentPosition(S.createElement("fieldset"))&1}),p.find=je,p.expr[":"]=p.expr.pseudos,p.unique=p.uniqueSort,je.compile=Hp,je.select=M1,je.setDocument=bi,je.escape=p.escapeSelector,je.getText=p.text,je.isXML=p.isXMLDoc,je.selectors=p.expr,je.support=p.support,je.uniqueSort=p.uniqueSort})();var fe=function(u,h,d){for(var g=[],v=d!==void 0;(u=u[h])&&u.nodeType!==9;)if(u.nodeType===1){if(v&&p(u).is(d))break;g.push(u)}return g},xe=function(u,h){for(var d=[];u;u=u.nextSibling)u.nodeType===1&&u!==h&&d.push(u);return d},ge=p.expr.match.needsContext,ze=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ar(u,h,d){return C(h)?p.grep(u,function(g,v){return!!h.call(g,v,g)!==d}):h.nodeType?p.grep(u,function(g){return g===h!==d}):typeof h!="string"?p.grep(u,function(g){return l.call(h,g)>-1!==d}):p.filter(h,u,d)}p.filter=function(u,h,d){var g=h[0];return d&&(u=":not("+u+")"),h.length===1&&g.nodeType===1?p.find.matchesSelector(g,u)?[g]:[]:p.find.matches(u,p.grep(h,function(v){return v.nodeType===1}))},p.fn.extend({find:function(u){var h,d,g=this.length,v=this;if(typeof u!="string")return this.pushStack(p(u).filter(function(){for(h=0;h<g;h++)if(p.contains(v[h],this))return!0}));for(d=this.pushStack([]),h=0;h<g;h++)p.find(u,v[h],d);return g>1?p.uniqueSort(d):d},filter:function(u){return this.pushStack(ar(this,u||[],!1))},not:function(u){return this.pushStack(ar(this,u||[],!0))},is:function(u){return!!ar(this,typeof u=="string"&&ge.test(u)?p(u):u||[],!1).length}});var $n,Ci=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,an=p.fn.init=function(u,h,d){var g,v;if(!u)return this;if(d=d||$n,typeof u=="string")if(u[0]==="<"&&u[u.length-1]===">"&&u.length>=3?g=[null,u,null]:g=Ci.exec(u),g&&(g[1]||!h))if(g[1]){if(h=h instanceof p?h[0]:h,p.merge(this,p.parseHTML(g[1],h&&h.nodeType?h.ownerDocument||h:E,!0)),ze.test(g[1])&&p.isPlainObject(h))for(g in h)C(this[g])?this[g](h[g]):this.attr(g,h[g]);return this}else return v=E.getElementById(g[2]),v&&(this[0]=v,this.length=1),this;else return!h||h.jquery?(h||d).find(u):this.constructor(h).find(u);else{if(u.nodeType)return this[0]=u,this.length=1,this;if(C(u))return d.ready!==void 0?d.ready(u):u(p)}return p.makeArray(u,this)};an.prototype=p.fn,$n=p(E);var Gr=/^(?:parents|prev(?:Until|All))/,Ep={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(u){var h=p(u,this),d=h.length;return this.filter(function(){for(var g=0;g<d;g++)if(p.contains(this,h[g]))return!0})},closest:function(u,h){var d,g=0,v=this.length,w=[],S=typeof u!="string"&&p(u);if(!ge.test(u)){for(;g<v;g++)for(d=this[g];d&&d!==h;d=d.parentNode)if(d.nodeType<11&&(S?S.index(d)>-1:d.nodeType===1&&p.find.matchesSelector(d,u))){w.push(d);break}}return this.pushStack(w.length>1?p.uniqueSort(w):w)},index:function(u){return u?typeof u=="string"?l.call(p(u),this[0]):l.call(this,u.jquery?u[0]:u):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,h){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(u,h))))},addBack:function(u){return this.add(u==null?this.prevObject:this.prevObject.filter(u))}});function jo(u,h){for(;(u=u[h])&&u.nodeType!==1;);return u}p.each({parent:function(u){var h=u.parentNode;return h&&h.nodeType!==11?h:null},parents:function(u){return fe(u,"parentNode")},parentsUntil:function(u,h,d){return fe(u,"parentNode",d)},next:function(u){return jo(u,"nextSibling")},prev:function(u){return jo(u,"previousSibling")},nextAll:function(u){return fe(u,"nextSibling")},prevAll:function(u){return fe(u,"previousSibling")},nextUntil:function(u,h,d){return fe(u,"nextSibling",d)},prevUntil:function(u,h,d){return fe(u,"previousSibling",d)},siblings:function(u){return xe((u.parentNode||{}).firstChild,u)},children:function(u){return xe(u.firstChild)},contents:function(u){return u.contentDocument!=null&&i(u.contentDocument)?u.contentDocument:(Z(u,"template")&&(u=u.content||u),p.merge([],u.childNodes))}},function(u,h){p.fn[u]=function(d,g){var v=p.map(this,h,d);return u.slice(-5)!=="Until"&&(g=d),g&&typeof g=="string"&&(v=p.filter(g,v)),this.length>1&&(Ep[u]||p.uniqueSort(v),Gr.test(u)&&v.reverse()),this.pushStack(v)}});var un=/[^\x20\t\r\n\f]+/g;function Kr(u){var h={};return p.each(u.match(un)||[],function(d,g){h[g]=!0}),h}p.Callbacks=function(u){u=typeof u=="string"?Kr(u):p.extend({},u);var h,d,g,v,w=[],S=[],D=-1,b=function(){for(v=v||u.once,g=h=!0;S.length;D=-1)for(d=S.shift();++D<w.length;)w[D].apply(d[0],d[1])===!1&&u.stopOnFalse&&(D=w.length,d=!1);u.memory||(d=!1),h=!1,v&&(d?w=[]:w="")},N={add:function(){return w&&(d&&!h&&(D=w.length-1,S.push(d)),function j(z){p.each(z,function(M,Q){C(Q)?(!u.unique||!N.has(Q))&&w.push(Q):Q&&Q.length&&P(Q)!=="string"&&j(Q)})}(arguments),d&&!h&&b()),this},remove:function(){return p.each(arguments,function(j,z){for(var M;(M=p.inArray(z,w,M))>-1;)w.splice(M,1),M<=D&&D--}),this},has:function(j){return j?p.inArray(j,w)>-1:w.length>0},empty:function(){return w&&(w=[]),this},disable:function(){return v=S=[],w=d="",this},disabled:function(){return!w},lock:function(){return v=S=[],!d&&!h&&(w=d=""),this},locked:function(){return!!v},fireWith:function(j,z){return v||(z=z||[],z=[j,z.slice?z.slice():z],S.push(z),h||b()),this},fire:function(){return N.fireWith(this,arguments),this},fired:function(){return!!g}};return N};function Wr(u){return u}function As(u){throw u}function n1(u,h,d,g){var v;try{u&&C(v=u.promise)?v.call(u).done(h).fail(d):u&&C(v=u.then)?v.call(u,h,d):h.apply(void 0,[u].slice(g))}catch(w){d.apply(void 0,[w])}}p.extend({Deferred:function(u){var h=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],d="pending",g={state:function(){return d},always:function(){return v.done(arguments).fail(arguments),this},catch:function(w){return g.then(null,w)},pipe:function(){var w=arguments;return p.Deferred(function(S){p.each(h,function(D,b){var N=C(w[b[4]])&&w[b[4]];v[b[1]](function(){var j=N&&N.apply(this,arguments);j&&C(j.promise)?j.promise().progress(S.notify).done(S.resolve).fail(S.reject):S[b[0]+"With"](this,N?[j]:arguments)})}),w=null}).promise()},then:function(w,S,D){var b=0;function N(j,z,M,Q){return function(){var ye=this,Ae=arguments,_e=function(){var Ct,Tr;if(!(j<b)){if(Ct=M.apply(ye,Ae),Ct===z.promise())throw new TypeError("Thenable self-resolution");Tr=Ct&&(typeof Ct=="object"||typeof Ct=="function")&&Ct.then,C(Tr)?Q?Tr.call(Ct,N(b,z,Wr,Q),N(b,z,As,Q)):(b++,Tr.call(Ct,N(b,z,Wr,Q),N(b,z,As,Q),N(b,z,Wr,z.notifyWith))):(M!==Wr&&(ye=void 0,Ae=[Ct]),(Q||z.resolveWith)(ye,Ae))}},jt=Q?_e:function(){try{_e()}catch(Ct){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(Ct,jt.error),j+1>=b&&(M!==As&&(ye=void 0,Ae=[Ct]),z.rejectWith(ye,Ae))}};j?jt():(p.Deferred.getErrorHook?jt.error=p.Deferred.getErrorHook():p.Deferred.getStackHook&&(jt.error=p.Deferred.getStackHook()),e.setTimeout(jt))}}return p.Deferred(function(j){h[0][3].add(N(0,j,C(D)?D:Wr,j.notifyWith)),h[1][3].add(N(0,j,C(w)?w:Wr)),h[2][3].add(N(0,j,C(S)?S:As))}).promise()},promise:function(w){return w!=null?p.extend(w,g):g}},v={};return p.each(h,function(w,S){var D=S[2],b=S[5];g[S[1]]=D.add,b&&D.add(function(){d=b},h[3-w][2].disable,h[3-w][3].disable,h[0][2].lock,h[0][3].lock),D.add(S[3].fire),v[S[0]]=function(){return v[S[0]+"With"](this===v?void 0:this,arguments),this},v[S[0]+"With"]=D.fireWith}),g.promise(v),u&&u.call(v,v),v},when:function(u){var h=arguments.length,d=h,g=Array(d),v=s.call(arguments),w=p.Deferred(),S=function(D){return function(b){g[D]=this,v[D]=arguments.length>1?s.call(arguments):b,--h||w.resolveWith(g,v)}};if(h<=1&&(n1(u,w.done(S(d)).resolve,w.reject,!h),w.state()==="pending"||C(v[d]&&v[d].then)))return w.then();for(;d--;)n1(v[d],S(d),w.reject);return w.promise()}});var qP=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(u,h){e.console&&e.console.warn&&u&&qP.test(u.name)&&e.console.warn("jQuery.Deferred exception: "+u.message,u.stack,h)},p.readyException=function(u){e.setTimeout(function(){throw u})};var _p=p.Deferred();p.fn.ready=function(u){return _p.then(u).catch(function(h){p.readyException(h)}),this},p.extend({isReady:!1,readyWait:1,ready:function(u){(u===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(u!==!0&&--p.readyWait>0)&&_p.resolveWith(E,[p]))}}),p.ready.then=_p.then;function Hc(){E.removeEventListener("DOMContentLoaded",Hc),e.removeEventListener("load",Hc),p.ready()}E.readyState==="complete"||E.readyState!=="loading"&&!E.documentElement.doScroll?e.setTimeout(p.ready):(E.addEventListener("DOMContentLoaded",Hc),e.addEventListener("load",Hc));var Qr=function(u,h,d,g,v,w,S){var D=0,b=u.length,N=d==null;if(P(d)==="object"){v=!0;for(D in d)Qr(u,h,D,d[D],!0,w,S)}else if(g!==void 0&&(v=!0,C(g)||(S=!0),N&&(S?(h.call(u,g),h=null):(N=h,h=function(j,z,M){return N.call(p(j),M)})),h))for(;D<b;D++)h(u[D],d,S?g:g.call(u[D],D,h(u[D],d)));return v?u:N?h.call(u):b?h(u[0],d):w},HP=/^-ms-/,GP=/-([a-z])/g;function KP(u,h){return h.toUpperCase()}function Sr(u){return u.replace(HP,"ms-").replace(GP,KP)}var mu=function(u){return u.nodeType===1||u.nodeType===9||!+u.nodeType};function gu(){this.expando=p.expando+gu.uid++}gu.uid=1,gu.prototype={cache:function(u){var h=u[this.expando];return h||(h={},mu(u)&&(u.nodeType?u[this.expando]=h:Object.defineProperty(u,this.expando,{value:h,configurable:!0}))),h},set:function(u,h,d){var g,v=this.cache(u);if(typeof h=="string")v[Sr(h)]=d;else for(g in h)v[Sr(g)]=h[g];return v},get:function(u,h){return h===void 0?this.cache(u):u[this.expando]&&u[this.expando][Sr(h)]},access:function(u,h,d){return h===void 0||h&&typeof h=="string"&&d===void 0?this.get(u,h):(this.set(u,h,d),d!==void 0?d:h)},remove:function(u,h){var d,g=u[this.expando];if(g!==void 0){if(h!==void 0)for(Array.isArray(h)?h=h.map(Sr):(h=Sr(h),h=h in g?[h]:h.match(un)||[]),d=h.length;d--;)delete g[h[d]];(h===void 0||p.isEmptyObject(g))&&(u.nodeType?u[this.expando]=void 0:delete u[this.expando])}},hasData:function(u){var h=u[this.expando];return h!==void 0&&!p.isEmptyObject(h)}};var ce=new gu,Tn=new gu,WP=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,QP=/[A-Z]/g;function XP(u){return u==="true"?!0:u==="false"?!1:u==="null"?null:u===+u+""?+u:WP.test(u)?JSON.parse(u):u}function r1(u,h,d){var g;if(d===void 0&&u.nodeType===1)if(g="data-"+h.replace(QP,"-$&").toLowerCase(),d=u.getAttribute(g),typeof d=="string"){try{d=XP(d)}catch{}Tn.set(u,h,d)}else d=void 0;return d}p.extend({hasData:function(u){return Tn.hasData(u)||ce.hasData(u)},data:function(u,h,d){return Tn.access(u,h,d)},removeData:function(u,h){Tn.remove(u,h)},_data:function(u,h,d){return ce.access(u,h,d)},_removeData:function(u,h){ce.remove(u,h)}}),p.fn.extend({data:function(u,h){var d,g,v,w=this[0],S=w&&w.attributes;if(u===void 0){if(this.length&&(v=Tn.get(w),w.nodeType===1&&!ce.get(w,"hasDataAttrs"))){for(d=S.length;d--;)S[d]&&(g=S[d].name,g.indexOf("data-")===0&&(g=Sr(g.slice(5)),r1(w,g,v[g])));ce.set(w,"hasDataAttrs",!0)}return v}return typeof u=="object"?this.each(function(){Tn.set(this,u)}):Qr(this,function(D){var b;if(w&&D===void 0)return b=Tn.get(w,u),b!==void 0||(b=r1(w,u),b!==void 0)?b:void 0;this.each(function(){Tn.set(this,u,D)})},null,h,arguments.length>1,null,!0)},removeData:function(u){return this.each(function(){Tn.remove(this,u)})}}),p.extend({queue:function(u,h,d){var g;if(u)return h=(h||"fx")+"queue",g=ce.get(u,h),d&&(!g||Array.isArray(d)?g=ce.access(u,h,p.makeArray(d)):g.push(d)),g||[]},dequeue:function(u,h){h=h||"fx";var d=p.queue(u,h),g=d.length,v=d.shift(),w=p._queueHooks(u,h),S=function(){p.dequeue(u,h)};v==="inprogress"&&(v=d.shift(),g--),v&&(h==="fx"&&d.unshift("inprogress"),delete w.stop,v.call(u,S,w)),!g&&w&&w.empty.fire()},_queueHooks:function(u,h){var d=h+"queueHooks";return ce.get(u,d)||ce.access(u,d,{empty:p.Callbacks("once memory").add(function(){ce.remove(u,[h+"queue",d])})})}}),p.fn.extend({queue:function(u,h){var d=2;return typeof u!="string"&&(h=u,u="fx",d--),arguments.length<d?p.queue(this[0],u):h===void 0?this:this.each(function(){var g=p.queue(this,u,h);p._queueHooks(this,u),u==="fx"&&g[0]!=="inprogress"&&p.dequeue(this,u)})},dequeue:function(u){return this.each(function(){p.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,h){var d,g=1,v=p.Deferred(),w=this,S=this.length,D=function(){--g||v.resolveWith(w,[w])};for(typeof u!="string"&&(h=u,u=void 0),u=u||"fx";S--;)d=ce.get(w[S],u+"queueHooks"),d&&d.empty&&(g++,d.empty.add(D));return D(),v.promise(h)}});var i1=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yu=new RegExp("^(?:([+-])=|)("+i1+")([a-z%]*)$","i"),Xr=["Top","Right","Bottom","Left"],Ps=E.documentElement,Bo=function(u){return p.contains(u.ownerDocument,u)},YP={composed:!0};Ps.getRootNode&&(Bo=function(u){return p.contains(u.ownerDocument,u)||u.getRootNode(YP)===u.ownerDocument});var Gc=function(u,h){return u=h||u,u.style.display==="none"||u.style.display===""&&Bo(u)&&p.css(u,"display")==="none"};function s1(u,h,d,g){var v,w,S=20,D=g?function(){return g.cur()}:function(){return p.css(u,h,"")},b=D(),N=d&&d[3]||(p.cssNumber[h]?"":"px"),j=u.nodeType&&(p.cssNumber[h]||N!=="px"&&+b)&&yu.exec(p.css(u,h));if(j&&j[3]!==N){for(b=b/2,N=N||j[3],j=+b||1;S--;)p.style(u,h,j+N),(1-w)*(1-(w=D()/b||.5))<=0&&(S=0),j=j/w;j=j*2,p.style(u,h,j+N),d=d||[]}return d&&(j=+j||+b||0,v=d[1]?j+(d[1]+1)*d[2]:+d[2],g&&(g.unit=N,g.start=j,g.end=v)),v}var o1={};function JP(u){var h,d=u.ownerDocument,g=u.nodeName,v=o1[g];return v||(h=d.body.appendChild(d.createElement(g)),v=p.css(h,"display"),h.parentNode.removeChild(h),v==="none"&&(v="block"),o1[g]=v,v)}function Uo(u,h){for(var d,g,v=[],w=0,S=u.length;w<S;w++)g=u[w],g.style&&(d=g.style.display,h?(d==="none"&&(v[w]=ce.get(g,"display")||null,v[w]||(g.style.display="")),g.style.display===""&&Gc(g)&&(v[w]=JP(g))):d!=="none"&&(v[w]="none",ce.set(g,"display",d)));for(w=0;w<S;w++)v[w]!=null&&(u[w].style.display=v[w]);return u}p.fn.extend({show:function(){return Uo(this,!0)},hide:function(){return Uo(this)},toggle:function(u){return typeof u=="boolean"?u?this.show():this.hide():this.each(function(){Gc(this)?p(this).show():p(this).hide()})}});var vu=/^(?:checkbox|radio)$/i,a1=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,u1=/^$|^module$|\/(?:java|ecma)script/i;(function(){var u=E.createDocumentFragment(),h=u.appendChild(E.createElement("div")),d=E.createElement("input");d.setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),h.appendChild(d),T.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",T.option=!!h.lastChild})();var Wn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wn.tbody=Wn.tfoot=Wn.colgroup=Wn.caption=Wn.thead,Wn.th=Wn.td,T.option||(Wn.optgroup=Wn.option=[1,"<select multiple='multiple'>","</select>"]);function En(u,h){var d;return typeof u.getElementsByTagName<"u"?d=u.getElementsByTagName(h||"*"):typeof u.querySelectorAll<"u"?d=u.querySelectorAll(h||"*"):d=[],h===void 0||h&&Z(u,h)?p.merge([u],d):d}function Cp(u,h){for(var d=0,g=u.length;d<g;d++)ce.set(u[d],"globalEval",!h||ce.get(h[d],"globalEval"))}var ZP=/<|&#?\w+;/;function l1(u,h,d,g,v){for(var w,S,D,b,N,j,z=h.createDocumentFragment(),M=[],Q=0,ye=u.length;Q<ye;Q++)if(w=u[Q],w||w===0)if(P(w)==="object")p.merge(M,w.nodeType?[w]:w);else if(!ZP.test(w))M.push(h.createTextNode(w));else{for(S=S||z.appendChild(h.createElement("div")),D=(a1.exec(w)||["",""])[1].toLowerCase(),b=Wn[D]||Wn._default,S.innerHTML=b[1]+p.htmlPrefilter(w)+b[2],j=b[0];j--;)S=S.lastChild;p.merge(M,S.childNodes),S=z.firstChild,S.textContent=""}for(z.textContent="",Q=0;w=M[Q++];){if(g&&p.inArray(w,g)>-1){v&&v.push(w);continue}if(N=Bo(w),S=En(z.appendChild(w),"script"),N&&Cp(S),d)for(j=0;w=S[j++];)u1.test(w.type||"")&&d.push(w)}return z}var c1=/^([^.]*)(?:\.(.+)|)/;function zo(){return!0}function qo(){return!1}function Ip(u,h,d,g,v,w){var S,D;if(typeof h=="object"){typeof d!="string"&&(g=g||d,d=void 0);for(D in h)Ip(u,D,d,g,h[D],w);return u}if(g==null&&v==null?(v=d,g=d=void 0):v==null&&(typeof d=="string"?(v=g,g=void 0):(v=g,g=d,d=void 0)),v===!1)v=qo;else if(!v)return u;return w===1&&(S=v,v=function(b){return p().off(b),S.apply(this,arguments)},v.guid=S.guid||(S.guid=p.guid++)),u.each(function(){p.event.add(this,h,v,g,d)})}p.event={global:{},add:function(u,h,d,g,v){var w,S,D,b,N,j,z,M,Q,ye,Ae,_e=ce.get(u);if(mu(u))for(d.handler&&(w=d,d=w.handler,v=w.selector),v&&p.find.matchesSelector(Ps,v),d.guid||(d.guid=p.guid++),(b=_e.events)||(b=_e.events=Object.create(null)),(S=_e.handle)||(S=_e.handle=function(jt){return typeof p<"u"&&p.event.triggered!==jt.type?p.event.dispatch.apply(u,arguments):void 0}),h=(h||"").match(un)||[""],N=h.length;N--;)D=c1.exec(h[N])||[],Q=Ae=D[1],ye=(D[2]||"").split(".").sort(),Q&&(z=p.event.special[Q]||{},Q=(v?z.delegateType:z.bindType)||Q,z=p.event.special[Q]||{},j=p.extend({type:Q,origType:Ae,data:g,handler:d,guid:d.guid,selector:v,needsContext:v&&p.expr.match.needsContext.test(v),namespace:ye.join(".")},w),(M=b[Q])||(M=b[Q]=[],M.delegateCount=0,(!z.setup||z.setup.call(u,g,ye,S)===!1)&&u.addEventListener&&u.addEventListener(Q,S)),z.add&&(z.add.call(u,j),j.handler.guid||(j.handler.guid=d.guid)),v?M.splice(M.delegateCount++,0,j):M.push(j),p.event.global[Q]=!0)},remove:function(u,h,d,g,v){var w,S,D,b,N,j,z,M,Q,ye,Ae,_e=ce.hasData(u)&&ce.get(u);if(!(!_e||!(b=_e.events))){for(h=(h||"").match(un)||[""],N=h.length;N--;){if(D=c1.exec(h[N])||[],Q=Ae=D[1],ye=(D[2]||"").split(".").sort(),!Q){for(Q in b)p.event.remove(u,Q+h[N],d,g,!0);continue}for(z=p.event.special[Q]||{},Q=(g?z.delegateType:z.bindType)||Q,M=b[Q]||[],D=D[2]&&new RegExp("(^|\\.)"+ye.join("\\.(?:.*\\.|)")+"(\\.|$)"),S=w=M.length;w--;)j=M[w],(v||Ae===j.origType)&&(!d||d.guid===j.guid)&&(!D||D.test(j.namespace))&&(!g||g===j.selector||g==="**"&&j.selector)&&(M.splice(w,1),j.selector&&M.delegateCount--,z.remove&&z.remove.call(u,j));S&&!M.length&&((!z.teardown||z.teardown.call(u,ye,_e.handle)===!1)&&p.removeEvent(u,Q,_e.handle),delete b[Q])}p.isEmptyObject(b)&&ce.remove(u,"handle events")}},dispatch:function(u){var h,d,g,v,w,S,D=new Array(arguments.length),b=p.event.fix(u),N=(ce.get(this,"events")||Object.create(null))[b.type]||[],j=p.event.special[b.type]||{};for(D[0]=b,h=1;h<arguments.length;h++)D[h]=arguments[h];if(b.delegateTarget=this,!(j.preDispatch&&j.preDispatch.call(this,b)===!1)){for(S=p.event.handlers.call(this,b,N),h=0;(v=S[h++])&&!b.isPropagationStopped();)for(b.currentTarget=v.elem,d=0;(w=v.handlers[d++])&&!b.isImmediatePropagationStopped();)(!b.rnamespace||w.namespace===!1||b.rnamespace.test(w.namespace))&&(b.handleObj=w,b.data=w.data,g=((p.event.special[w.origType]||{}).handle||w.handler).apply(v.elem,D),g!==void 0&&(b.result=g)===!1&&(b.preventDefault(),b.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,b),b.result}},handlers:function(u,h){var d,g,v,w,S,D=[],b=h.delegateCount,N=u.target;if(b&&N.nodeType&&!(u.type==="click"&&u.button>=1)){for(;N!==this;N=N.parentNode||this)if(N.nodeType===1&&!(u.type==="click"&&N.disabled===!0)){for(w=[],S={},d=0;d<b;d++)g=h[d],v=g.selector+" ",S[v]===void 0&&(S[v]=g.needsContext?p(v,this).index(N)>-1:p.find(v,this,null,[N]).length),S[v]&&w.push(g);w.length&&D.push({elem:N,handlers:w})}}return N=this,b<h.length&&D.push({elem:N,handlers:h.slice(b)}),D},addProp:function(u,h){Object.defineProperty(p.Event.prototype,u,{enumerable:!0,configurable:!0,get:C(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[u]},set:function(d){Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,value:d})}})},fix:function(u){return u[p.expando]?u:new p.Event(u)},special:{load:{noBubble:!0},click:{setup:function(u){var h=this||u;return vu.test(h.type)&&h.click&&Z(h,"input")&&Kc(h,"click",!0),!1},trigger:function(u){var h=this||u;return vu.test(h.type)&&h.click&&Z(h,"input")&&Kc(h,"click"),!0},_default:function(u){var h=u.target;return vu.test(h.type)&&h.click&&Z(h,"input")&&ce.get(h,"click")||Z(h,"a")}},beforeunload:{postDispatch:function(u){u.result!==void 0&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}}};function Kc(u,h,d){if(!d){ce.get(u,h)===void 0&&p.event.add(u,h,zo);return}ce.set(u,h,!1),p.event.add(u,h,{namespace:!1,handler:function(g){var v,w=ce.get(this,h);if(g.isTrigger&1&&this[h]){if(w)(p.event.special[h]||{}).delegateType&&g.stopPropagation();else if(w=s.call(arguments),ce.set(this,h,w),this[h](),v=ce.get(this,h),ce.set(this,h,!1),w!==v)return g.stopImmediatePropagation(),g.preventDefault(),v}else w&&(ce.set(this,h,p.event.trigger(w[0],w.slice(1),this)),g.stopPropagation(),g.isImmediatePropagationStopped=zo)}})}p.removeEvent=function(u,h,d){u.removeEventListener&&u.removeEventListener(h,d)},p.Event=function(u,h){if(!(this instanceof p.Event))return new p.Event(u,h);u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===void 0&&u.returnValue===!1?zo:qo,this.target=u.target&&u.target.nodeType===3?u.target.parentNode:u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget):this.type=u,h&&p.extend(this,h),this.timeStamp=u&&u.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:qo,isPropagationStopped:qo,isImmediatePropagationStopped:qo,isSimulated:!1,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=zo,u&&!this.isSimulated&&u.preventDefault()},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=zo,u&&!this.isSimulated&&u.stopPropagation()},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=zo,u&&!this.isSimulated&&u.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(u,h){function d(g){if(E.documentMode){var v=ce.get(this,"handle"),w=p.event.fix(g);w.type=g.type==="focusin"?"focus":"blur",w.isSimulated=!0,v(g),w.target===w.currentTarget&&v(w)}else p.event.simulate(h,g.target,p.event.fix(g))}p.event.special[u]={setup:function(){var g;if(Kc(this,u,!0),E.documentMode)g=ce.get(this,h),g||this.addEventListener(h,d),ce.set(this,h,(g||0)+1);else return!1},trigger:function(){return Kc(this,u),!0},teardown:function(){var g;if(E.documentMode)g=ce.get(this,h)-1,g?ce.set(this,h,g):(this.removeEventListener(h,d),ce.remove(this,h));else return!1},_default:function(g){return ce.get(g.target,u)},delegateType:h},p.event.special[h]={setup:function(){var g=this.ownerDocument||this.document||this,v=E.documentMode?this:g,w=ce.get(v,h);w||(E.documentMode?this.addEventListener(h,d):g.addEventListener(u,d,!0)),ce.set(v,h,(w||0)+1)},teardown:function(){var g=this.ownerDocument||this.document||this,v=E.documentMode?this:g,w=ce.get(v,h)-1;w?ce.set(v,h,w):(E.documentMode?this.removeEventListener(h,d):g.removeEventListener(u,d,!0),ce.remove(v,h))}}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,h){p.event.special[u]={delegateType:h,bindType:h,handle:function(d){var g,v=this,w=d.relatedTarget,S=d.handleObj;return(!w||w!==v&&!p.contains(v,w))&&(d.type=S.origType,g=S.handler.apply(this,arguments),d.type=h),g}}}),p.fn.extend({on:function(u,h,d,g){return Ip(this,u,h,d,g)},one:function(u,h,d,g){return Ip(this,u,h,d,g,1)},off:function(u,h,d){var g,v;if(u&&u.preventDefault&&u.handleObj)return g=u.handleObj,p(u.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if(typeof u=="object"){for(v in u)this.off(v,h,u[v]);return this}return(h===!1||typeof h=="function")&&(d=h,h=void 0),d===!1&&(d=qo),this.each(function(){p.event.remove(this,u,d,h)})}});var eN=/<script|<style|<link/i,tN=/checked\s*(?:[^=]|=\s*.checked.)/i,nN=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function h1(u,h){return Z(u,"table")&&Z(h.nodeType!==11?h:h.firstChild,"tr")&&p(u).children("tbody")[0]||u}function rN(u){return u.type=(u.getAttribute("type")!==null)+"/"+u.type,u}function iN(u){return(u.type||"").slice(0,5)==="true/"?u.type=u.type.slice(5):u.removeAttribute("type"),u}function f1(u,h){var d,g,v,w,S,D,b;if(h.nodeType===1){if(ce.hasData(u)&&(w=ce.get(u),b=w.events,b)){ce.remove(h,"handle events");for(v in b)for(d=0,g=b[v].length;d<g;d++)p.event.add(h,v,b[v][d])}Tn.hasData(u)&&(S=Tn.access(u),D=p.extend({},S),Tn.set(h,D))}}function sN(u,h){var d=h.nodeName.toLowerCase();d==="input"&&vu.test(u.type)?h.checked=u.checked:(d==="input"||d==="textarea")&&(h.defaultValue=u.defaultValue)}function Ho(u,h,d,g){h=o(h);var v,w,S,D,b,N,j=0,z=u.length,M=z-1,Q=h[0],ye=C(Q);if(ye||z>1&&typeof Q=="string"&&!T.checkClone&&tN.test(Q))return u.each(function(Ae){var _e=u.eq(Ae);ye&&(h[0]=Q.call(this,Ae,_e.html())),Ho(_e,h,d,g)});if(z&&(v=l1(h,u[0].ownerDocument,!1,u,g),w=v.firstChild,v.childNodes.length===1&&(v=w),w||g)){for(S=p.map(En(v,"script"),rN),D=S.length;j<z;j++)b=v,j!==M&&(b=p.clone(b,!0,!0),D&&p.merge(S,En(b,"script"))),d.call(u[j],b,j);if(D)for(N=S[S.length-1].ownerDocument,p.map(S,iN),j=0;j<D;j++)b=S[j],u1.test(b.type||"")&&!ce.access(b,"globalEval")&&p.contains(N,b)&&(b.src&&(b.type||"").toLowerCase()!=="module"?p._evalUrl&&!b.noModule&&p._evalUrl(b.src,{nonce:b.nonce||b.getAttribute("nonce")},N):I(b.textContent.replace(nN,""),b,N))}return u}function d1(u,h,d){for(var g,v=h?p.filter(h,u):u,w=0;(g=v[w])!=null;w++)!d&&g.nodeType===1&&p.cleanData(En(g)),g.parentNode&&(d&&Bo(g)&&Cp(En(g,"script")),g.parentNode.removeChild(g));return u}p.extend({htmlPrefilter:function(u){return u},clone:function(u,h,d){var g,v,w,S,D=u.cloneNode(!0),b=Bo(u);if(!T.noCloneChecked&&(u.nodeType===1||u.nodeType===11)&&!p.isXMLDoc(u))for(S=En(D),w=En(u),g=0,v=w.length;g<v;g++)sN(w[g],S[g]);if(h)if(d)for(w=w||En(u),S=S||En(D),g=0,v=w.length;g<v;g++)f1(w[g],S[g]);else f1(u,D);return S=En(D,"script"),S.length>0&&Cp(S,!b&&En(u,"script")),D},cleanData:function(u){for(var h,d,g,v=p.event.special,w=0;(d=u[w])!==void 0;w++)if(mu(d)){if(h=d[ce.expando]){if(h.events)for(g in h.events)v[g]?p.event.remove(d,g):p.removeEvent(d,g,h.handle);d[ce.expando]=void 0}d[Tn.expando]&&(d[Tn.expando]=void 0)}}}),p.fn.extend({detach:function(u){return d1(this,u,!0)},remove:function(u){return d1(this,u)},text:function(u){return Qr(this,function(h){return h===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=h)})},null,u,arguments.length)},append:function(){return Ho(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=h1(this,u);h.appendChild(u)}})},prepend:function(){return Ho(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=h1(this,u);h.insertBefore(u,h.firstChild)}})},before:function(){return Ho(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return Ho(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},empty:function(){for(var u,h=0;(u=this[h])!=null;h++)u.nodeType===1&&(p.cleanData(En(u,!1)),u.textContent="");return this},clone:function(u,h){return u=u??!1,h=h??u,this.map(function(){return p.clone(this,u,h)})},html:function(u){return Qr(this,function(h){var d=this[0]||{},g=0,v=this.length;if(h===void 0&&d.nodeType===1)return d.innerHTML;if(typeof h=="string"&&!eN.test(h)&&!Wn[(a1.exec(h)||["",""])[1].toLowerCase()]){h=p.htmlPrefilter(h);try{for(;g<v;g++)d=this[g]||{},d.nodeType===1&&(p.cleanData(En(d,!1)),d.innerHTML=h);d=0}catch{}}d&&this.empty().append(h)},null,u,arguments.length)},replaceWith:function(){var u=[];return Ho(this,arguments,function(h){var d=this.parentNode;p.inArray(this,u)<0&&(p.cleanData(En(this)),d&&d.replaceChild(h,this))},u)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,h){p.fn[u]=function(d){for(var g,v=[],w=p(d),S=w.length-1,D=0;D<=S;D++)g=D===S?this:this.clone(!0),p(w[D])[h](g),a.apply(v,g.get());return this.pushStack(v)}});var kp=new RegExp("^("+i1+")(?!px)[a-z%]+$","i"),bp=/^--/,Wc=function(u){var h=u.ownerDocument.defaultView;return(!h||!h.opener)&&(h=e),h.getComputedStyle(u)},p1=function(u,h,d){var g,v,w={};for(v in h)w[v]=u.style[v],u.style[v]=h[v];g=d.call(u);for(v in h)u.style[v]=w[v];return g},oN=new RegExp(Xr.join("|"),"i");(function(){function u(){if(N){b.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",N.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ps.appendChild(b).appendChild(N);var j=e.getComputedStyle(N);d=j.top!=="1%",D=h(j.marginLeft)===12,N.style.right="60%",w=h(j.right)===36,g=h(j.width)===36,N.style.position="absolute",v=h(N.offsetWidth/3)===12,Ps.removeChild(b),N=null}}function h(j){return Math.round(parseFloat(j))}var d,g,v,w,S,D,b=E.createElement("div"),N=E.createElement("div");N.style&&(N.style.backgroundClip="content-box",N.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle=N.style.backgroundClip==="content-box",p.extend(T,{boxSizingReliable:function(){return u(),g},pixelBoxStyles:function(){return u(),w},pixelPosition:function(){return u(),d},reliableMarginLeft:function(){return u(),D},scrollboxSize:function(){return u(),v},reliableTrDimensions:function(){var j,z,M,Q;return S==null&&(j=E.createElement("table"),z=E.createElement("tr"),M=E.createElement("div"),j.style.cssText="position:absolute;left:-11111px;border-collapse:separate",z.style.cssText="border:1px solid",z.style.height="1px",M.style.height="9px",M.style.display="block",Ps.appendChild(j).appendChild(z).appendChild(M),Q=e.getComputedStyle(z),S=parseInt(Q.height,10)+parseInt(Q.borderTopWidth,10)+parseInt(Q.borderBottomWidth,10)===z.offsetHeight,Ps.removeChild(j)),S}}))})();function wu(u,h,d){var g,v,w,S,D=bp.test(h),b=u.style;return d=d||Wc(u),d&&(S=d.getPropertyValue(h)||d[h],D&&S&&(S=S.replace(Ue,"$1")||void 0),S===""&&!Bo(u)&&(S=p.style(u,h)),!T.pixelBoxStyles()&&kp.test(S)&&oN.test(h)&&(g=b.width,v=b.minWidth,w=b.maxWidth,b.minWidth=b.maxWidth=b.width=S,S=d.width,b.width=g,b.minWidth=v,b.maxWidth=w)),S!==void 0?S+"":S}function m1(u,h){return{get:function(){if(u()){delete this.get;return}return(this.get=h).apply(this,arguments)}}}var g1=["Webkit","Moz","ms"],y1=E.createElement("div").style,v1={};function aN(u){for(var h=u[0].toUpperCase()+u.slice(1),d=g1.length;d--;)if(u=g1[d]+h,u in y1)return u}function Dp(u){var h=p.cssProps[u]||v1[u];return h||(u in y1?u:v1[u]=aN(u)||u)}var uN=/^(none|table(?!-c[ea]).+)/,lN={position:"absolute",visibility:"hidden",display:"block"},w1={letterSpacing:"0",fontWeight:"400"};function x1(u,h,d){var g=yu.exec(h);return g?Math.max(0,g[2]-(d||0))+(g[3]||"px"):h}function Ap(u,h,d,g,v,w){var S=h==="width"?1:0,D=0,b=0,N=0;if(d===(g?"border":"content"))return 0;for(;S<4;S+=2)d==="margin"&&(N+=p.css(u,d+Xr[S],!0,v)),g?(d==="content"&&(b-=p.css(u,"padding"+Xr[S],!0,v)),d!=="margin"&&(b-=p.css(u,"border"+Xr[S]+"Width",!0,v))):(b+=p.css(u,"padding"+Xr[S],!0,v),d!=="padding"?b+=p.css(u,"border"+Xr[S]+"Width",!0,v):D+=p.css(u,"border"+Xr[S]+"Width",!0,v));return!g&&w>=0&&(b+=Math.max(0,Math.ceil(u["offset"+h[0].toUpperCase()+h.slice(1)]-w-b-D-.5))||0),b+N}function S1(u,h,d){var g=Wc(u),v=!T.boxSizingReliable()||d,w=v&&p.css(u,"boxSizing",!1,g)==="border-box",S=w,D=wu(u,h,g),b="offset"+h[0].toUpperCase()+h.slice(1);if(kp.test(D)){if(!d)return D;D="auto"}return(!T.boxSizingReliable()&&w||!T.reliableTrDimensions()&&Z(u,"tr")||D==="auto"||!parseFloat(D)&&p.css(u,"display",!1,g)==="inline")&&u.getClientRects().length&&(w=p.css(u,"boxSizing",!1,g)==="border-box",S=b in u,S&&(D=u[b])),D=parseFloat(D)||0,D+Ap(u,h,d||(w?"border":"content"),S,g,D)+"px"}p.extend({cssHooks:{opacity:{get:function(u,h){if(h){var d=wu(u,"opacity");return d===""?"1":d}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(u,h,d,g){if(!(!u||u.nodeType===3||u.nodeType===8||!u.style)){var v,w,S,D=Sr(h),b=bp.test(h),N=u.style;if(b||(h=Dp(D)),S=p.cssHooks[h]||p.cssHooks[D],d!==void 0){if(w=typeof d,w==="string"&&(v=yu.exec(d))&&v[1]&&(d=s1(u,h,v),w="number"),d==null||d!==d)return;w==="number"&&!b&&(d+=v&&v[3]||(p.cssNumber[D]?"":"px")),!T.clearCloneStyle&&d===""&&h.indexOf("background")===0&&(N[h]="inherit"),(!S||!("set"in S)||(d=S.set(u,d,g))!==void 0)&&(b?N.setProperty(h,d):N[h]=d)}else return S&&"get"in S&&(v=S.get(u,!1,g))!==void 0?v:N[h]}},css:function(u,h,d,g){var v,w,S,D=Sr(h),b=bp.test(h);return b||(h=Dp(D)),S=p.cssHooks[h]||p.cssHooks[D],S&&"get"in S&&(v=S.get(u,!0,d)),v===void 0&&(v=wu(u,h,g)),v==="normal"&&h in w1&&(v=w1[h]),d===""||d?(w=parseFloat(v),d===!0||isFinite(w)?w||0:v):v}}),p.each(["height","width"],function(u,h){p.cssHooks[h]={get:function(d,g,v){if(g)return uN.test(p.css(d,"display"))&&(!d.getClientRects().length||!d.getBoundingClientRect().width)?p1(d,lN,function(){return S1(d,h,v)}):S1(d,h,v)},set:function(d,g,v){var w,S=Wc(d),D=!T.scrollboxSize()&&S.position==="absolute",b=D||v,N=b&&p.css(d,"boxSizing",!1,S)==="border-box",j=v?Ap(d,h,v,N,S):0;return N&&D&&(j-=Math.ceil(d["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(S[h])-Ap(d,h,"border",!1,S)-.5)),j&&(w=yu.exec(g))&&(w[3]||"px")!=="px"&&(d.style[h]=g,g=p.css(d,h)),x1(d,g,j)}}}),p.cssHooks.marginLeft=m1(T.reliableMarginLeft,function(u,h){if(h)return(parseFloat(wu(u,"marginLeft"))||u.getBoundingClientRect().left-p1(u,{marginLeft:0},function(){return u.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(u,h){p.cssHooks[u+h]={expand:function(d){for(var g=0,v={},w=typeof d=="string"?d.split(" "):[d];g<4;g++)v[u+Xr[g]+h]=w[g]||w[g-2]||w[0];return v}},u!=="margin"&&(p.cssHooks[u+h].set=x1)}),p.fn.extend({css:function(u,h){return Qr(this,function(d,g,v){var w,S,D={},b=0;if(Array.isArray(g)){for(w=Wc(d),S=g.length;b<S;b++)D[g[b]]=p.css(d,g[b],!1,w);return D}return v!==void 0?p.style(d,g,v):p.css(d,g)},u,h,arguments.length>1)}});function _n(u,h,d,g,v){return new _n.prototype.init(u,h,d,g,v)}p.Tween=_n,_n.prototype={constructor:_n,init:function(u,h,d,g,v,w){this.elem=u,this.prop=d,this.easing=v||p.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=g,this.unit=w||(p.cssNumber[d]?"":"px")},cur:function(){var u=_n.propHooks[this.prop];return u&&u.get?u.get(this):_n.propHooks._default.get(this)},run:function(u){var h,d=_n.propHooks[this.prop];return this.options.duration?this.pos=h=p.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):this.pos=h=u,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):_n.propHooks._default.set(this),this}},_n.prototype.init.prototype=_n.prototype,_n.propHooks={_default:{get:function(u){var h;return u.elem.nodeType!==1||u.elem[u.prop]!=null&&u.elem.style[u.prop]==null?u.elem[u.prop]:(h=p.css(u.elem,u.prop,""),!h||h==="auto"?0:h)},set:function(u){p.fx.step[u.prop]?p.fx.step[u.prop](u):u.elem.nodeType===1&&(p.cssHooks[u.prop]||u.elem.style[Dp(u.prop)]!=null)?p.style(u.elem,u.prop,u.now+u.unit):u.elem[u.prop]=u.now}}},_n.propHooks.scrollTop=_n.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},p.easing={linear:function(u){return u},swing:function(u){return .5-Math.cos(u*Math.PI)/2},_default:"swing"},p.fx=_n.prototype.init,p.fx.step={};var Go,Qc,cN=/^(?:toggle|show|hide)$/,hN=/queueHooks$/;function Pp(){Qc&&(E.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Pp):e.setTimeout(Pp,p.fx.interval),p.fx.tick())}function T1(){return e.setTimeout(function(){Go=void 0}),Go=Date.now()}function Xc(u,h){var d,g=0,v={height:u};for(h=h?1:0;g<4;g+=2-h)d=Xr[g],v["margin"+d]=v["padding"+d]=u;return h&&(v.opacity=v.width=u),v}function E1(u,h,d){for(var g,v=(ur.tweeners[h]||[]).concat(ur.tweeners["*"]),w=0,S=v.length;w<S;w++)if(g=v[w].call(d,h,u))return g}function fN(u,h,d){var g,v,w,S,D,b,N,j,z="width"in h||"height"in h,M=this,Q={},ye=u.style,Ae=u.nodeType&&Gc(u),_e=ce.get(u,"fxshow");d.queue||(S=p._queueHooks(u,"fx"),S.unqueued==null&&(S.unqueued=0,D=S.empty.fire,S.empty.fire=function(){S.unqueued||D()}),S.unqueued++,M.always(function(){M.always(function(){S.unqueued--,p.queue(u,"fx").length||S.empty.fire()})}));for(g in h)if(v=h[g],cN.test(v)){if(delete h[g],w=w||v==="toggle",v===(Ae?"hide":"show"))if(v==="show"&&_e&&_e[g]!==void 0)Ae=!0;else continue;Q[g]=_e&&_e[g]||p.style(u,g)}if(b=!p.isEmptyObject(h),!(!b&&p.isEmptyObject(Q))){z&&u.nodeType===1&&(d.overflow=[ye.overflow,ye.overflowX,ye.overflowY],N=_e&&_e.display,N==null&&(N=ce.get(u,"display")),j=p.css(u,"display"),j==="none"&&(N?j=N:(Uo([u],!0),N=u.style.display||N,j=p.css(u,"display"),Uo([u]))),(j==="inline"||j==="inline-block"&&N!=null)&&p.css(u,"float")==="none"&&(b||(M.done(function(){ye.display=N}),N==null&&(j=ye.display,N=j==="none"?"":j)),ye.display="inline-block")),d.overflow&&(ye.overflow="hidden",M.always(function(){ye.overflow=d.overflow[0],ye.overflowX=d.overflow[1],ye.overflowY=d.overflow[2]})),b=!1;for(g in Q)b||(_e?"hidden"in _e&&(Ae=_e.hidden):_e=ce.access(u,"fxshow",{display:N}),w&&(_e.hidden=!Ae),Ae&&Uo([u],!0),M.done(function(){Ae||Uo([u]),ce.remove(u,"fxshow");for(g in Q)p.style(u,g,Q[g])})),b=E1(Ae?_e[g]:0,g,M),g in _e||(_e[g]=b.start,Ae&&(b.end=b.start,b.start=0))}}function dN(u,h){var d,g,v,w,S;for(d in u)if(g=Sr(d),v=h[g],w=u[d],Array.isArray(w)&&(v=w[1],w=u[d]=w[0]),d!==g&&(u[g]=w,delete u[d]),S=p.cssHooks[g],S&&"expand"in S){w=S.expand(w),delete u[g];for(d in w)d in u||(u[d]=w[d],h[d]=v)}else h[g]=v}function ur(u,h,d){var g,v,w=0,S=ur.prefilters.length,D=p.Deferred().always(function(){delete b.elem}),b=function(){if(v)return!1;for(var z=Go||T1(),M=Math.max(0,N.startTime+N.duration-z),Q=M/N.duration||0,ye=1-Q,Ae=0,_e=N.tweens.length;Ae<_e;Ae++)N.tweens[Ae].run(ye);return D.notifyWith(u,[N,ye,M]),ye<1&&_e?M:(_e||D.notifyWith(u,[N,1,0]),D.resolveWith(u,[N]),!1)},N=D.promise({elem:u,props:p.extend({},h),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},d),originalProperties:h,originalOptions:d,startTime:Go||T1(),duration:d.duration,tweens:[],createTween:function(z,M){var Q=p.Tween(u,N.opts,z,M,N.opts.specialEasing[z]||N.opts.easing);return N.tweens.push(Q),Q},stop:function(z){var M=0,Q=z?N.tweens.length:0;if(v)return this;for(v=!0;M<Q;M++)N.tweens[M].run(1);return z?(D.notifyWith(u,[N,1,0]),D.resolveWith(u,[N,z])):D.rejectWith(u,[N,z]),this}}),j=N.props;for(dN(j,N.opts.specialEasing);w<S;w++)if(g=ur.prefilters[w].call(N,u,j,N.opts),g)return C(g.stop)&&(p._queueHooks(N.elem,N.opts.queue).stop=g.stop.bind(g)),g;return p.map(j,E1,N),C(N.opts.start)&&N.opts.start.call(u,N),N.progress(N.opts.progress).done(N.opts.done,N.opts.complete).fail(N.opts.fail).always(N.opts.always),p.fx.timer(p.extend(b,{elem:u,anim:N,queue:N.opts.queue})),N}p.Animation=p.extend(ur,{tweeners:{"*":[function(u,h){var d=this.createTween(u,h);return s1(d.elem,u,yu.exec(h),d),d}]},tweener:function(u,h){C(u)?(h=u,u=["*"]):u=u.match(un);for(var d,g=0,v=u.length;g<v;g++)d=u[g],ur.tweeners[d]=ur.tweeners[d]||[],ur.tweeners[d].unshift(h)},prefilters:[fN],prefilter:function(u,h){h?ur.prefilters.unshift(u):ur.prefilters.push(u)}}),p.speed=function(u,h,d){var g=u&&typeof u=="object"?p.extend({},u):{complete:d||!d&&h||C(u)&&u,duration:u,easing:d&&h||h&&!C(h)&&h};return p.fx.off?g.duration=0:typeof g.duration!="number"&&(g.duration in p.fx.speeds?g.duration=p.fx.speeds[g.duration]:g.duration=p.fx.speeds._default),(g.queue==null||g.queue===!0)&&(g.queue="fx"),g.old=g.complete,g.complete=function(){C(g.old)&&g.old.call(this),g.queue&&p.dequeue(this,g.queue)},g},p.fn.extend({fadeTo:function(u,h,d,g){return this.filter(Gc).css("opacity",0).show().end().animate({opacity:h},u,d,g)},animate:function(u,h,d,g){var v=p.isEmptyObject(u),w=p.speed(h,d,g),S=function(){var D=ur(this,p.extend({},u),w);(v||ce.get(this,"finish"))&&D.stop(!0)};return S.finish=S,v||w.queue===!1?this.each(S):this.queue(w.queue,S)},stop:function(u,h,d){var g=function(v){var w=v.stop;delete v.stop,w(d)};return typeof u!="string"&&(d=h,h=u,u=void 0),h&&this.queue(u||"fx",[]),this.each(function(){var v=!0,w=u!=null&&u+"queueHooks",S=p.timers,D=ce.get(this);if(w)D[w]&&D[w].stop&&g(D[w]);else for(w in D)D[w]&&D[w].stop&&hN.test(w)&&g(D[w]);for(w=S.length;w--;)S[w].elem===this&&(u==null||S[w].queue===u)&&(S[w].anim.stop(d),v=!1,S.splice(w,1));(v||!d)&&p.dequeue(this,u)})},finish:function(u){return u!==!1&&(u=u||"fx"),this.each(function(){var h,d=ce.get(this),g=d[u+"queue"],v=d[u+"queueHooks"],w=p.timers,S=g?g.length:0;for(d.finish=!0,p.queue(this,u,[]),v&&v.stop&&v.stop.call(this,!0),h=w.length;h--;)w[h].elem===this&&w[h].queue===u&&(w[h].anim.stop(!0),w.splice(h,1));for(h=0;h<S;h++)g[h]&&g[h].finish&&g[h].finish.call(this);delete d.finish})}}),p.each(["toggle","show","hide"],function(u,h){var d=p.fn[h];p.fn[h]=function(g,v,w){return g==null||typeof g=="boolean"?d.apply(this,arguments):this.animate(Xc(h,!0),g,v,w)}}),p.each({slideDown:Xc("show"),slideUp:Xc("hide"),slideToggle:Xc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,h){p.fn[u]=function(d,g,v){return this.animate(h,d,g,v)}}),p.timers=[],p.fx.tick=function(){var u,h=0,d=p.timers;for(Go=Date.now();h<d.length;h++)u=d[h],!u()&&d[h]===u&&d.splice(h--,1);d.length||p.fx.stop(),Go=void 0},p.fx.timer=function(u){p.timers.push(u),p.fx.start()},p.fx.interval=13,p.fx.start=function(){Qc||(Qc=!0,Pp())},p.fx.stop=function(){Qc=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(u,h){return u=p.fx&&p.fx.speeds[u]||u,h=h||"fx",this.queue(h,function(d,g){var v=e.setTimeout(d,u);g.stop=function(){e.clearTimeout(v)}})},function(){var u=E.createElement("input"),h=E.createElement("select"),d=h.appendChild(E.createElement("option"));u.type="checkbox",T.checkOn=u.value!=="",T.optSelected=d.selected,u=E.createElement("input"),u.value="t",u.type="radio",T.radioValue=u.value==="t"}();var _1,xu=p.expr.attrHandle;p.fn.extend({attr:function(u,h){return Qr(this,p.attr,u,h,arguments.length>1)},removeAttr:function(u){return this.each(function(){p.removeAttr(this,u)})}}),p.extend({attr:function(u,h,d){var g,v,w=u.nodeType;if(!(w===3||w===8||w===2)){if(typeof u.getAttribute>"u")return p.prop(u,h,d);if((w!==1||!p.isXMLDoc(u))&&(v=p.attrHooks[h.toLowerCase()]||(p.expr.match.bool.test(h)?_1:void 0)),d!==void 0){if(d===null){p.removeAttr(u,h);return}return v&&"set"in v&&(g=v.set(u,d,h))!==void 0?g:(u.setAttribute(h,d+""),d)}return v&&"get"in v&&(g=v.get(u,h))!==null?g:(g=p.find.attr(u,h),g??void 0)}},attrHooks:{type:{set:function(u,h){if(!T.radioValue&&h==="radio"&&Z(u,"input")){var d=u.value;return u.setAttribute("type",h),d&&(u.value=d),h}}}},removeAttr:function(u,h){var d,g=0,v=h&&h.match(un);if(v&&u.nodeType===1)for(;d=v[g++];)u.removeAttribute(d)}}),_1={set:function(u,h,d){return h===!1?p.removeAttr(u,d):u.setAttribute(d,d),d}},p.each(p.expr.match.bool.source.match(/\w+/g),function(u,h){var d=xu[h]||p.find.attr;xu[h]=function(g,v,w){var S,D,b=v.toLowerCase();return w||(D=xu[b],xu[b]=S,S=d(g,v,w)!=null?b:null,xu[b]=D),S}});var pN=/^(?:input|select|textarea|button)$/i,mN=/^(?:a|area)$/i;p.fn.extend({prop:function(u,h){return Qr(this,p.prop,u,h,arguments.length>1)},removeProp:function(u){return this.each(function(){delete this[p.propFix[u]||u]})}}),p.extend({prop:function(u,h,d){var g,v,w=u.nodeType;if(!(w===3||w===8||w===2))return(w!==1||!p.isXMLDoc(u))&&(h=p.propFix[h]||h,v=p.propHooks[h]),d!==void 0?v&&"set"in v&&(g=v.set(u,d,h))!==void 0?g:u[h]=d:v&&"get"in v&&(g=v.get(u,h))!==null?g:u[h]},propHooks:{tabIndex:{get:function(u){var h=p.find.attr(u,"tabindex");return h?parseInt(h,10):pN.test(u.nodeName)||mN.test(u.nodeName)&&u.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(p.propHooks.selected={get:function(u){var h=u.parentNode;return h&&h.parentNode&&h.parentNode.selectedIndex,null},set:function(u){var h=u.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function Ns(u){var h=u.match(un)||[];return h.join(" ")}function Rs(u){return u.getAttribute&&u.getAttribute("class")||""}function Np(u){return Array.isArray(u)?u:typeof u=="string"?u.match(un)||[]:[]}p.fn.extend({addClass:function(u){var h,d,g,v,w,S;return C(u)?this.each(function(D){p(this).addClass(u.call(this,D,Rs(this)))}):(h=Np(u),h.length?this.each(function(){if(g=Rs(this),d=this.nodeType===1&&" "+Ns(g)+" ",d){for(w=0;w<h.length;w++)v=h[w],d.indexOf(" "+v+" ")<0&&(d+=v+" ");S=Ns(d),g!==S&&this.setAttribute("class",S)}}):this)},removeClass:function(u){var h,d,g,v,w,S;return C(u)?this.each(function(D){p(this).removeClass(u.call(this,D,Rs(this)))}):arguments.length?(h=Np(u),h.length?this.each(function(){if(g=Rs(this),d=this.nodeType===1&&" "+Ns(g)+" ",d){for(w=0;w<h.length;w++)for(v=h[w];d.indexOf(" "+v+" ")>-1;)d=d.replace(" "+v+" "," ");S=Ns(d),g!==S&&this.setAttribute("class",S)}}):this):this.attr("class","")},toggleClass:function(u,h){var d,g,v,w,S=typeof u,D=S==="string"||Array.isArray(u);return C(u)?this.each(function(b){p(this).toggleClass(u.call(this,b,Rs(this),h),h)}):typeof h=="boolean"&&D?h?this.addClass(u):this.removeClass(u):(d=Np(u),this.each(function(){if(D)for(w=p(this),v=0;v<d.length;v++)g=d[v],w.hasClass(g)?w.removeClass(g):w.addClass(g);else(u===void 0||S==="boolean")&&(g=Rs(this),g&&ce.set(this,"__className__",g),this.setAttribute&&this.setAttribute("class",g||u===!1?"":ce.get(this,"__className__")||""))}))},hasClass:function(u){var h,d,g=0;for(h=" "+u+" ";d=this[g++];)if(d.nodeType===1&&(" "+Ns(Rs(d))+" ").indexOf(h)>-1)return!0;return!1}});var gN=/\r/g;p.fn.extend({val:function(u){var h,d,g,v=this[0];return arguments.length?(g=C(u),this.each(function(w){var S;this.nodeType===1&&(g?S=u.call(this,w,p(this).val()):S=u,S==null?S="":typeof S=="number"?S+="":Array.isArray(S)&&(S=p.map(S,function(D){return D==null?"":D+""})),h=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!h||!("set"in h)||h.set(this,S,"value")===void 0)&&(this.value=S))})):v?(h=p.valHooks[v.type]||p.valHooks[v.nodeName.toLowerCase()],h&&"get"in h&&(d=h.get(v,"value"))!==void 0?d:(d=v.value,typeof d=="string"?d.replace(gN,""):d??"")):void 0}}),p.extend({valHooks:{option:{get:function(u){var h=p.find.attr(u,"value");return h??Ns(p.text(u))}},select:{get:function(u){var h,d,g,v=u.options,w=u.selectedIndex,S=u.type==="select-one",D=S?null:[],b=S?w+1:v.length;for(w<0?g=b:g=S?w:0;g<b;g++)if(d=v[g],(d.selected||g===w)&&!d.disabled&&(!d.parentNode.disabled||!Z(d.parentNode,"optgroup"))){if(h=p(d).val(),S)return h;D.push(h)}return D},set:function(u,h){for(var d,g,v=u.options,w=p.makeArray(h),S=v.length;S--;)g=v[S],(g.selected=p.inArray(p.valHooks.option.get(g),w)>-1)&&(d=!0);return d||(u.selectedIndex=-1),w}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(u,h){if(Array.isArray(h))return u.checked=p.inArray(p(u).val(),h)>-1}},T.checkOn||(p.valHooks[this].get=function(u){return u.getAttribute("value")===null?"on":u.value})});var Su=e.location,C1={guid:Date.now()},Rp=/\?/;p.parseXML=function(u){var h,d;if(!u||typeof u!="string")return null;try{h=new e.DOMParser().parseFromString(u,"text/xml")}catch{}return d=h&&h.getElementsByTagName("parsererror")[0],(!h||d)&&p.error("Invalid XML: "+(d?p.map(d.childNodes,function(g){return g.textContent}).join(`
`):u)),h};var I1=/^(?:focusinfocus|focusoutblur)$/,k1=function(u){u.stopPropagation()};p.extend(p.event,{trigger:function(u,h,d,g){var v,w,S,D,b,N,j,z,M=[d||E],Q=m.call(u,"type")?u.type:u,ye=m.call(u,"namespace")?u.namespace.split("."):[];if(w=z=S=d=d||E,!(d.nodeType===3||d.nodeType===8)&&!I1.test(Q+p.event.triggered)&&(Q.indexOf(".")>-1&&(ye=Q.split("."),Q=ye.shift(),ye.sort()),b=Q.indexOf(":")<0&&"on"+Q,u=u[p.expando]?u:new p.Event(Q,typeof u=="object"&&u),u.isTrigger=g?2:3,u.namespace=ye.join("."),u.rnamespace=u.namespace?new RegExp("(^|\\.)"+ye.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=d),h=h==null?[u]:p.makeArray(h,[u]),j=p.event.special[Q]||{},!(!g&&j.trigger&&j.trigger.apply(d,h)===!1))){if(!g&&!j.noBubble&&!L(d)){for(D=j.delegateType||Q,I1.test(D+Q)||(w=w.parentNode);w;w=w.parentNode)M.push(w),S=w;S===(d.ownerDocument||E)&&M.push(S.defaultView||S.parentWindow||e)}for(v=0;(w=M[v++])&&!u.isPropagationStopped();)z=w,u.type=v>1?D:j.bindType||Q,N=(ce.get(w,"events")||Object.create(null))[u.type]&&ce.get(w,"handle"),N&&N.apply(w,h),N=b&&w[b],N&&N.apply&&mu(w)&&(u.result=N.apply(w,h),u.result===!1&&u.preventDefault());return u.type=Q,!g&&!u.isDefaultPrevented()&&(!j._default||j._default.apply(M.pop(),h)===!1)&&mu(d)&&b&&C(d[Q])&&!L(d)&&(S=d[b],S&&(d[b]=null),p.event.triggered=Q,u.isPropagationStopped()&&z.addEventListener(Q,k1),d[Q](),u.isPropagationStopped()&&z.removeEventListener(Q,k1),p.event.triggered=void 0,S&&(d[b]=S)),u.result}},simulate:function(u,h,d){var g=p.extend(new p.Event,d,{type:u,isSimulated:!0});p.event.trigger(g,null,h)}}),p.fn.extend({trigger:function(u,h){return this.each(function(){p.event.trigger(u,h,this)})},triggerHandler:function(u,h){var d=this[0];if(d)return p.event.trigger(u,h,d,!0)}});var yN=/\[\]$/,b1=/\r?\n/g,vN=/^(?:submit|button|image|reset|file)$/i,wN=/^(?:input|select|textarea|keygen)/i;function Lp(u,h,d,g){var v;if(Array.isArray(h))p.each(h,function(w,S){d||yN.test(u)?g(u,S):Lp(u+"["+(typeof S=="object"&&S!=null?w:"")+"]",S,d,g)});else if(!d&&P(h)==="object")for(v in h)Lp(u+"["+v+"]",h[v],d,g);else g(u,h)}p.param=function(u,h){var d,g=[],v=function(w,S){var D=C(S)?S():S;g[g.length]=encodeURIComponent(w)+"="+encodeURIComponent(D??"")};if(u==null)return"";if(Array.isArray(u)||u.jquery&&!p.isPlainObject(u))p.each(u,function(){v(this.name,this.value)});else for(d in u)Lp(d,u[d],h,v);return g.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=p.prop(this,"elements");return u?p.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!p(this).is(":disabled")&&wN.test(this.nodeName)&&!vN.test(u)&&(this.checked||!vu.test(u))}).map(function(u,h){var d=p(this).val();return d==null?null:Array.isArray(d)?p.map(d,function(g){return{name:h.name,value:g.replace(b1,`\r
`)}}):{name:h.name,value:d.replace(b1,`\r
`)}}).get()}});var xN=/%20/g,SN=/#.*$/,TN=/([?&])_=[^&]*/,EN=/^(.*?):[ \t]*([^\r\n]*)$/mg,_N=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,CN=/^(?:GET|HEAD)$/,IN=/^\/\//,D1={},Op={},A1="*/".concat("*"),Mp=E.createElement("a");Mp.href=Su.href;function P1(u){return function(h,d){typeof h!="string"&&(d=h,h="*");var g,v=0,w=h.toLowerCase().match(un)||[];if(C(d))for(;g=w[v++];)g[0]==="+"?(g=g.slice(1)||"*",(u[g]=u[g]||[]).unshift(d)):(u[g]=u[g]||[]).push(d)}}function N1(u,h,d,g){var v={},w=u===Op;function S(D){var b;return v[D]=!0,p.each(u[D]||[],function(N,j){var z=j(h,d,g);if(typeof z=="string"&&!w&&!v[z])return h.dataTypes.unshift(z),S(z),!1;if(w)return!(b=z)}),b}return S(h.dataTypes[0])||!v["*"]&&S("*")}function $p(u,h){var d,g,v=p.ajaxSettings.flatOptions||{};for(d in h)h[d]!==void 0&&((v[d]?u:g||(g={}))[d]=h[d]);return g&&p.extend(!0,u,g),u}function kN(u,h,d){for(var g,v,w,S,D=u.contents,b=u.dataTypes;b[0]==="*";)b.shift(),g===void 0&&(g=u.mimeType||h.getResponseHeader("Content-Type"));if(g){for(v in D)if(D[v]&&D[v].test(g)){b.unshift(v);break}}if(b[0]in d)w=b[0];else{for(v in d){if(!b[0]||u.converters[v+" "+b[0]]){w=v;break}S||(S=v)}w=w||S}if(w)return w!==b[0]&&b.unshift(w),d[w]}function bN(u,h,d,g){var v,w,S,D,b,N={},j=u.dataTypes.slice();if(j[1])for(S in u.converters)N[S.toLowerCase()]=u.converters[S];for(w=j.shift();w;)if(u.responseFields[w]&&(d[u.responseFields[w]]=h),!b&&g&&u.dataFilter&&(h=u.dataFilter(h,u.dataType)),b=w,w=j.shift(),w){if(w==="*")w=b;else if(b!=="*"&&b!==w){if(S=N[b+" "+w]||N["* "+w],!S){for(v in N)if(D=v.split(" "),D[1]===w&&(S=N[b+" "+D[0]]||N["* "+D[0]],S)){S===!0?S=N[v]:N[v]!==!0&&(w=D[0],j.unshift(D[1]));break}}if(S!==!0)if(S&&u.throws)h=S(h);else try{h=S(h)}catch(z){return{state:"parsererror",error:S?z:"No conversion from "+b+" to "+w}}}}return{state:"success",data:h}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Su.href,type:"GET",isLocal:_N.test(Su.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":A1,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,h){return h?$p($p(u,p.ajaxSettings),h):$p(p.ajaxSettings,u)},ajaxPrefilter:P1(D1),ajaxTransport:P1(Op),ajax:function(u,h){typeof u=="object"&&(h=u,u=void 0),h=h||{};var d,g,v,w,S,D,b,N,j,z,M=p.ajaxSetup({},h),Q=M.context||M,ye=M.context&&(Q.nodeType||Q.jquery)?p(Q):p.event,Ae=p.Deferred(),_e=p.Callbacks("once memory"),jt=M.statusCode||{},Ct={},Tr={},Er="canceled",ke={readyState:0,getResponseHeader:function(Re){var ft;if(b){if(!w)for(w={};ft=EN.exec(v);)w[ft[1].toLowerCase()+" "]=(w[ft[1].toLowerCase()+" "]||[]).concat(ft[2]);ft=w[Re.toLowerCase()+" "]}return ft==null?null:ft.join(", ")},getAllResponseHeaders:function(){return b?v:null},setRequestHeader:function(Re,ft){return b==null&&(Re=Tr[Re.toLowerCase()]=Tr[Re.toLowerCase()]||Re,Ct[Re]=ft),this},overrideMimeType:function(Re){return b==null&&(M.mimeType=Re),this},statusCode:function(Re){var ft;if(Re)if(b)ke.always(Re[ke.status]);else for(ft in Re)jt[ft]=[jt[ft],Re[ft]];return this},abort:function(Re){var ft=Re||Er;return d&&d.abort(ft),Ls(0,ft),this}};if(Ae.promise(ke),M.url=((u||M.url||Su.href)+"").replace(IN,Su.protocol+"//"),M.type=h.method||h.type||M.method||M.type,M.dataTypes=(M.dataType||"*").toLowerCase().match(un)||[""],M.crossDomain==null){D=E.createElement("a");try{D.href=M.url,D.href=D.href,M.crossDomain=Mp.protocol+"//"+Mp.host!=D.protocol+"//"+D.host}catch{M.crossDomain=!0}}if(M.data&&M.processData&&typeof M.data!="string"&&(M.data=p.param(M.data,M.traditional)),N1(D1,M,h,ke),b)return ke;N=p.event&&M.global,N&&p.active++===0&&p.event.trigger("ajaxStart"),M.type=M.type.toUpperCase(),M.hasContent=!CN.test(M.type),g=M.url.replace(SN,""),M.hasContent?M.data&&M.processData&&(M.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(M.data=M.data.replace(xN,"+")):(z=M.url.slice(g.length),M.data&&(M.processData||typeof M.data=="string")&&(g+=(Rp.test(g)?"&":"?")+M.data,delete M.data),M.cache===!1&&(g=g.replace(TN,"$1"),z=(Rp.test(g)?"&":"?")+"_="+C1.guid+++z),M.url=g+z),M.ifModified&&(p.lastModified[g]&&ke.setRequestHeader("If-Modified-Since",p.lastModified[g]),p.etag[g]&&ke.setRequestHeader("If-None-Match",p.etag[g])),(M.data&&M.hasContent&&M.contentType!==!1||h.contentType)&&ke.setRequestHeader("Content-Type",M.contentType),ke.setRequestHeader("Accept",M.dataTypes[0]&&M.accepts[M.dataTypes[0]]?M.accepts[M.dataTypes[0]]+(M.dataTypes[0]!=="*"?", "+A1+"; q=0.01":""):M.accepts["*"]);for(j in M.headers)ke.setRequestHeader(j,M.headers[j]);if(M.beforeSend&&(M.beforeSend.call(Q,ke,M)===!1||b))return ke.abort();if(Er="abort",_e.add(M.complete),ke.done(M.success),ke.fail(M.error),d=N1(Op,M,h,ke),!d)Ls(-1,"No Transport");else{if(ke.readyState=1,N&&ye.trigger("ajaxSend",[ke,M]),b)return ke;M.async&&M.timeout>0&&(S=e.setTimeout(function(){ke.abort("timeout")},M.timeout));try{b=!1,d.send(Ct,Ls)}catch(Re){if(b)throw Re;Ls(-1,Re)}}function Ls(Re,ft,Eu,Vp){var _r,_u,Cr,Ii,ki,Qn=ft;b||(b=!0,S&&e.clearTimeout(S),d=void 0,v=Vp||"",ke.readyState=Re>0?4:0,_r=Re>=200&&Re<300||Re===304,Eu&&(Ii=kN(M,ke,Eu)),!_r&&p.inArray("script",M.dataTypes)>-1&&p.inArray("json",M.dataTypes)<0&&(M.converters["text script"]=function(){}),Ii=bN(M,Ii,ke,_r),_r?(M.ifModified&&(ki=ke.getResponseHeader("Last-Modified"),ki&&(p.lastModified[g]=ki),ki=ke.getResponseHeader("etag"),ki&&(p.etag[g]=ki)),Re===204||M.type==="HEAD"?Qn="nocontent":Re===304?Qn="notmodified":(Qn=Ii.state,_u=Ii.data,Cr=Ii.error,_r=!Cr)):(Cr=Qn,(Re||!Qn)&&(Qn="error",Re<0&&(Re=0))),ke.status=Re,ke.statusText=(ft||Qn)+"",_r?Ae.resolveWith(Q,[_u,Qn,ke]):Ae.rejectWith(Q,[ke,Qn,Cr]),ke.statusCode(jt),jt=void 0,N&&ye.trigger(_r?"ajaxSuccess":"ajaxError",[ke,M,_r?_u:Cr]),_e.fireWith(Q,[ke,Qn]),N&&(ye.trigger("ajaxComplete",[ke,M]),--p.active||p.event.trigger("ajaxStop")))}return ke},getJSON:function(u,h,d){return p.get(u,h,d,"json")},getScript:function(u,h){return p.get(u,void 0,h,"script")}}),p.each(["get","post"],function(u,h){p[h]=function(d,g,v,w){return C(g)&&(w=w||v,v=g,g=void 0),p.ajax(p.extend({url:d,type:h,dataType:w,data:g,success:v},p.isPlainObject(d)&&d))}}),p.ajaxPrefilter(function(u){var h;for(h in u.headers)h.toLowerCase()==="content-type"&&(u.contentType=u.headers[h]||"")}),p._evalUrl=function(u,h,d){return p.ajax({url:u,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(g){p.globalEval(g,h,d)}})},p.fn.extend({wrapAll:function(u){var h;return this[0]&&(C(u)&&(u=u.call(this[0])),h=p(u,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var d=this;d.firstElementChild;)d=d.firstElementChild;return d}).append(this)),this},wrapInner:function(u){return C(u)?this.each(function(h){p(this).wrapInner(u.call(this,h))}):this.each(function(){var h=p(this),d=h.contents();d.length?d.wrapAll(u):h.append(u)})},wrap:function(u){var h=C(u);return this.each(function(d){p(this).wrapAll(h?u.call(this,d):u)})},unwrap:function(u){return this.parent(u).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(u){return!p.expr.pseudos.visible(u)},p.expr.pseudos.visible=function(u){return!!(u.offsetWidth||u.offsetHeight||u.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var DN={0:200,1223:204},Tu=p.ajaxSettings.xhr();T.cors=!!Tu&&"withCredentials"in Tu,T.ajax=Tu=!!Tu,p.ajaxTransport(function(u){var h,d;if(T.cors||Tu&&!u.crossDomain)return{send:function(g,v){var w,S=u.xhr();if(S.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(w in u.xhrFields)S[w]=u.xhrFields[w];u.mimeType&&S.overrideMimeType&&S.overrideMimeType(u.mimeType),!u.crossDomain&&!g["X-Requested-With"]&&(g["X-Requested-With"]="XMLHttpRequest");for(w in g)S.setRequestHeader(w,g[w]);h=function(D){return function(){h&&(h=d=S.onload=S.onerror=S.onabort=S.ontimeout=S.onreadystatechange=null,D==="abort"?S.abort():D==="error"?typeof S.status!="number"?v(0,"error"):v(S.status,S.statusText):v(DN[S.status]||S.status,S.statusText,(S.responseType||"text")!=="text"||typeof S.responseText!="string"?{binary:S.response}:{text:S.responseText},S.getAllResponseHeaders()))}},S.onload=h(),d=S.onerror=S.ontimeout=h("error"),S.onabort!==void 0?S.onabort=d:S.onreadystatechange=function(){S.readyState===4&&e.setTimeout(function(){h&&d()})},h=h("abort");try{S.send(u.hasContent&&u.data||null)}catch(D){if(h)throw D}},abort:function(){h&&h()}}}),p.ajaxPrefilter(function(u){u.crossDomain&&(u.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(u){return p.globalEval(u),u}}}),p.ajaxPrefilter("script",function(u){u.cache===void 0&&(u.cache=!1),u.crossDomain&&(u.type="GET")}),p.ajaxTransport("script",function(u){if(u.crossDomain||u.scriptAttrs){var h,d;return{send:function(g,v){h=p("<script>").attr(u.scriptAttrs||{}).prop({charset:u.scriptCharset,src:u.url}).on("load error",d=function(w){h.remove(),d=null,w&&v(w.type==="error"?404:200,w.type)}),E.head.appendChild(h[0])},abort:function(){d&&d()}}}});var R1=[],Fp=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=R1.pop()||p.expando+"_"+C1.guid++;return this[u]=!0,u}}),p.ajaxPrefilter("json jsonp",function(u,h,d){var g,v,w,S=u.jsonp!==!1&&(Fp.test(u.url)?"url":typeof u.data=="string"&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Fp.test(u.data)&&"data");if(S||u.dataTypes[0]==="jsonp")return g=u.jsonpCallback=C(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,S?u[S]=u[S].replace(Fp,"$1"+g):u.jsonp!==!1&&(u.url+=(Rp.test(u.url)?"&":"?")+u.jsonp+"="+g),u.converters["script json"]=function(){return w||p.error(g+" was not called"),w[0]},u.dataTypes[0]="json",v=e[g],e[g]=function(){w=arguments},d.always(function(){v===void 0?p(e).removeProp(g):e[g]=v,u[g]&&(u.jsonpCallback=h.jsonpCallback,R1.push(g)),w&&C(v)&&v(w[0]),w=v=void 0}),"script"}),T.createHTMLDocument=function(){var u=E.implementation.createHTMLDocument("").body;return u.innerHTML="<form></form><form></form>",u.childNodes.length===2}(),p.parseHTML=function(u,h,d){if(typeof u!="string")return[];typeof h=="boolean"&&(d=h,h=!1);var g,v,w;return h||(T.createHTMLDocument?(h=E.implementation.createHTMLDocument(""),g=h.createElement("base"),g.href=E.location.href,h.head.appendChild(g)):h=E),v=ze.exec(u),w=!d&&[],v?[h.createElement(v[1])]:(v=l1([u],h,w),w&&w.length&&p(w).remove(),p.merge([],v.childNodes))},p.fn.load=function(u,h,d){var g,v,w,S=this,D=u.indexOf(" ");return D>-1&&(g=Ns(u.slice(D)),u=u.slice(0,D)),C(h)?(d=h,h=void 0):h&&typeof h=="object"&&(v="POST"),S.length>0&&p.ajax({url:u,type:v||"GET",dataType:"html",data:h}).done(function(b){w=arguments,S.html(g?p("<div>").append(p.parseHTML(b)).find(g):b)}).always(d&&function(b,N){S.each(function(){d.apply(this,w||[b.responseText,N,b])})}),this},p.expr.pseudos.animated=function(u){return p.grep(p.timers,function(h){return u===h.elem}).length},p.offset={setOffset:function(u,h,d){var g,v,w,S,D,b,N,j=p.css(u,"position"),z=p(u),M={};j==="static"&&(u.style.position="relative"),D=z.offset(),w=p.css(u,"top"),b=p.css(u,"left"),N=(j==="absolute"||j==="fixed")&&(w+b).indexOf("auto")>-1,N?(g=z.position(),S=g.top,v=g.left):(S=parseFloat(w)||0,v=parseFloat(b)||0),C(h)&&(h=h.call(u,d,p.extend({},D))),h.top!=null&&(M.top=h.top-D.top+S),h.left!=null&&(M.left=h.left-D.left+v),"using"in h?h.using.call(u,M):z.css(M)}},p.fn.extend({offset:function(u){if(arguments.length)return u===void 0?this:this.each(function(v){p.offset.setOffset(this,u,v)});var h,d,g=this[0];if(g)return g.getClientRects().length?(h=g.getBoundingClientRect(),d=g.ownerDocument.defaultView,{top:h.top+d.pageYOffset,left:h.left+d.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var u,h,d,g=this[0],v={top:0,left:0};if(p.css(g,"position")==="fixed")h=g.getBoundingClientRect();else{for(h=this.offset(),d=g.ownerDocument,u=g.offsetParent||d.documentElement;u&&(u===d.body||u===d.documentElement)&&p.css(u,"position")==="static";)u=u.parentNode;u&&u!==g&&u.nodeType===1&&(v=p(u).offset(),v.top+=p.css(u,"borderTopWidth",!0),v.left+=p.css(u,"borderLeftWidth",!0))}return{top:h.top-v.top-p.css(g,"marginTop",!0),left:h.left-v.left-p.css(g,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent;u&&p.css(u,"position")==="static";)u=u.offsetParent;return u||Ps})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,h){var d=h==="pageYOffset";p.fn[u]=function(g){return Qr(this,function(v,w,S){var D;if(L(v)?D=v:v.nodeType===9&&(D=v.defaultView),S===void 0)return D?D[h]:v[w];D?D.scrollTo(d?D.pageXOffset:S,d?S:D.pageYOffset):v[w]=S},u,g,arguments.length)}}),p.each(["top","left"],function(u,h){p.cssHooks[h]=m1(T.pixelPosition,function(d,g){if(g)return g=wu(d,h),kp.test(g)?p(d).position()[h]+"px":g})}),p.each({Height:"height",Width:"width"},function(u,h){p.each({padding:"inner"+u,content:h,"":"outer"+u},function(d,g){p.fn[g]=function(v,w){var S=arguments.length&&(d||typeof v!="boolean"),D=d||(v===!0||w===!0?"margin":"border");return Qr(this,function(b,N,j){var z;return L(b)?g.indexOf("outer")===0?b["inner"+u]:b.document.documentElement["client"+u]:b.nodeType===9?(z=b.documentElement,Math.max(b.body["scroll"+u],z["scroll"+u],b.body["offset"+u],z["offset"+u],z["client"+u])):j===void 0?p.css(b,N,D):p.style(b,N,j,D)},h,S?v:void 0,S)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,h){p.fn[h]=function(d){return this.on(h,d)}}),p.fn.extend({bind:function(u,h,d){return this.on(u,null,h,d)},unbind:function(u,h){return this.off(u,null,h)},delegate:function(u,h,d,g){return this.on(h,u,d,g)},undelegate:function(u,h,d){return arguments.length===1?this.off(u,"**"):this.off(h,u||"**",d)},hover:function(u,h){return this.mouseenter(u).mouseleave(h||u)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(u,h){p.fn[h]=function(d,g){return arguments.length>0?this.on(h,null,d,g):this.trigger(h)}});var AN=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(u,h){var d,g,v;if(typeof h=="string"&&(d=u[h],h=u,u=d),!!C(u))return g=s.call(arguments,2),v=function(){return u.apply(h||this,g.concat(s.call(arguments)))},v.guid=u.guid=u.guid||p.guid++,v},p.holdReady=function(u){u?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=Z,p.isFunction=C,p.isWindow=L,p.camelCase=Sr,p.type=P,p.now=Date.now,p.isNumeric=function(u){var h=p.type(u);return(h==="number"||h==="string")&&!isNaN(u-parseFloat(u))},p.trim=function(u){return u==null?"":(u+"").replace(AN,"$1")};var PN=e.jQuery,NN=e.$;return p.noConflict=function(u){return e.$===p&&(e.$=NN),u&&e.jQuery===p&&(e.jQuery=PN),p},typeof n>"u"&&(e.jQuery=e.$=p),p})})(yI);var FO=yI.exports;const wh=WE(FO),vI=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Id=q.createContext({}),r0=q.createContext(null),kd=typeof document<"u",eS=kd?q.useLayoutEffect:q.useEffect,wI=q.createContext({strict:!1});function VO(t,e,n,r){const{visualElement:i}=q.useContext(Id),s=q.useContext(wI),o=q.useContext(r0),a=q.useContext(vI).reducedMotion,l=q.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return q.useInsertionEffect(()=>{c&&c.update(n,o)}),eS(()=>{c&&c.render()}),q.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?eS:q.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function ma(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jO(t,e,n){return q.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ma(n)&&(n.current=r))},[e])}function Bl(t){return typeof t=="string"||Array.isArray(t)}function bd(t){return typeof t=="object"&&typeof t.start=="function"}const i0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s0=["initial",...i0];function Dd(t){return bd(t.animate)||s0.some(e=>Bl(t[e]))}function xI(t){return!!(Dd(t)||t.variants)}function BO(t,e){if(Dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bl(n)?n:void 0,animate:Bl(r)?r:void 0}}return t.inherit!==!1?e:{}}function UO(t){const{initial:e,animate:n}=BO(t,q.useContext(Id));return q.useMemo(()=>({initial:e,animate:n}),[tS(e),tS(n)])}function tS(t){return Array.isArray(t)?t.join(" "):t}const nS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const t in nS)Ul[t]={isEnabled:e=>nS[t].some(n=>!!e[n])};function zO(t){for(const e in t)Ul[e]={...Ul[e],...t[e]}}const SI=q.createContext({}),TI=q.createContext({}),qO=Symbol.for("motionComponentSymbol");function HO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&zO(t);function s(a,l){let c;const f={...q.useContext(vI),...a,layoutId:GO(a)},{isStatic:m}=f,y=UO(a),x=r(a,m);if(!m&&kd){y.visualElement=VO(i,x,f,e);const T=q.useContext(TI),C=q.useContext(wI).strict;y.visualElement&&(c=y.visualElement.loadFeatures(f,C,t,T))}return q.createElement(Id.Provider,{value:y},c&&y.visualElement?q.createElement(c,{visualElement:y.visualElement,...f}):null,n(i,a,jO(x,y.visualElement,l),x,m,y.visualElement))}const o=q.forwardRef(s);return o[qO]=i,o}function GO({layoutId:t}){const e=q.useContext(SI).id;return e&&t!==void 0?e+"-"+t:t}function KO(t){function e(r,i={}){return HO(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const WO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o0(t){return typeof t!="string"||t.includes("-")?!1:!!(WO.indexOf(t)>-1||/[A-Z]/.test(t))}const Pf={};function QO(t){Object.assign(Pf,t)}const wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(wc);function EI(t,{layout:e,layoutId:n}){return Po.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pf[t]||t==="opacity")}const On=t=>!!(t&&t.getVelocity),XO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YO=wc.length;function JO(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<YO;o++){const a=wc[o];if(t[a]!==void 0){const l=XO[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const _I=t=>e=>typeof e=="string"&&e.startsWith(t),CI=_I("--"),Jg=_I("var(--"),ZO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,eM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ss=(t,e,n)=>Math.min(Math.max(n,t),e),No={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cl={...No,transform:t=>ss(0,1,t)},xh={...No,default:1},hl=t=>Math.round(t*1e5)/1e5,Ad=/(-)?([\d]*\.?[\d])+/g,II=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tM=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xc(t){return typeof t=="string"}const Sc=t=>({test:e=>xc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ri=Sc("deg"),Vr=Sc("%"),de=Sc("px"),nM=Sc("vh"),rM=Sc("vw"),rS={...Vr,parse:t=>Vr.parse(t)/100,transform:t=>Vr.transform(t*100)},iS={...No,transform:Math.round},kI={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:xh,scaleX:xh,scaleY:xh,scaleZ:xh,skew:Ri,skewX:Ri,skewY:Ri,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:cl,originX:rS,originY:rS,originZ:de,zIndex:iS,fillOpacity:cl,strokeOpacity:cl,numOctaves:iS};function a0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,f=!0;for(const m in e){const y=e[m];if(CI(m)){s[m]=y;continue}const x=kI[m],T=eM(y,x);if(Po.has(m)){if(l=!0,o[m]=T,!f)continue;y!==(x.default||0)&&(f=!1)}else m.startsWith("origin")?(c=!0,a[m]=T):i[m]=T}if(e.transform||(l||r?i.transform=JO(t.transform,n,f,r):i.transform&&(i.transform="none")),c){const{originX:m="50%",originY:y="50%",originZ:x=0}=a;i.transformOrigin=`${m} ${y} ${x}`}}const u0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bI(t,e,n){for(const r in e)!On(e[r])&&!EI(r,n)&&(t[r]=e[r])}function iM({transformTemplate:t},e,n){return q.useMemo(()=>{const r=u0();return a0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function sM(t,e,n){const r=t.style||{},i={};return bI(i,r,t),Object.assign(i,iM(t,e,n)),t.transformValues?t.transformValues(i):i}function oM(t,e,n){const r={},i=sM(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const aM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||aM.has(t)}let DI=t=>!Nf(t);function uM(t){t&&(DI=e=>e.startsWith("on")?!Nf(e):t(e))}try{uM(require("@emotion/is-prop-valid").default)}catch{}function lM(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(DI(i)||n===!0&&Nf(i)||!e&&!Nf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function sS(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function cM(t,e,n){const r=sS(e,t.x,t.width),i=sS(n,t.y,t.height);return`${r} ${i}`}const hM={offset:"stroke-dashoffset",array:"stroke-dasharray"},fM={offset:"strokeDashoffset",array:"strokeDasharray"};function dM(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?hM:fM;t[s.offset]=de.transform(-r);const o=de.transform(e),a=de.transform(n);t[s.array]=`${o} ${a}`}function l0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},f,m,y){if(a0(t,c,f,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T,dimensions:C}=t;x.transform&&(C&&(T.transform=x.transform),delete x.transform),C&&(i!==void 0||s!==void 0||T.transform)&&(T.transformOrigin=cM(C,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),o!==void 0&&dM(x,o,a,l,!1)}const AI=()=>({...u0(),attrs:{}}),c0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pM(t,e,n,r){const i=q.useMemo(()=>{const s=AI();return l0(s,e,{enableHardwareAcceleration:!1},c0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};bI(s,t.style,t),i.style={...s,...i.style}}return i}function mM(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(o0(n)?pM:oM)(r,s,o,n),f={...lM(r,typeof n=="string",t),...l,ref:i},{children:m}=r,y=q.useMemo(()=>On(m)?m.get():m,[m]);return q.createElement(n,{...f,children:y})}}const h0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function PI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const NI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RI(t,e,n,r){PI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NI.has(i)?i:h0(i),e.attrs[i])}function f0(t,e){const{style:n}=t,r={};for(const i in n)(On(n[i])||e.style&&On(e.style[i])||EI(i,t))&&(r[i]=n[i]);return r}function LI(t,e){const n=f0(t,e);for(const r in t)if(On(t[r])||On(e[r])){const i=wc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function d0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function gM(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rf=t=>Array.isArray(t),yM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vM=t=>Rf(t)?t[t.length-1]||0:t;function Xh(t){const e=On(t)?t.get():t;return yM(e)?e.toValue():e}function wM({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:xM(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const OI=t=>(e,n)=>{const r=q.useContext(Id),i=q.useContext(r0),s=()=>wM(t,e,r,i);return n?s():gM(s)};function xM(t,e,n,r){const i={},s=r(t,{});for(const y in s)i[y]=Xh(s[y]);let{initial:o,animate:a}=t;const l=Dd(t),c=xI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?a:o;return m&&typeof m!="boolean"&&!bd(m)&&(Array.isArray(m)?m:[m]).forEach(x=>{const T=d0(t,x);if(!T)return;const{transitionEnd:C,transition:L,...E}=T;for(const _ in E){let I=E[_];if(Array.isArray(I)){const P=f?I.length-1:0;I=I[P]}I!==null&&(i[_]=I)}for(const _ in C)i[_]=C[_]}),i}const SM={useVisualState:OI({scrapeMotionValuesFromProps:LI,createRenderState:AI,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}l0(n,r,{enableHardwareAcceleration:!1},c0(e.tagName),t.transformTemplate),RI(e,n)}})},TM={useVisualState:OI({scrapeMotionValuesFromProps:f0,createRenderState:u0})};function EM(t,{forwardMotionProps:e=!1},n,r){return{...o0(t)?SM:TM,preloadedFeatures:n,useRender:mM(e),createVisualElement:r,Component:t}}function ii(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const MI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Pd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _M=t=>e=>MI(e)&&t(e,Pd(e));function ui(t,e,n,r){return ii(t,e,_M(n),r)}const CM=(t,e)=>n=>e(t(n)),es=(...t)=>t.reduce(CM);function $I(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const oS=$I("dragHorizontal"),aS=$I("dragVertical");function FI(t){let e=!1;if(t==="y")e=aS();else if(t==="x")e=oS();else{const n=oS(),r=aS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function VI(){const t=FI(!0);return t?(t(),!1):!0}class Ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}function IM(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,f=!1)=>{const m=f&&i,y=m?e:n;return c&&o.add(l),y.indexOf(l)===-1&&(y.push(l),m&&i&&(r=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const f=e[c];f(l),o.has(f)&&(a.schedule(f),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const st={delta:0,timestamp:0,isProcessing:!1},kM=40;let Zg=!0,zl=!1;const Nd=["read","update","preRender","render","postRender"],Ia=Nd.reduce((t,e)=>(t[e]=IM(()=>zl=!0),t),{}),bM=t=>Ia[t].process(st),jI=t=>{zl=!1,st.delta=Zg?1e3/60:Math.max(Math.min(t-st.timestamp,kM),1),st.timestamp=t,st.isProcessing=!0,Nd.forEach(bM),st.isProcessing=!1,zl&&(Zg=!1,requestAnimationFrame(jI))},DM=()=>{zl=!0,Zg=!0,st.isProcessing||requestAnimationFrame(jI)},ut=Nd.reduce((t,e)=>{const n=Ia[e];return t[e]=(r,i=!1,s=!1)=>(zl||DM(),n.schedule(r,i,s)),t},{});function gi(t){Nd.forEach(e=>Ia[e].cancel(t))}function uS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||VI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ut.update(()=>a[r](s,o))};return ui(t.current,n,i,{passive:!t.getProps()[r]})}class AM extends Ss{mount(){this.unmount=es(uS(this.node,!0),uS(this.node,!1))}unmount(){}}class PM extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=es(ii(this.node.current,"focus",()=>this.onFocus()),ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BI=(t,e)=>e?t===e?!0:BI(t,e.parentElement):!1,kt=t=>t;function xm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Pd(n))}class NM extends Ss{constructor(){super(...arguments),this.removeStartListeners=kt,this.removeEndListeners=kt,this.removeAccessibleListeners=kt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=ui(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:f}=this.node.getProps();ut.update(()=>{BI(this.node.current,a.target)?c&&c(a,l):f&&f(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ui(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=es(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||xm("up",(l,c)=>{const{onTap:f}=this.node.getProps();f&&ut.update(()=>f(l,c))})};this.removeEndListeners(),this.removeEndListeners=ii(this.node.current,"keyup",o),xm("down",(a,l)=>{this.startPress(a,l)})},n=ii(this.node.current,"keydown",e),r=()=>{this.isPressing&&xm("cancel",(s,o)=>this.cancelPress(s,o))},i=ii(this.node.current,"blur",r);this.removeAccessibleListeners=es(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ut.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ut.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ui(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ii(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=es(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ey=new WeakMap,Sm=new WeakMap,RM=t=>{const e=ey.get(t.target);e&&e(t)},LM=t=>{t.forEach(RM)};function OM({root:t,...e}){const n=t||document;Sm.has(n)||Sm.set(n,{});const r=Sm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(LM,{root:t,...e})),r[i]}function MM(t,e,n){const r=OM(e);return ey.set(t,n),r.observe(t),()=>{ey.delete(t),r.unobserve(t)}}const $M={some:0,all:1};class FM extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$M[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),y=c?f:m;y&&y(l)};return MM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(VM(e,n))&&this.startObserver()}unmount(){}}function VM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jM={inView:{Feature:FM},tap:{Feature:NM},focus:{Feature:PM},hover:{Feature:AM}};function UI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function BM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function UM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Rd(t,e,n){const r=t.getProps();return d0(r,e,n!==void 0?n:r.custom,BM(t),UM(t))}const zM="framerAppearId",qM="data-"+h0(zM);let HM=kt,p0=kt;const ts=t=>t*1e3,li=t=>t/1e3,GM={current:!1},zI=t=>Array.isArray(t)&&typeof t[0]=="number";function qI(t){return!!(!t||typeof t=="string"&&HI[t]||zI(t)||Array.isArray(t)&&t.every(qI))}const Qu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,HI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qu([0,.65,.55,1]),circOut:Qu([.55,0,1,.45]),backIn:Qu([.31,.01,.66,-.59]),backOut:Qu([.33,1.53,.69,.99])};function GI(t){if(t)return zI(t)?Qu(t):Array.isArray(t)?t.map(GI):HI[t]}function KM(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const f=GI(a);return Array.isArray(f)&&(c.easing=f),t.animate(c,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const lS={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Tm={},KI={};for(const t in lS)KI[t]=()=>(Tm[t]===void 0&&(Tm[t]=lS[t]()),Tm[t]);function WM(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const WI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QM=1e-7,XM=12;function YM(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=WI(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>QM&&++a<XM);return o}function Tc(t,e,n,r){if(t===e&&n===r)return kt;const i=s=>YM(s,0,1,t,n);return s=>s===0||s===1?s:WI(i(s),e,r)}const JM=Tc(.42,0,1,1),ZM=Tc(0,0,.58,1),QI=Tc(.42,0,.58,1),e$=t=>Array.isArray(t)&&typeof t[0]!="number",XI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YI=t=>e=>1-t(1-e),JI=t=>1-Math.sin(Math.acos(t)),m0=YI(JI),t$=XI(m0),ZI=Tc(.33,1.53,.69,.99),g0=YI(ZI),n$=XI(g0),r$=t=>(t*=2)<1?.5*g0(t):.5*(2-Math.pow(2,-10*(t-1))),i$={linear:kt,easeIn:JM,easeInOut:QI,easeOut:ZM,circIn:JI,circInOut:t$,circOut:m0,backIn:g0,backInOut:n$,backOut:ZI,anticipate:r$},cS=t=>{if(Array.isArray(t)){p0(t.length===4);const[e,n,r,i]=t;return Tc(e,n,r,i)}else if(typeof t=="string")return i$[t];return t},y0=(t,e)=>n=>!!(xc(n)&&tM.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ek=(t,e,n)=>r=>{if(!xc(r))return r;const[i,s,o,a]=r.match(Ad);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},s$=t=>ss(0,255,t),Em={...No,transform:t=>Math.round(s$(t))},Js={test:y0("rgb","red"),parse:ek("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Em.transform(t)+", "+Em.transform(e)+", "+Em.transform(n)+", "+hl(cl.transform(r))+")"};function o$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ty={test:y0("#"),parse:o$,transform:Js.transform},ga={test:y0("hsl","hue"),parse:ek("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vr.transform(hl(e))+", "+Vr.transform(hl(n))+", "+hl(cl.transform(r))+")"},hn={test:t=>Js.test(t)||ty.test(t)||ga.test(t),parse:t=>Js.test(t)?Js.parse(t):ga.test(t)?ga.parse(t):ty.parse(t),transform:t=>xc(t)?t:t.hasOwnProperty("red")?Js.transform(t):ga.transform(t)},at=(t,e,n)=>-n*t+n*e+t;function _m(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function a$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=_m(l,a,t+1/3),s=_m(l,a,t),o=_m(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Cm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},u$=[ty,Js,ga],l$=t=>u$.find(e=>e.test(t));function hS(t){const e=l$(t);let n=e.parse(t);return e===ga&&(n=a$(n)),n}const tk=(t,e)=>{const n=hS(t),r=hS(e),i={...n};return s=>(i.red=Cm(n.red,r.red,s),i.green=Cm(n.green,r.green,s),i.blue=Cm(n.blue,r.blue,s),i.alpha=at(n.alpha,r.alpha,s),Js.transform(i))};function c$(t){var e,n;return isNaN(t)&&xc(t)&&(((e=t.match(Ad))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(II))===null||n===void 0?void 0:n.length)||0)>0}const nk={regex:ZO,countKey:"Vars",token:"${v}",parse:kt},rk={regex:II,countKey:"Colors",token:"${c}",parse:hn.parse},ik={regex:Ad,countKey:"Numbers",token:"${n}",parse:No.parse};function Im(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Lf(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Im(n,nk),Im(n,rk),Im(n,ik),n}function sk(t){return Lf(t).values}function ok(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Lf(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(nk.token,o[l]):l<r+n?a=a.replace(rk.token,hn.transform(o[l])):a=a.replace(ik.token,hl(o[l]));return a}}const h$=t=>typeof t=="number"?0:t;function f$(t){const e=sk(t);return ok(t)(e.map(h$))}const os={test:c$,parse:sk,createTransformer:ok,getAnimatableNone:f$},ak=(t,e)=>n=>`${n>0?e:t}`;function uk(t,e){return typeof t=="number"?n=>at(t,e,n):hn.test(t)?tk(t,e):t.startsWith("var(")?ak(t,e):ck(t,e)}const lk=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>uk(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},d$=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=uk(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},ck=(t,e)=>{const n=os.createTransformer(e),r=Lf(t),i=Lf(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?es(lk(r.values,i.values),n):ak(t,e)},ql=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},fS=(t,e)=>n=>at(t,e,n);function p$(t){return typeof t=="number"?fS:typeof t=="string"?hn.test(t)?tk:ck:Array.isArray(t)?lk:typeof t=="object"?d$:fS}function m$(t,e,n){const r=[],i=n||p$(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kt:e;a=es(l,a)}r.push(a)}return r}function hk(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(p0(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=m$(e,r,i),a=o.length,l=c=>{let f=0;if(a>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const m=ql(t[f],t[f+1],c);return o[f](m)};return n?c=>l(ss(t[0],t[s-1],c)):l}function g$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ql(0,e,r);t.push(at(n,1,i))}}function y$(t){const e=[0];return g$(e,t.length-1),e}function v$(t,e){return t.map(n=>n*e)}function w$(t,e){return t.map(()=>e||QI).splice(0,t.length-1)}function Of({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=e$(r)?r.map(cS):cS(r),s={done:!1,value:e[0]},o=v$(n&&n.length===e.length?n:y$(e),t),a=hk(o,e,{ease:Array.isArray(i)?i:w$(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function fk(t,e){return e?t*(1e3/e):0}const x$=5;function dk(t,e,n){const r=Math.max(e-x$,0);return fk(n-t(r),e-r)}const km=.001,S$=.01,dS=10,T$=.05,E$=1;function _$({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;HM(t<=ts(dS));let o=1-e;o=ss(T$,E$,o),t=ss(S$,dS,li(t)),o<1?(i=c=>{const f=c*o,m=f*t,y=f-n,x=ny(c,o),T=Math.exp(-m);return km-y/x*T},s=c=>{const m=c*o*t,y=m*n+n,x=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-m),C=ny(Math.pow(c,2),o);return(-i(c)+km>0?-1:1)*((y-x)*T)/C}):(i=c=>{const f=Math.exp(-c*t),m=(c-n)*t+1;return-km+f*m},s=c=>{const f=Math.exp(-c*t),m=(n-c)*(t*t);return f*m});const a=5/t,l=I$(i,s,a);if(t=ts(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const C$=12;function I$(t,e,n){let r=n;for(let i=1;i<C$;i++)r=r-t(r)/e(r);return r}function ny(t,e){return t*Math.sqrt(1-e*e)}const k$=["duration","bounce"],b$=["stiffness","damping","mass"];function pS(t,e){return e.some(n=>t[n]!==void 0)}function D$(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!pS(t,b$)&&pS(t,k$)){const n=_$(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function pk({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:f,duration:m,isResolvedFromDuration:y}=D$(r),x=f?-li(f):0,T=l/(2*Math.sqrt(a*c)),C=s-i,L=li(Math.sqrt(a/c)),E=Math.abs(C)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let _;if(T<1){const I=ny(L,T);_=P=>{const B=Math.exp(-T*L*P);return s-B*((x+T*L*C)/I*Math.sin(I*P)+C*Math.cos(I*P))}}else if(T===1)_=I=>s-Math.exp(-L*I)*(C+(x+L*C)*I);else{const I=L*Math.sqrt(T*T-1);_=P=>{const B=Math.exp(-T*L*P),G=Math.min(I*P,300);return s-B*((x+T*L*C)*Math.sinh(G)+I*C*Math.cosh(G))/I}}return{calculatedDuration:y&&m||null,next:I=>{const P=_(I);if(y)o.done=I>=m;else{let B=x;I!==0&&(T<1?B=dk(_,I,P):B=0);const G=Math.abs(B)<=n,p=Math.abs(s-P)<=e;o.done=G&&p}return o.value=o.done?s:P,o}}}function mS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:f}){const m=t[0],y={done:!1,value:m},x=H=>a!==void 0&&H<a||l!==void 0&&H>l,T=H=>a===void 0?l:l===void 0||Math.abs(a-H)<Math.abs(l-H)?a:l;let C=n*e;const L=m+C,E=o===void 0?L:o(L);E!==L&&(C=E-m);const _=H=>-C*Math.exp(-H/r),I=H=>E+_(H),P=H=>{const Z=_(H),me=I(H);y.done=Math.abs(Z)<=c,y.value=y.done?E:me};let B,G;const p=H=>{x(y.value)&&(B=H,G=pk({keyframes:[y.value,T(y.value)],velocity:dk(I,H,y.value),damping:i,stiffness:s,restDelta:c,restSpeed:f}))};return p(0),{calculatedDuration:null,next:H=>{let Z=!1;return!G&&B===void 0&&(Z=!0,P(H),p(H)),B!==void 0&&H>B?G.next(H-B):(!Z&&P(H),y)}}}const A$=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ut.update(e,!0),stop:()=>gi(e),now:()=>st.isProcessing?st.timestamp:performance.now()}},gS=2e4;function yS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<gS;)e+=n,r=t.next(e);return e>=gS?1/0:e}const P$={decay:mS,inertia:mS,tween:Of,keyframes:Of,spring:pk};function Mf({autoplay:t=!0,delay:e=0,driver:n=A$,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:f,onUpdate:m,...y}){let x=1,T=!1,C,L;const E=()=>{C&&C(),L=new Promise(ge=>{C=ge})};E();let _;const I=P$[i]||Of;let P;I!==Of&&typeof r[0]!="number"&&(P=hk([0,100],r,{clamp:!1}),r=[0,100]);const B=I({...y,keyframes:r});let G;a==="mirror"&&(G=I({...y,keyframes:[...r].reverse(),velocity:-(y.velocity||0)}));let p="idle",H=null,Z=null,me=null;B.calculatedDuration===null&&s&&(B.calculatedDuration=yS(B));const{calculatedDuration:rt}=B;let Xt=1/0,Ee=1/0;rt!==null&&(Xt=rt+o,Ee=Xt*(s+1)-o);let Ue=0;const it=ge=>{if(Z===null)return;x>0&&(Z=Math.min(Z,ge)),H!==null?Ue=H:Ue=(ge-Z)*x;const ze=Ue-e,ar=ze<0;Ue=Math.max(ze,0),p==="finished"&&H===null&&(Ue=Ee);let $n=Ue,Ci=B;if(s){const jo=Ue/Xt;let un=Math.floor(jo),Kr=jo%1;!Kr&&jo>=1&&(Kr=1),Kr===1&&un--,un=Math.min(un,s+1);const Wr=!!(un%2);Wr&&(a==="reverse"?(Kr=1-Kr,o&&(Kr-=o/Xt)):a==="mirror"&&(Ci=G));let As=ss(0,1,Kr);Ue>Ee&&(As=a==="reverse"&&Wr?1:0),$n=As*Xt}const an=ar?{done:!1,value:r[0]}:Ci.next($n);P&&(an.value=P(an.value));let{done:Gr}=an;!ar&&rt!==null&&(Gr=Ue>=Ee);const Ep=H===null&&(p==="finished"||p==="running"&&Gr||x<0&&Ue<=0);return m&&m(an.value),Ep&&ie(),an},Sn=()=>{_&&_.stop(),_=void 0},St=()=>{p="idle",Sn(),E(),Z=me=null},ie=()=>{p="finished",f&&f(),Sn(),E()},fe=()=>{if(T)return;_||(_=n(it));const ge=_.now();l&&l(),H!==null?Z=ge-H:(!Z||p==="finished")&&(Z=ge),me=Z,H=null,p="running",_.start()};t&&fe();const xe={then(ge,ze){return L.then(ge,ze)},get time(){return li(Ue)},set time(ge){ge=ts(ge),Ue=ge,H!==null||!_||x===0?H=ge:Z=_.now()-ge/x},get duration(){const ge=B.calculatedDuration===null?yS(B):B.calculatedDuration;return li(ge)},get speed(){return x},set speed(ge){ge===x||!_||(x=ge,xe.time=li(Ue))},get state(){return p},play:fe,pause:()=>{p="paused",H=Ue},stop:()=>{T=!0,p!=="idle"&&(p="idle",c&&c(),St())},cancel:()=>{me!==null&&it(me),St()},complete:()=>{p="finished"},sample:ge=>(Z=0,it(ge))};return xe}const N$=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sh=10,R$=2e4,L$=(t,e)=>e.type==="spring"||t==="backgroundColor"||!qI(e.ease);function O$(t,e,{onUpdate:n,onComplete:r,...i}){if(!(KI.waapi()&&N$.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(E=>{a=E})};c();let{keyframes:f,duration:m=300,ease:y,times:x}=i;if(L$(e,i)){const E=Mf({...i,repeat:0,delay:0});let _={done:!1,value:f[0]};const I=[];let P=0;for(;!_.done&&P<R$;)_=E.sample(P),I.push(_.value),P+=Sh;x=void 0,f=I,m=P-Sh,y="linear"}const T=KM(t.owner.current,e,f,{...i,duration:m,ease:y,times:x}),C=()=>T.cancel(),L=()=>{ut.update(C),a(),c()};return T.onfinish=()=>{t.set(WM(f,i)),r&&r(),L()},{then(E,_){return l.then(E,_)},get time(){return li(T.currentTime||0)},set time(E){T.currentTime=ts(E)},get speed(){return T.playbackRate},set speed(E){T.playbackRate=E},get duration(){return li(m)},play:()=>{o||(T.play(),gi(C))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:E}=T;if(E){const _=Mf({...i,autoplay:!1});t.setWithVelocity(_.sample(E-Sh).value,_.sample(E).value,Sh)}L()},complete:()=>T.finish(),cancel:L}}function M$({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:kt,pause:kt,stop:kt,then:s=>(s(),Promise.resolve()),cancel:kt,complete:kt});return e?Mf({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const $$={type:"spring",stiffness:500,damping:25,restSpeed:10},F$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),V$={type:"keyframes",duration:.8},j$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B$=(t,{keyframes:e})=>e.length>2?V$:Po.has(t)?t.startsWith("scale")?F$(e[1]):$$:j$,ry=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(os.test(e)||e==="0")&&!e.startsWith("url(")),U$=new Set(["brightness","contrast","saturate","opacity"]);function z$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ad)||[];if(!r)return t;const i=n.replace(r,"");let s=U$.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const q$=/([a-z-]*)\(.*?\)/g,iy={...os,getAnimatableNone:t=>{const e=t.match(q$);return e?e.map(z$).join(" "):t}},H$={...kI,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:iy,WebkitFilter:iy},v0=t=>H$[t];function mk(t,e){let n=v0(t);return n!==iy&&(n=os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gk=t=>/^0[^.\s]+$/.test(t);function G$(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||gk(t)}function K$(t,e,n,r){const i=ry(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),G$(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const f=l[c];s[f]=mk(e,a)}return s}function W$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}function yk(t,e){return t[e]||t.default||t}const w0=(t,e,n,r={})=>i=>{const s=yk(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ts(o);const l=K$(e,t,n,s),c=l[0],f=l[l.length-1],m=ry(t,c),y=ry(t,f);let x={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:T=>{e.set(T),s.onUpdate&&s.onUpdate(T)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(W$(s)||(x={...x,...B$(t,x)}),x.duration&&(x.duration=ts(x.duration)),x.repeatDelay&&(x.repeatDelay=ts(x.repeatDelay)),!m||!y||GM.current||s.type===!1)return M$(x);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=O$(e,t,x);if(T)return T}return Mf(x)};function $f(t){return!!(On(t)&&t.add)}const Q$=t=>/^\-?\d*\.?\d+$/.test(t);function x0(t,e){t.indexOf(e)===-1&&t.push(e)}function S0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class T0{constructor(){this.subscriptions=[]}add(e){return x0(this.subscriptions,e),()=>S0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const X$=t=>!isNaN(parseFloat(t));class Y${constructor(e,n={}){this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=st;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ut.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ut.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=X$(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new T0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?fk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Va(t,e){return new Y$(t,e)}const vk=t=>e=>e.test(t),J$={test:t=>t==="auto",parse:t=>t},wk=[No,de,Vr,Ri,rM,nM,J$],Lu=t=>wk.find(vk(t)),Z$=[...wk,hn,os],eF=t=>Z$.find(vk(t));function tF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Va(n))}function nF(t,e){const n=Rd(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=vM(s[o]);tF(t,o,a)}}function rF(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let f=null;Array.isArray(c)&&(f=c[0]),f===null&&(f=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),f!=null&&(typeof f=="string"&&(Q$(f)||gk(f))?f=parseFloat(f):!eF(f)&&os.test(c)&&(f=mk(l,c)),t.addValue(l,Va(f,{owner:t})),n[l]===void 0&&(n[l]=f),f!==null&&t.setBaseTarget(l,f))}}function iF(t,e){return e?(e[t]||e.default||e).from:void 0}function sF(t,e,n){const r={};for(const i in t){const s=iF(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function oF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const m in a){const y=t.getValue(m),x=a[m];if(!y||x===void 0||f&&oF(f,m))continue;const T={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!y.hasAnimated){const L=t.getProps()[qM];L&&(T.elapsed=window.HandoffAppearAnimations(L,m,y,ut))}y.start(w0(m,y,x,t.shouldReduceMotion&&Po.has(m)?{type:!1}:T));const C=y.animation;$f(l)&&(l.add(m),C.then(()=>l.remove(m))),c.push(C)}return o&&Promise.all(c).then(()=>{o&&nF(t,o)}),c}function sy(t,e,n={}){const r=Rd(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(xk(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:m}=i;return aF(t,e,c+l,f,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function aF(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(uF).forEach((c,f)=>{c.notify("AnimationStart",e),o.push(sy(c,e,{...s,delay:n+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function uF(t,e){return t.sortNodePosition(e)}function lF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>sy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=sy(t,e,n);else{const i=typeof e=="function"?Rd(t,e,n.custom):e;r=Promise.all(xk(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const cF=[...i0].reverse(),hF=i0.length;function fF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lF(t,n,r)))}function dF(t){let e=fF(t);const n=mF();let r=!0;const i=(l,c)=>{const f=Rd(t,c);if(f){const{transition:m,transitionEnd:y,...x}=f;l={...l,...x,...y}}return l};function s(l){e=l(t)}function o(l,c){const f=t.getProps(),m=t.getVariantContext(!0)||{},y=[],x=new Set;let T={},C=1/0;for(let E=0;E<hF;E++){const _=cF[E],I=n[_],P=f[_]!==void 0?f[_]:m[_],B=Bl(P),G=_===c?I.isActive:null;G===!1&&(C=E);let p=P===m[_]&&P!==f[_]&&B;if(p&&r&&t.manuallyAnimateOnMount&&(p=!1),I.protectedKeys={...T},!I.isActive&&G===null||!P&&!I.prevProp||bd(P)||typeof P=="boolean")continue;const H=pF(I.prevProp,P);let Z=H||_===c&&I.isActive&&!p&&B||E>C&&B;const me=Array.isArray(P)?P:[P];let rt=me.reduce(i,{});G===!1&&(rt={});const{prevResolvedValues:Xt={}}=I,Ee={...Xt,...rt},Ue=it=>{Z=!0,x.delete(it),I.needsAnimating[it]=!0};for(const it in Ee){const Sn=rt[it],St=Xt[it];T.hasOwnProperty(it)||(Sn!==St?Rf(Sn)&&Rf(St)?!UI(Sn,St)||H?Ue(it):I.protectedKeys[it]=!0:Sn!==void 0?Ue(it):x.add(it):Sn!==void 0&&x.has(it)?Ue(it):I.protectedKeys[it]=!0)}I.prevProp=P,I.prevResolvedValues=rt,I.isActive&&(T={...T,...rt}),r&&t.blockInitialAnimation&&(Z=!1),Z&&!p&&y.push(...me.map(it=>({animation:it,options:{type:_,...l}})))}if(x.size){const E={};x.forEach(_=>{const I=t.getBaseTarget(_);I!==void 0&&(E[_]=I)}),y.push({animation:E})}let L=!!y.length;return r&&f.initial===!1&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(y):Promise.resolve()}function a(l,c,f){var m;if(n[l].isActive===c)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(x=>{var T;return(T=x.animationState)===null||T===void 0?void 0:T.setActive(l,c)}),n[l].isActive=c;const y=o(f,l);for(const x in n)n[x].protectedKeys={};return y}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function pF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UI(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mF(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class gF extends Ss{constructor(e){super(e),e.animationState||(e.animationState=dF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),bd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yF=0;class vF extends Ss{constructor(){super(...arguments),this.id=yF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wF={animation:{Feature:gF},exit:{Feature:vF}},vS=(t,e)=>Math.abs(t-e);function xF(t,e){const n=vS(t.x,e.x),r=vS(t.y,e.y);return Math.sqrt(n**2+r**2)}class Sk{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Dm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=xF(c.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=c,{timestamp:x}=st;this.history.push({...y,timestamp:x});const{onStart:T,onMove:C}=this.handlers;f||(T&&T(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=bm(f,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:m,onSessionEnd:y}=this.handlers,x=Dm(c.type==="pointercancel"?this.lastMoveEventInfo:bm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(c,x),y&&y(c,x)},!MI(e))return;this.handlers=n,this.transformPagePoint=r;const i=Pd(e),s=bm(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=st;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Dm(s,this.history)),this.removeListeners=es(ui(window,"pointermove",this.handlePointerMove),ui(window,"pointerup",this.handlePointerUp),ui(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gi(this.updatePoint)}}function bm(t,e){return e?{point:e(t.point)}:t}function wS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dm({point:t},e){return{point:t,delta:wS(t,Tk(e)),offset:wS(t,SF(e)),velocity:TF(e,.1)}}function SF(t){return t[0]}function Tk(t){return t[t.length-1]}function TF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Tk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ts(e)));)n--;if(!r)return{x:0,y:0};const s=li(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zn(t){return t.max-t.min}function oy(t,e=0,n=.01){return Math.abs(t-e)<=n}function xS(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=zn(n)/zn(e),(oy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(oy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function fl(t,e,n,r){xS(t.x,e.x,n.x,r?r.originX:void 0),xS(t.y,e.y,n.y,r?r.originY:void 0)}function SS(t,e,n){t.min=n.min+e.min,t.max=t.min+zn(e)}function EF(t,e,n){SS(t.x,e.x,n.x),SS(t.y,e.y,n.y)}function TS(t,e,n){t.min=e.min-n.min,t.max=t.min+zn(e)}function dl(t,e,n){TS(t.x,e.x,n.x),TS(t.y,e.y,n.y)}function _F(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function ES(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CF(t,{top:e,left:n,bottom:r,right:i}){return{x:ES(t.x,n,i),y:ES(t.y,e,r)}}function _S(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function IF(t,e){return{x:_S(t.x,e.x),y:_S(t.y,e.y)}}function kF(t,e){let n=.5;const r=zn(t),i=zn(e);return i>r?n=ql(e.min,e.max-r,t.min):r>i&&(n=ql(t.min,t.max-i,e.min)),ss(0,1,n)}function bF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ay=.35;function DF(t=ay){return t===!1?t=0:t===!0&&(t=ay),{x:CS(t,"left","right"),y:CS(t,"top","bottom")}}function CS(t,e,n){return{min:IS(t,e),max:IS(t,n)}}function IS(t,e){return typeof t=="number"?t:t[e]||0}const kS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ya=()=>({x:kS(),y:kS()}),bS=()=>({min:0,max:0}),Et=()=>({x:bS(),y:bS()});function Dr(t){return[t("x"),t("y")]}function Ek({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Am(t){return t===void 0||t===1}function uy({scale:t,scaleX:e,scaleY:n}){return!Am(t)||!Am(e)||!Am(n)}function js(t){return uy(t)||_k(t)||t.z||t.rotate||t.rotateX||t.rotateY}function _k(t){return DS(t.x)||DS(t.y)}function DS(t){return t&&t!=="0%"}function Ff(t,e,n){const r=t-n,i=e*r;return n+i}function AS(t,e,n,r,i){return i!==void 0&&(t=Ff(t,i,r)),Ff(t,n,r)+e}function ly(t,e=0,n=1,r,i){t.min=AS(t.min,e,n,r,i),t.max=AS(t.max,e,n,r,i)}function Ck(t,{x:e,y:n}){ly(t.x,e.translate,e.scale,e.originPoint),ly(t.y,n.translate,n.scale,n.originPoint)}function NF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&va(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ck(t,o)),r&&js(s.latestValues)&&va(t,s.latestValues))}e.x=PS(e.x),e.y=PS(e.y)}function PS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Mi(t,e){t.min=t.min+e,t.max=t.max+e}function NS(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=at(t.min,t.max,s);ly(t,e[n],e[r],o,e.scale)}const RF=["x","scaleX","originX"],LF=["y","scaleY","originY"];function va(t,e){NS(t.x,e,RF),NS(t.y,e,LF)}function Ik(t,e){return Ek(PF(t.getBoundingClientRect(),e))}function OF(t,e,n){const r=Ik(t,n),{scroll:i}=e;return i&&(Mi(r.x,i.offset.x),Mi(r.y,i.offset.y)),r}const MF=new WeakMap;class $F{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Pd(l,"page").point)},s=(l,c)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=FI(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dr(T=>{let C=this.getAxisMotionValue(T).get()||0;if(Vr.test(C)){const{projection:L}=this.visualElement;if(L&&L.layout){const E=L.layout.layoutBox[T];E&&(C=zn(E)*(parseFloat(C)/100))}}this.originPoint[T]=C}),y&&ut.update(()=>y(l,c),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:T}=c;if(m&&this.currentDirection===null){this.currentDirection=FF(T),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",c.point,T),this.updateAxis("y",c.point,T),this.visualElement.render(),x&&x(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new Sk(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ut.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Th(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_F(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&ma(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=CF(r.layoutBox,e):this.constraints=!1,this.elastic=DF(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=bF(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ma(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=OF(r,i.root,this.visualElement.getTransformPagePoint());let o=IF(i.layout.layoutBox,s);if(n){const a=n(AF(o));this.hasMutatedConstraints=!!a,a&&(o=Ek(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Dr(f=>{if(!Th(f,n,this.currentDirection))return;let m=l&&l[f]||{};o&&(m={min:0,max:0});const y=i?200:1e6,x=i?40:1e7,T={type:"inertia",velocity:r?e[f]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(w0(e,r,0,n))}stopAnimation(){Dr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dr(n=>{const{drag:r}=this.getProps();if(!Th(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-at(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ma(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Dr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=kF({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dr(o=>{if(!Th(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(at(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;MF.set(this.visualElement,this);const e=this.visualElement.current,n=ui(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ma(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ii(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Dr(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=l[f].translate,m.set(m.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ay,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Th(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VF extends Ss{constructor(e){super(e),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new $F(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const RS=t=>(e,n)=>{t&&ut.update(()=>t(e,n))};class jF extends Ss{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(e){this.session=new Sk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RS(e),onStart:RS(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ut.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ui(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function BF(){const t=q.useContext(r0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=q.useId();return q.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=LS(t,e.target.x),r=LS(t,e.target.y);return`${n}% ${r}%`}},UF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=os.parse(t);if(i.length>5)return r;const s=os.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=at(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class zF extends yr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;QO(qF),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ut.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kk(t){const[e,n]=BF(),r=q.useContext(SI);return yr.createElement(zF,{...t,layoutGroup:r,switchLayoutGroup:q.useContext(TI),isPresent:e,safeToRemove:n})}const qF={borderRadius:{...Ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ou,borderTopRightRadius:Ou,borderBottomLeftRadius:Ou,borderBottomRightRadius:Ou,boxShadow:UF},bk=["TopLeft","TopRight","BottomLeft","BottomRight"],HF=bk.length,OS=t=>typeof t=="string"?parseFloat(t):t,MS=t=>typeof t=="number"||de.test(t);function GF(t,e,n,r,i,s){i?(t.opacity=at(0,n.opacity!==void 0?n.opacity:1,KF(r)),t.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,WF(r))):s&&(t.opacity=at(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<HF;o++){const a=`border${bk[o]}Radius`;let l=$S(e,a),c=$S(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||MS(l)===MS(c)?(t[a]=Math.max(at(OS(l),OS(c),r),0),(Vr.test(c)||Vr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function $S(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KF=Dk(0,.5,m0),WF=Dk(.5,.95,kt);function Dk(t,e,n){return r=>r<t?0:r>e?1:n(ql(t,e,r))}function FS(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){FS(t.x,e.x),FS(t.y,e.y)}function VS(t,e,n,r,i){return t-=e,t=Ff(t,1/n,r),i!==void 0&&(t=Ff(t,1/i,r)),t}function QF(t,e=0,n=1,r=.5,i,s=t,o=t){if(Vr.test(e)&&(e=parseFloat(e),e=at(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=at(s.min,s.max,r);t===s&&(a-=e),t.min=VS(t.min,e,n,a,i),t.max=VS(t.max,e,n,a,i)}function jS(t,e,[n,r,i],s,o){QF(t,e[n],e[r],e[i],e.scale,s,o)}const XF=["x","scaleX","originX"],YF=["y","scaleY","originY"];function BS(t,e,n,r){jS(t.x,e,XF,n?n.x:void 0,r?r.x:void 0),jS(t.y,e,YF,n?n.y:void 0,r?r.y:void 0)}function US(t){return t.translate===0&&t.scale===1}function Ak(t){return US(t.x)&&US(t.y)}function cy(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function zS(t){return zn(t.x)/zn(t.y)}class JF{constructor(){this.members=[]}add(e){x0(this.members,e),e.scheduleRender()}remove(e){if(S0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qS(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:f}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const ZF=(t,e)=>t.depth-e.depth;class eV{constructor(){this.children=[],this.isDirty=!1}add(e){x0(this.children,e),this.isDirty=!0}remove(e){S0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZF),this.isDirty=!1,this.children.forEach(e)}}function tV(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gi(r),t(s-e))};return ut.read(r,!0),()=>gi(r)}function nV(t){window.MotionDebug&&window.MotionDebug.record(t)}function rV(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iV(t,e,n){const r=On(t)?t:Va(t);return r.start(w0("",r,e,n)),r.animation}const HS=["","X","Y","Z"],GS=1e3;let sV=0;const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Pk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0,this.nodes.forEach(uV),this.nodes.forEach(dV),this.nodes.forEach(pV),this.nodes.forEach(lV),nV(Bs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new T0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rV(o),this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=tV(y,250),Yh.hasAnimatedSinceResize&&(Yh.hasAnimatedSinceResize=!1,this.nodes.forEach(WS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeTargetChanged:x,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||f.getDefaultTransition()||wV,{onLayoutAnimationStart:L,onLayoutAnimationComplete:E}=f.getProps(),_=!this.targetLayout||!cy(this.targetLayout,T)||x,I=!y&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||y&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,I);const P={...yk(C,"layout"),onPlay:L,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else y||WS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KS);return}this.isUpdating||this.nodes.forEach(hV),this.isUpdating=!1,this.nodes.forEach(fV),this.nodes.forEach(oV),this.nodes.forEach(aV),this.clearAllSnapshots();const a=performance.now();st.delta=ss(0,1e3/60,a-st.timestamp),st.timestamp=a,st.isProcessing=!0,Ia.update.process(st),Ia.preRender.process(st),Ia.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(cV),this.sharedNodes.forEach(gV)}scheduleUpdateProjection(){ut.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ak(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&(a||js(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Et();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Mi(a.x,l.offset.x),Mi(a.y,l.offset.y)),a}removeElementScroll(o){const a=Et();Yn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:m}=c;if(c!==this.root&&f&&m.layoutScroll){if(f.isRoot){Yn(a,o);const{scroll:y}=this.root;y&&(Mi(a.x,-y.offset.x),Mi(a.y,-y.offset.y))}Mi(a.x,f.offset.x),Mi(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=Et();Yn(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&va(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),js(f.latestValues)&&va(l,f.latestValues)}return js(this.latestValues)&&va(l,this.latestValues),l}removeTransform(o){const a=Et();Yn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!js(c.latestValues))continue;uy(c.latestValues)&&c.updateSnapshot();const f=Et(),m=c.measurePageBox();Yn(f,m),BS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return js(this.latestValues)&&BS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=st.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),dl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),Ck(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),dl(this.relativeTargetOrigin,this.target,x.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uy(this.parent.latestValues)||_k(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===st.timestamp&&(c=!1),c)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Yn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;NF(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:T}=a;if(!T){this.projectionTransform&&(this.projectionDelta=ya(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ya(),this.projectionDeltaWithTransform=ya());const C=this.projectionTransform;fl(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=qS(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==y||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},m=ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const y=Et(),x=l?l.source:void 0,T=this.layout?this.layout.source:void 0,C=x!==T,L=this.getStack(),E=!L||L.members.length<=1,_=!!(C&&!E&&this.options.crossfade===!0&&!this.path.some(vV));this.animationProgress=0;let I;this.mixTargetDelta=P=>{const B=P/1e3;QS(m.x,o.x,B),QS(m.y,o.y,B),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dl(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yV(this.relativeTarget,this.relativeTargetOrigin,y,B),I&&cy(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Et()),Yn(I,this.relativeTarget)),C&&(this.animationValues=f,GF(f,c,this.latestValues,B,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Yh.hasAnimatedSinceResize=!0,this.currentAnimation=iV(0,GS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Nk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Et();const m=zn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+m;const y=zn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+y}Yn(a,l),va(a,f),fl(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JF),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let f=0;f<HS.length;f++){const m="rotate"+HS[f];l[m]&&(c[m]=l[m],o.setStaticValue(m,0))}o.render();for(const f in c)o.setStaticValue(f,c[f]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xh(o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Xh(o.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(C.transform=f?f({},""):"none",this.hasProjected=!1),C}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=qS(this.projectionDeltaWithTransform,this.treeScale,y),f&&(c.transform=f(y,c.transform));const{x,y:T}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${T.origin*100}% 0`,m.animationValues?c.opacity=m===this?(l=(a=y.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in Pf){if(y[C]===void 0)continue;const{correct:L,applyTo:E}=Pf[C],_=c.transform==="none"?y[C]:L(y[C],m);if(E){const I=E.length;for(let P=0;P<I;P++)c[E[P]]=_}else c[C]=_}return this.options.layoutId&&(c.pointerEvents=m===this?Xh(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KS),this.root.sharedNodes.clear()}}}function oV(t){t.updateLayout()}function aV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Dr(m=>{const y=o?n.measuredBox[m]:n.layoutBox[m],x=zn(y);y.min=r[m].min,y.max=y.min+x}):Nk(s,n.layoutBox,r)&&Dr(m=>{const y=o?n.measuredBox[m]:n.layoutBox[m],x=zn(r[m]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const a=ya();fl(a,r,n.layoutBox);const l=ya();o?fl(l,t.applyTransform(i,!0),n.measuredBox):fl(l,r,n.layoutBox);const c=!Ak(a);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:x}=m;if(y&&x){const T=Et();dl(T,n.layoutBox,y.layoutBox);const C=Et();dl(C,r,x.layoutBox),cy(T,C)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function uV(t){Bs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cV(t){t.clearSnapshot()}function KS(t){t.clearMeasurements()}function hV(t){t.isLayoutDirty=!1}function fV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dV(t){t.resolveTargetDelta()}function pV(t){t.calcProjection()}function mV(t){t.resetRotation()}function gV(t){t.removeLeadSnapshot()}function QS(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XS(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function yV(t,e,n,r){XS(t.x,e.x,n.x,r),XS(t.y,e.y,n.y,r)}function vV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wV={duration:.45,ease:[.4,0,.1,1]};function YS(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function xV(t){YS(t.x),YS(t.y)}function Nk(t,e,n){return t==="position"||t==="preserve-aspect"&&!oy(zS(e),zS(n),.2)}const SV=Pk({attachResizeListener:(t,e)=>ii(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pm={current:void 0},Rk=Pk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pm.current){const t=new SV({});t.mount(window),t.setOptions({layoutScroll:!0}),Pm.current=t}return Pm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TV={pan:{Feature:jF},drag:{Feature:VF,ProjectionNode:Rk,MeasureLayout:kk}},EV=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function _V(t){const e=EV.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function hy(t,e,n=1){const[r,i]=_V(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():Jg(i)?hy(i,e,n+1):i}function CV(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Jg(s))return;const o=hy(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Jg(s))continue;const o=hy(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const IV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Lk=t=>IV.has(t),kV=t=>Object.keys(t).some(Lk),JS=t=>t===No||t===de,ZS=(t,e)=>parseFloat(t.split(", ")[e]),eT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return ZS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?ZS(s[1],t):0}},bV=new Set(["x","y","z"]),DV=wc.filter(t=>!bV.has(t));function AV(t){const e=[];return DV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const tT={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eT(4,13),y:eT(5,14)},PV=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=tT[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const f=e.getValue(c);f&&f.jump(a[c]),t[c]=tT[c](l,s)}),t},NV=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Lk);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let f=n[l],m=Lu(f);const y=e[l];let x;if(Rf(y)){const T=y.length,C=y[0]===null?1:0;f=y[C],m=Lu(f);for(let L=C;L<T&&y[L]!==null;L++)x?p0(Lu(y[L])===x):x=Lu(y[L])}else x=Lu(y);if(m!==x)if(JS(m)&&JS(x)){const T=c.get();typeof T=="string"&&c.set(parseFloat(T)),typeof y=="string"?e[l]=parseFloat(y):Array.isArray(y)&&x===de&&(e[l]=y.map(parseFloat))}else m!=null&&m.transform&&(x!=null&&x.transform)&&(f===0||y===0)?f===0?c.set(x.transform(f)):e[l]=m.transform(y):(o||(s=AV(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(y))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=PV(e,t,a);return s.length&&s.forEach(([f,m])=>{t.getValue(f).set(m)}),t.render(),kd&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function RV(t,e,n,r){return kV(e)?NV(t,e,n,r):{target:e,transitionEnd:r}}const LV=(t,e,n,r)=>{const i=CV(t,e,r);return e=i.target,r=i.transitionEnd,RV(t,e,n,r)},fy={current:null},Ok={current:!1};function OV(){if(Ok.current=!0,!!kd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fy.current=t.matches;t.addListener(e),e()}else fy.current=!1}function MV(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(On(s))t.addValue(i,s),$f(r)&&r.add(i);else if(On(o))t.addValue(i,Va(s,{owner:t})),$f(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Va(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const nT=new WeakMap,Mk=Object.keys(Ul),$V=Mk.length,rT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FV=s0.length;class VV{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ut.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Dd(n),this.isVariantNode=xI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{});for(const m in f){const y=f[m];a[m]!==void 0&&On(y)&&(y.set(a[m],!1),$f(c)&&c.add(m))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,nT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ok.current||OV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nT.delete(this.current),this.projection&&this.projection.unmount(),gi(this.notifyUpdate),gi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Po.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ut.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<$V;l++){const c=Mk[l],{isEnabled:f,Feature:m,ProjectionNode:y,MeasureLayout:x}=Ul[c];y&&(o=y),f(n)&&(!this.features[c]&&m&&(this.features[c]=new m(this)),x&&(a=x))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:f,dragConstraints:m,layoutScroll:y,layoutRoot:x}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!f||m&&ma(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:y,layoutRoot:x})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rT.length;r++){const i=rT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=MV(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<FV;r++){const i=s0[r],s=this.props[i];(Bl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Va(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=d0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!On(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new T0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $k extends VV{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=sF(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){rF(this,r,o);const a=LV(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function jV(t){return window.getComputedStyle(t)}class BV extends $k{readValueFromInstance(e,n){if(Po.has(n)){const r=v0(n);return r&&r.default||0}else{const r=jV(e),i=(CI(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ik(e,n)}build(e,n,r,i){a0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return f0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;On(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){PI(e,n,r,i)}}class UV extends $k{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Po.has(n)){const r=v0(n);return r&&r.default||0}return n=NI.has(n)?n:h0(n),e.getAttribute(n)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(e,n){return LI(e,n)}build(e,n,r,i){l0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){RI(e,n,r,i)}mount(e){this.isSVGTag=c0(e.tagName),super.mount(e)}}const zV=(t,e)=>o0(t)?new UV(e,{enableHardwareAcceleration:!1}):new BV(e,{enableHardwareAcceleration:!0}),qV={layout:{ProjectionNode:Rk,MeasureLayout:kk}},HV={...wF,...jM,...TV,...qV},ja=KO((t,e)=>EM(t,e,HV,zV));class GV extends q.Component{constructor(){super(...arguments);Cu(this,"state",{date:{}});Cu(this,"print",()=>{wh.fn.autotype=function(){var n=wh(this),r=n.html();r=r.replace(/(\s){2,}/g,"$1");var i=0;wh(this).html("");var s=function o(){var a=r.slice(i,i+1);a=="<"?i=r.indexOf(">",i)+1:i++,i<r.length-1?n.html(r.substring(0,i)+(i&1?"_":"")):(n.html(r.substring(0,i)),clearTimeout(s)),setTimeout(o,200)};setTimeout(s,1e3)},wh("#autotype").autotype()});Cu(this,"time",(n,r,i)=>{var s=new Date,o=new Date(n,r-1,i),a=parseInt((s-o)/(24*3600*1e3)),l=parseInt((s-o)/(3600*1e3)%24),c=parseInt((s-o)/(1e3*60)%60),f=parseInt((s-o)/1e3%60);this.setState({date:{d:a,hour:l,minute:c,second:f}})})}componentDidMount(){this.print(),setInterval(()=>{this.time(2022,9,19)},1e3);var n=document.getElementById("audio");setTimeout(()=>n.play(),2e3)}render(){const n=()=>{if(this.state.date.d!==void 0){const{d:r,hour:i,minute:s,second:o}=this.state.date;return R.jsxs("p",{children:[": ",R.jsx("span",{className:"date-text",children:r}),"  ",R.jsx("span",{className:"date-text",children:i}),"  ",R.jsx("span",{className:"date-text",children:s}),"  ",R.jsx("span",{className:"date-text",children:o}),"  "]})}};return R.jsxs("div",{className:"App ",children:[R.jsx("div",{className:"date",children:n()}),R.jsxs("div",{id:"autotype",children:[R.jsx("h1",{style:{fontWeight:900},children:""}),R.jsx("p",{children:""}),R.jsxs("div",{style:{textAlign:"right"},children:[R.jsx("p",{children:""}),R.jsx("p",{children:"202361"})]})]})]})}}class KV extends q.Component{constructor(){super(...arguments);Cu(this,"state",{showMain:!1})}render(){const{showMain:n}=this.state;return R.jsxs("div",{children:[!n&&R.jsxs("div",{className:"envelope animated bounceInLeft",children:[R.jsx("div",{className:"triangle-down"}),R.jsx("img",{className:"heart",src:$O,onClick:()=>{this.setState({showMain:!0})}}),R.jsx("div",{className:"triangle-up"}),R.jsx("div",{className:"text",children:""})]}),n&&R.jsx(ja.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3,ease:[0,.71,.2,1.01],scale:{type:"spring",damping:5,stiffness:100,restDelta:.001}},children:R.jsx(GV,{})})]})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|a>>4;let y=(a&15)<<2|c>>6,x=c&63;l||(x=64,o||(y=64)),r.push(n[f],n[m],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||m==null)throw new QV;const y=s<<2|a>>4;if(r.push(y),c!==64){const x=a<<4&240|c>>2;if(r.push(x),m!==64){const T=c<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XV=function(t){const e=Fk(t);return Vk.encodeByteArray(e,!0)},Vf=function(t){return XV(t).replace(/\./g,"")},YV=function(t){try{return Vk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JV(n)||(t[n]=jf(t[n],e[n]));return t}function JV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=()=>ZV().__FIREBASE_DEFAULTS__,tj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YV(t[1]);return e&&JSON.parse(e)},jk=()=>{try{return ej()||tj()||nj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bk=()=>{var t;return(t=jk())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Vf(JSON.stringify(n)),Vf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zk(){var t;const e=(t=jk())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ij(){return typeof self=="object"&&self.self===self}function sj(){return!zk()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qk(){try{return typeof indexedDB=="object"}catch{return!1}}function oj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aj,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ld.prototype.create)}}class Ld{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,a,r)}}function uj(t,e){return t.replace(lj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function py(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sT(s)&&sT(o)){if(!py(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sT(t){return t!==null&&typeof t=="object"}function cj(t,e){const n=new hj(t,e);return n.subscribe.bind(n)}class hj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nm),i.error===void 0&&(i.error=Nm),i.complete===void 0&&(i.complete=Nm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mj(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pj(t){return t===Us?void 0:t}function mj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=[];var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const Hk={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},yj=Me.INFO,vj={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},wj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _0{constructor(e){this.name=e,this._logLevel=yj,this._logHandler=wj,this._userLogHandler=null,E0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}function xj(t){E0.forEach(e=>{e.setLogLevel(t)})}function Sj(t,e){for(const n of E0){let r=null;e&&e.level&&(r=Hk[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Me[s].toLowerCase(),message:a,args:o,type:i.name})}}}const Tj=(t,e)=>e.some(n=>t instanceof n);let oT,aT;function Ej(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _j(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gk=new WeakMap,my=new WeakMap,Kk=new WeakMap,Rm=new WeakMap,C0=new WeakMap;function Cj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Gk.set(n,t)}).catch(()=>{}),C0.set(e,t),e}function Ij(t){if(my.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});my.set(t,e)}let gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kj(t){gy=t(gy)}function bj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lm(this),e,...n);return Kk.set(r,e.sort?e.sort():[e]),ns(r)}:_j().includes(t)?function(...e){return t.apply(Lm(this),e),ns(Gk.get(this))}:function(...e){return ns(t.apply(Lm(this),e))}}function Dj(t){return typeof t=="function"?bj(t):(t instanceof IDBTransaction&&Ij(t),Tj(t,Ej())?new Proxy(t,gy):t)}function ns(t){if(t instanceof IDBRequest)return Cj(t);if(Rm.has(t))return Rm.get(t);const e=Dj(t);return e!==t&&(Rm.set(t,e),C0.set(e,t)),e}const Lm=t=>C0.get(t);function Aj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ns(o.result),l.oldVersion,l.newVersion,ns(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Pj=["get","getKey","getAll","getAllKeys","count"],Nj=["put","add","delete","clear"],Om=new Map;function uT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Nj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Om.set(e,s),s}kj(t=>({...t,get:(e,n,r)=>uT(e,n)||t.get(e,n,r),has:(e,n)=>!!uT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",lT="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new _0("@firebase/app"),Oj="@firebase/app-compat",Mj="@firebase/analytics-compat",$j="@firebase/analytics",Fj="@firebase/app-check-compat",Vj="@firebase/app-check",jj="@firebase/auth",Bj="@firebase/auth-compat",Uj="@firebase/database",zj="@firebase/database-compat",qj="@firebase/functions",Hj="@firebase/functions-compat",Gj="@firebase/installations",Kj="@firebase/installations-compat",Wj="@firebase/messaging",Qj="@firebase/messaging-compat",Xj="@firebase/performance",Yj="@firebase/performance-compat",Jj="@firebase/remote-config",Zj="@firebase/remote-config-compat",eB="@firebase/storage",tB="@firebase/storage-compat",nB="@firebase/firestore",rB="@firebase/firestore-compat",iB="firebase",sB="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]",oB={[yy]:"fire-core",[Oj]:"fire-core-compat",[$j]:"fire-analytics",[Mj]:"fire-analytics-compat",[Vj]:"fire-app-check",[Fj]:"fire-app-check-compat",[jj]:"fire-auth",[Bj]:"fire-auth-compat",[Uj]:"fire-rtdb",[zj]:"fire-rtdb-compat",[qj]:"fire-fn",[Hj]:"fire-fn-compat",[Gj]:"fire-iid",[Kj]:"fire-iid-compat",[Wj]:"fire-fcm",[Qj]:"fire-fcm-compat",[Xj]:"fire-perf",[Yj]:"fire-perf-compat",[Jj]:"fire-rc",[Zj]:"fire-rc-compat",[eB]:"fire-gcs",[tB]:"fire-gcs-compat",[nB]:"fire-fst",[rB]:"fire-fst-compat","fire-js":"fire-js",[iB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Map,Hl=new Map;function Bf(t,e){try{t.container.addComponent(e)}catch(n){po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wk(t,e){t.container.addOrOverwriteComponent(e)}function mo(t){const e=t.name;if(Hl.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;Hl.set(e,t);for(const n of us.values())Bf(n,t);return!0}function Qk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function aB(t,e,n=as){Qk(t,e).clearInstance(n)}function uB(){Hl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ci=new Ld("app","Firebase",lB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cB=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=sB;function I0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:as,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=Bk()),!n)throw ci.create("no-options");const s=us.get(i);if(s){if(py(n,s.options)&&py(r,s.config))return s;throw ci.create("duplicate-app",{appName:i})}const o=new gj(i);for(const l of Hl.values())o.addComponent(l);const a=new cB(n,r,o);return us.set(i,a),a}function hB(t=as){const e=us.get(t);if(!e&&t===as&&Bk())return I0();if(!e)throw ci.create("no-app",{appName:t});return e}function fB(){return Array.from(us.values())}async function Xk(t){const e=t.name;us.has(e)&&(us.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function jr(t,e,n){var r;let i=(r=oB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(a.join(" "));return}mo(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Yk(t,e){if(t!==null&&typeof t!="function")throw ci.create("invalid-log-argument");Sj(t,e)}function Jk(t){xj(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="firebase-heartbeat-database",pB=1,Gl="firebase-heartbeat-store";let Mm=null;function Zk(){return Mm||(Mm=Aj(dB,pB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gl)}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),Mm}async function mB(t){try{return await(await Zk()).transaction(Gl).objectStore(Gl).get(eb(t))}catch(e){if(e instanceof Ts)po.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});po.warn(n.message)}}}async function cT(t,e){try{const r=(await Zk()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,eb(t)),await r.done}catch(n){if(n instanceof Ts)po.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});po.warn(r.message)}}}function eb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=1024,yB=30*24*60*60*1e3;class vB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=yB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hT(),{heartbeatsToSend:n,unsentEntries:r}=wB(this._heartbeatsCache.heartbeats),i=Vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function hT(){return new Date().toISOString().substring(0,10)}function wB(t,e=gB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qk()?oj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await mB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fT(t){return Vf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t){mo(new yi("platform-logger",e=>new Rj(e),"PRIVATE")),mo(new yi("heartbeat",e=>new vB(e),"PRIVATE")),jr(yy,lT,t),jr(yy,lT,"esm2017"),jr("fire-js","")}SB("");const TB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ts,SDK_VERSION:Od,_DEFAULT_ENTRY_NAME:as,_addComponent:Bf,_addOrOverwriteComponent:Wk,_apps:us,_clearComponents:uB,_components:Hl,_getProvider:Qk,_registerComponent:mo,_removeServiceInstance:aB,deleteApp:Xk,getApp:hB,getApps:fB,initializeApp:I0,onLog:Yk,registerVersion:jr,setLogLevel:Jk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n){this._delegate=e,this.firebase=n,Bf(e,new yi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Xk(this._delegate)))}_getService(e,n=as){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=as){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Bf(this._delegate,e)}_addOrOverwriteComponent(e){Wk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},dT=new Ld("app-compat","Firebase",_B);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:jr,setLogLevel:Jk,onLog:Yk,apps:null,SDK_VERSION:Od,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:TB}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||as,!iT(e,c))throw dT.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,f={}){const m=I0(c,f);if(iT(e,m.name))return e[m.name];const y=new t(m,n);return e[m.name]=y,y}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const f=c.name,m=f.replace("-compat","");if(mo(c)&&c.type==="PUBLIC"){const y=(x=i())=>{if(typeof x[m]!="function")throw dT.create("invalid-app-argument",{appName:f});return x[m]()};c.serviceProps!==void 0&&jf(y,c.serviceProps),n[m]=y,t.prototype[m]=function(...x){return this._getService.bind(this,f).apply(this,c.multipleInstances?x:[])}}return c.type==="PUBLIC"?n[m]:null}function l(c,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){const t=CB(EB);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:tb,extendNamespace:e,createSubscribe:cj,ErrorFactory:Ld,deepExtend:jf});function e(n){jf(t,n)}return t}const IB=tb();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new _0("@firebase/app-compat"),kB="@firebase/app-compat",bB="0.2.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){jr(kB,bB,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(ij()&&self.firebase!==void 0){pT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&pT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ro=IB;DB();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firebasestorage.googleapis.com",rb="storageBucket",AB=2*60*1e3,PB=10*60*1e3,NB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht extends Ts{constructor(e,n,r=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function $m(t){return"storage/"+t}function k0(){const t="An unknown error occurred, please check the error payload for server response.";return new ht(Ze.UNKNOWN,t)}function RB(t){return new ht(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LB(t){return new ht(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(Ze.UNAUTHENTICATED,t)}function MB(){return new ht(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $B(t){return new ht(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ib(){return new ht(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sb(){return new ht(Ze.CANCELED,"User canceled the upload/download.")}function FB(t){return new ht(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function VB(t){return new ht(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jB(){return new ht(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rb+"' property when initializing the app?")}function ob(){return new ht(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BB(){return new ht(Ze.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function UB(){return new ht(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zB(t){return new ht(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ka(t){return new ht(Ze.INVALID_ARGUMENT,t)}function ab(){return new ht(Ze.APP_DELETED,"The Firebase app was deleted.")}function ub(t){return new ht(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pl(t,e){return new ht(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mu(t){throw new ht(Ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nn.makeFromUrl(e,n)}catch{return new nn(e,"")}if(r.path==="")return r;throw VB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${f}/b/${i}/o${y}`,"i"),T={bucket:1,path:3},C=n===nb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",E=new RegExp(`^https?://${C}/${i}/${L}`,"i"),I=[{regex:a,indices:l,postModify:s},{regex:x,indices:T,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<I.length;P++){const B=I[P],G=B.regex.exec(e);if(G){const p=G[B.indices.bucket];let H=G[B.indices.path];H||(H=""),r=new nn(p,H),B.postModify(r);break}}if(r==null)throw FB(e);return r}}class qB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function f(...L){c||(c=!0,e.apply(null,L))}function m(L){i=setTimeout(()=>{i=null,t(x,l())},L)}function y(){s&&clearTimeout(s)}function x(L,...E){if(c){y();return}if(L){y(),f.call(null,L,...E);return}if(l()||o){y(),f.call(null,L,...E);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,m(I)}let T=!1;function C(L){T||(T=!0,y(),!c&&(i!==null?(L||(a=2),clearTimeout(i),m(0)):L||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function GB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){return t!==void 0}function WB(t){return typeof t=="function"}function QB(t){return typeof t=="object"&&!Array.isArray(t)}function Md(t){return typeof t=="string"||t instanceof String}function mT(t){return b0()&&t instanceof Blob}function b0(){return typeof Blob<"u"&&!zk()}function vy(t,e,n,r){if(r<e)throw ka(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ka(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function lb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r,i,s,o,a,l,c,f,m,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,T)=>{this.resolve_=x,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Eh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===so.NO_ERROR,l=s.getStatus();if(!a||cb(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===so.ABORT;r(!1,new Eh(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Eh(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());KB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=k0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?ab():sb();o(l)}else{const l=ib();o(l)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=HB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function YB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function e4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function t4(t,e,n,r,i,s,o=!0){const a=lb(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return ZB(c,e),YB(c,n),JB(c,s),e4(c,r),new XB(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r4(...t){const e=n4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(b0())return new Blob(t);throw new ht(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){if(typeof atob>"u")throw zB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fm{constructor(e,n){this.data=e,this.contentType=n||null}}function hb(t,e){switch(t){case nr.RAW:return new Fm(fb(e));case nr.BASE64:case nr.BASE64URL:return new Fm(db(t,e));case nr.DATA_URL:return new Fm(a4(e),u4(e))}throw k0()}function fb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function o4(t){let e;try{e=decodeURIComponent(t)}catch{throw pl(nr.DATA_URL,"Malformed data URL.")}return fb(e)}function db(t,e){switch(t){case nr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw pl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case nr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw pl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s4(e)}catch(i){throw i.message.includes("polyfill")?i:pl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class pb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw pl(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=l4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function a4(t){const e=new pb(t);return e.base64?db(nr.BASE64,e.rest):o4(e.rest)}function u4(t){return new pb(t).contentType}function l4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){let r=0,i="";mT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(mT(this.data_)){const r=this.data_,i=i4(r,e,n);return i===null?null:new ti(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ti(r,!0)}}static getBlob(...e){if(b0()){const n=e.map(r=>r instanceof ti?r.data_:r);return new ti(r4.apply(null,n))}else{const n=e.map(o=>Md(o)?hb(nr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ti(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){let e;try{e=JSON.parse(t)}catch{return null}return QB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function mb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t,e){return e}class cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||f4}}let _h=null;function d4(t){return!Md(t)||t.length<2?t:mb(t)}function $d(){if(_h)return _h;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(s,o){return d4(o)}const n=new cn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new cn("size");return i.xform=r,t.push(i),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),_h=t,_h}function p4(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new nn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function m4(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return p4(r,t),r}function gb(t,e,n){const r=D0(e);return r===null?null:m4(t,r,n)}function g4(t,e,n,r){const i=D0(e);if(i===null||!Md(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const f=t.bucket,m=t.fullPath,y="/b/"+o(f)+"/o/"+o(m),x=Es(y,n,r),T=lb({alt:"media",token:c});return x+T})[0]}function A0(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="prefixes",yT="items";function y4(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[gT])for(const i of n[gT]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new nn(e,s));r.prefixes.push(o)}if(n[yT])for(const i of n[yT]){const s=t._makeStorageReference(new nn(e,i.name));r.items.push(s)}return r}function v4(t,e,n){const r=D0(n);return r===null?null:y4(t,e,r)}class Si{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){if(!t)throw k0()}function Fd(t,e){function n(r,i){const s=gb(t,i,e);return Br(s!==null),s}return n}function w4(t,e){function n(r,i){const s=v4(t,e,i);return Br(s!==null),s}return n}function x4(t,e){function n(r,i){const s=gb(t,i,e);return Br(s!==null),g4(s,i,t.host,t._protocol)}return n}function iu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=MB():i=OB():n.getStatus()===402?i=LB(t.bucket):n.getStatus()===403?i=$B(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Vd(t){const e=iu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=RB(t.path)),s.serverResponse=i.serverResponse,s}return n}function yb(t,e,n){const r=e.fullServerUrl(),i=Es(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Si(i,s,Fd(t,n),o);return a.errorHandler=Vd(e),a}function S4(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Es(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new Si(a,l,w4(t,e.bucket),c);return f.urlParams=s,f.errorHandler=iu(e),f}function T4(t,e,n){const r=e.fullServerUrl(),i=Es(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Si(i,s,x4(t,n),o);return a.errorHandler=Vd(e),a}function E4(t,e,n,r){const i=e.fullServerUrl(),s=Es(i,t.host,t._protocol),o="PATCH",a=A0(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,f=new Si(s,o,Fd(t,r),c);return f.headers=l,f.body=a,f.errorHandler=Vd(e),f}function _4(t,e){const n=e.fullServerUrl(),r=Es(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new Si(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Vd(e),a}function C4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vb(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=C4(null,e)),r}function I4(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let P=0;P<2;P++)I=I+Math.random().toString().slice(2);return I}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=vb(e,r,i),f=A0(c,n),m="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,y=`\r
--`+l+"--",x=ti.getBlob(m,r,y);if(x===null)throw ob();const T={name:c.fullPath},C=Es(s,t.host,t._protocol),L="POST",E=t.maxUploadRetryTime,_=new Si(C,L,Fd(t,n),E);return _.urlParams=T,_.headers=o,_.body=x.uploadData(),_.errorHandler=iu(e),_}class Uf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function P0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Br(!1)}return Br(!!n&&(e||["active"]).indexOf(n)!==-1),n}function k4(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=vb(e,r,i),a={name:o.fullPath},l=Es(s,t.host,t._protocol),c="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},m=A0(o,n),y=t.maxUploadRetryTime;function x(C){P0(C);let L;try{L=C.getResponseHeader("X-Goog-Upload-URL")}catch{Br(!1)}return Br(Md(L)),L}const T=new Si(l,c,x,y);return T.urlParams=a,T.headers=f,T.body=m,T.errorHandler=iu(e),T}function b4(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const f=P0(c,["active","final"]);let m=null;try{m=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Br(!1)}m||Br(!1);const y=Number(m);return Br(!isNaN(y)),new Uf(y,r.size(),f==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Si(n,o,s,a);return l.headers=i,l.errorHandler=iu(e),l}const vT=256*1024;function D4(t,e,n,r,i,s,o,a){const l=new Uf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw BB();const c=l.total-l.current;let f=c;i>0&&(f=Math.min(f,i));const m=l.current,y=m+f;let x="";f===0?x="finalize":c===f?x="upload, finalize":x="upload";const T={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${l.current}`},C=r.slice(m,y);if(C===null)throw ob();function L(P,B){const G=P0(P,["active","final"]),p=l.current+f,H=r.size();let Z;return G==="final"?Z=Fd(e,s)(P,B):Z=null,new Uf(p,H,G==="final",Z)}const E="POST",_=e.maxUploadRetryTime,I=new Si(n,E,L,_);return I.headers=T,I.body=C.uploadData(),I.progressCallback=a||null,I.errorHandler=iu(t),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={STATE_CHANGED:"state_changed"},pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vm(t){switch(t){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r){if(WB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class N4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class R4 extends N4{initXhr(){this.xhr_.responseType="text"}}function Pr(){return new R4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=$d(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ze.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(cb(i.status,[]))if(s)i=ib();else{this.sleepTime=Math.max(this.sleepTime*2,NB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ze.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=k4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=b4(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Pr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=vT*this._chunkMultiplier,n=new Uf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=D4(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Pr,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){vT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=yb(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Pr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=I4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=sb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Vm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new P4(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vm(this._state)){case pn.SUCCESS:Xo(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const n=this._reject;Xo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vm(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&Xo(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&Xo(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&Xo(e.error.bind(e,this._error))();break;default:e.error&&Xo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this._service=e,n instanceof nn?this._location=n:this._location=nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new go(e,n)}get root(){const e=new nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mb(this._location.path)}get storage(){return this._service}get parent(){const e=c4(this._location.path);if(e===null)return null;const n=new nn(this._location.bucket,e);return new go(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ub(e)}}function L4(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new wb(t,new ti(e),n)}function O4(t){const e={prefixes:[],items:[]};return xb(t,e).then(()=>e)}async function xb(t,e,n){const i=await Sb(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await xb(t,e,i.nextPageToken)}function Sb(t,e){e!=null&&typeof e.maxResults=="number"&&vy("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=S4(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Pr)}function M4(t){t._throwIfRoot("getMetadata");const e=yb(t.storage,t._location,$d());return t.storage.makeRequestWithTokens(e,Pr)}function $4(t,e){t._throwIfRoot("updateMetadata");const n=E4(t.storage,t._location,e,$d());return t.storage.makeRequestWithTokens(n,Pr)}function F4(t){t._throwIfRoot("getDownloadURL");const e=T4(t.storage,t._location,$d());return t.storage.makeRequestWithTokens(e,Pr).then(n=>{if(n===null)throw UB();return n})}function V4(t){t._throwIfRoot("deleteObject");const e=_4(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Pr)}function Tb(t,e){const n=h4(t._location.path,e),r=new nn(t._location.bucket,n);return new go(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){return/^[A-Za-z]+:\/\//.test(t)}function B4(t,e){return new go(t,e)}function Eb(t,e){if(t instanceof N0){const n=t;if(n._bucket==null)throw jB();const r=new go(n,n._bucket);return e!=null?Eb(r,e):r}else return e!==void 0?Tb(t,e):t}function U4(t,e){if(e&&j4(e)){if(t instanceof N0)return B4(t,e);throw ka("To use ref(service, url), the first argument must be a Storage instance.")}else return Eb(t,e)}function wT(t,e){const n=e==null?void 0:e[rb];return n==null?null:nn.makeFromBucketSpec(n,t)}function z4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Uk(i,t.app.options.projectId))}class N0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=nb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AB,this._maxUploadRetryTime=PB,this._requests=new Set,i!=null?this._bucket=nn.makeFromBucketSpec(i,this._host):this._bucket=wT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nn.makeFromBucketSpec(this._url,e):this._bucket=wT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new go(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new qB(ab());{const o=t4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xT="@firebase/storage",ST="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="storage";function H4(t,e,n){return t=Be(t),L4(t,e,n)}function G4(t){return t=Be(t),M4(t)}function K4(t,e){return t=Be(t),$4(t,e)}function W4(t,e){return t=Be(t),Sb(t,e)}function Q4(t){return t=Be(t),O4(t)}function X4(t){return t=Be(t),F4(t)}function Y4(t){return t=Be(t),V4(t)}function TT(t,e){return t=Be(t),U4(t,e)}function J4(t,e){return Tb(t,e)}function Z4(t,e,n,r={}){z4(t,e,n,r)}function eU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new N0(n,r,i,e,Od)}function tU(){mo(new yi(q4,eU,"PUBLIC").setMultipleInstances(!0)),jr(xT,ST,""),jr(xT,ST,"esm2017")}tU();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ch(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Ch(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new Ch(o,this,this._ref)):s={next:n.next?o=>n.next(new Ch(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class _T{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new hi(e,this._service))}get items(){return this._delegate.items.map(e=>new hi(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=J4(this._delegate,e);return new hi(n,this.storage)}get root(){return new hi(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new hi(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new ET(H4(this._delegate,e,n),this)}putString(e,n=nr.RAW,r){this._throwIfRoot("putString");const i=hb(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new ET(new wb(this._delegate,new ti(i.data,!0),s),this)}listAll(){return Q4(this._delegate).then(e=>new _T(e,this.storage))}list(e){return W4(this._delegate,e||void 0).then(n=>new _T(n,this.storage))}getMetadata(){return G4(this._delegate)}updateMetadata(e){return K4(this._delegate,e)}getDownloadURL(){return X4(this._delegate)}delete(){return this._throwIfRoot("delete"),Y4(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw ub(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(CT(e))throw ka("ref() expected a child path but got a URL, use refFromURL instead.");return new hi(TT(this._delegate,e),this)}refFromURL(e){if(!CT(e))throw ka("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nn.makeFromUrl(e,this._delegate.host)}catch{throw ka("refFromUrl() expected a valid full URL but got an invalid one.")}return new hi(TT(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Z4(this._delegate,e,n,r)}}function CT(t){return/^[A-Za-z]+:\/\//.test(t)}const nU="@firebase/storage-compat",rU="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="storage-compat";function sU(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new _b(n,r)}function oU(t){const e={TaskState:pn,TaskEvent:A4,StringFormat:nr,Storage:_b,Reference:hi};t.INTERNAL.registerComponent(new yi(iU,sU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(nU,rU)}oU(Ro);var aU="firebase",uU="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro.registerVersion(aU,uU,"app-compat");var lU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,R0=R0||{},we=lU||self;function jd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ec(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cU(t){return Object.prototype.hasOwnProperty.call(t,jm)&&t[jm]||(t[jm]=++hU)}var jm="closure_uid_"+(1e9*Math.random()>>>0),hU=0;function fU(t,e,n){return t.call.apply(t.bind,arguments)}function dU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=fU:rn=dU,rn.apply(null,arguments)}function Ih(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function $t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _s(){this.s=this.s,this.o=this.o}var pU=0;_s.prototype.s=!1;_s.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pU!=0)&&cU(this)};_s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function L0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function IT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var mU=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{we.addEventListener("test",()=>{},e),we.removeEventListener("test",()=>{},e)}catch{}return t}();function Kl(t){return/^[\s\xa0]*$/.test(t)}function Bd(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function Nr(t){return Bd().indexOf(t)!=-1}function O0(t){return O0[" "](t),t}O0[" "]=function(){};function gU(t,e){var n=u3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var yU=Nr("Opera"),Ba=Nr("Trident")||Nr("MSIE"),Ib=Nr("Edge"),wy=Ib||Ba,kb=Nr("Gecko")&&!(Bd().toLowerCase().indexOf("webkit")!=-1&&!Nr("Edge"))&&!(Nr("Trident")||Nr("MSIE"))&&!Nr("Edge"),vU=Bd().toLowerCase().indexOf("webkit")!=-1&&!Nr("Edge");function bb(){var t=we.document;return t?t.documentMode:void 0}var xy;e:{var Bm="",Um=function(){var t=Bd();if(kb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ib)return/Edge\/([\d\.]+)/.exec(t);if(Ba)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vU)return/WebKit\/(\S+)/.exec(t);if(yU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Um&&(Bm=Um?Um[1]:""),Ba){var zm=bb();if(zm!=null&&zm>parseFloat(Bm)){xy=String(zm);break e}}xy=Bm}var Sy;if(we.document&&Ba){var kT=bb();Sy=kT||parseInt(xy,10)||void 0}else Sy=void 0;var wU=Sy;function Wl(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kb){e:{try{O0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wl.$.h.call(this)}}$t(Wl,sn);var xU={2:"touch",3:"pen",4:"mouse"};Wl.prototype.h=function(){Wl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),SU=0;function TU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++SU,this.fa=this.ia=!1}function Ud(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function M0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function EU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Db(t){const e={};for(const n in t)e[n]=t[n];return e}const bT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ab(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<bT.length;s++)n=bT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zd(t){this.src=t,this.g={},this.h=0}zd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ey(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new TU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ty(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Cb(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ud(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ey(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var $0="closure_lm_"+(1e6*Math.random()|0),qm={};function Pb(t,e,n,r,i){if(r&&r.once)return Rb(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Pb(t,e[s],n,r,i);return null}return n=j0(n),t&&t[_c]?t.O(e,n,Ec(r)?!!r.capture:!!r,i):Nb(t,e,n,!1,r,i)}function Nb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ec(i)?!!i.capture:!!i,a=V0(t);if(a||(t[$0]=a=new zd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=_U(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ob(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _U(){function t(n){return e.call(t.src,t.listener,n)}const e=CU;return t}function Rb(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Rb(t,e[s],n,r,i);return null}return n=j0(n),t&&t[_c]?t.P(e,n,Ec(r)?!!r.capture:!!r,i):Nb(t,e,n,!0,r,i)}function Lb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Lb(t,e[s],n,r,i);else r=Ec(r)?!!r.capture:!!r,n=j0(n),t&&t[_c]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ey(s,n,r,i),-1<n&&(Ud(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=V0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ey(e,n,r,i)),(n=-1<t?e[t]:null)&&F0(n))}function F0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[_c])Ty(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ob(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=V0(e))?(Ty(n,t),n.h==0&&(n.src=null,e[$0]=null)):Ud(t)}}}function Ob(t){return t in qm?qm[t]:qm[t]="on"+t}function CU(t,e){if(t.fa)t=!0;else{e=new Wl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&F0(t),t=n.call(r,e)}return t}function V0(t){return t=t[$0],t instanceof zd?t:null}var Hm="__closure_events_fn_"+(1e9*Math.random()>>>0);function j0(t){return typeof t=="function"?t:(t[Hm]||(t[Hm]=function(e){return t.handleEvent(e)}),t[Hm])}function Mt(){_s.call(this),this.i=new zd(this),this.S=this,this.J=null}$t(Mt,_s);Mt.prototype[_c]=!0;Mt.prototype.removeEventListener=function(t,e,n,r){Lb(this,t,e,n,r)};function Kt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var i=e;e=new sn(r,t),Ab(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kh(o,r,!0,e)&&i}if(o=e.g=t,i=kh(o,r,!0,e)&&i,i=kh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=kh(o,r,!1,e)&&i}Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ud(n[r]);delete t.g[e],t.h--}}this.J=null};Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function kh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ty(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var B0=we.JSON.stringify;class IU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function kU(){var t=U0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bU{constructor(){this.h=this.g=null}add(e,n){const r=Mb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Mb=new IU(()=>new DU,t=>t.reset());class DU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function PU(t){we.setTimeout(()=>{throw t},0)}let Ql,Xl=!1,U0=new bU,$b=()=>{const t=we.Promise.resolve(void 0);Ql=()=>{t.then(NU)}};var NU=()=>{for(var t;t=kU();){try{t.h.call(t.g)}catch(n){PU(n)}var e=Mb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xl=!1};function qd(t,e){Mt.call(this),this.h=t||1,this.g=e||we,this.j=rn(this.qb,this),this.l=Date.now()}$t(qd,Mt);te=qd.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(z0(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function z0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){qd.$.N.call(this),z0(this),delete this.g};function q0(t,e,n){if(typeof t=="function")n&&(t=rn(t,n));else if(t&&typeof t.handleEvent=="function")t=rn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function Fb(t){t.g=q0(()=>{t.g=null,t.i&&(t.i=!1,Fb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class RU extends _s{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fb(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yl(t){_s.call(this),this.h=t,this.g={}}$t(Yl,_s);var DT=[];function Vb(t,e,n,r){Array.isArray(n)||(n&&(DT[0]=n.toString()),n=DT);for(var i=0;i<n.length;i++){var s=Pb(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jb(t){M0(t.g,function(e,n){this.g.hasOwnProperty(n)&&F0(e)},t),t.g={}}Yl.prototype.N=function(){Yl.$.N.call(this),jb(this)};Yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hd(){this.g=!0}Hd.prototype.Ea=function(){this.g=!1};function LU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var f=c[0];c=c[1];var m=f.split("_");o=2<=m.length&&m[1]=="type"?o+(f+"="+c+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function OU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function wa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$U(t,n)+(r?" "+r:"")})}function MU(t,e){t.info(function(){return"TIMEOUT: "+e})}Hd.prototype.info=function(){};function $U(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return B0(n)}catch{return e}}var Lo={},AT=null;function Gd(){return AT=AT||new Mt}Lo.Ta="serverreachability";function Bb(t){sn.call(this,Lo.Ta,t)}$t(Bb,sn);function Jl(t){const e=Gd();Kt(e,new Bb(e))}Lo.STAT_EVENT="statevent";function Ub(t,e){sn.call(this,Lo.STAT_EVENT,t),this.stat=e}$t(Ub,sn);function gn(t){const e=Gd();Kt(e,new Ub(e,t))}Lo.Ua="timingevent";function zb(t,e){sn.call(this,Lo.Ua,t),this.size=e}$t(zb,sn);function Cc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var Kd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function H0(){}H0.prototype.h=null;function PT(t){return t.h||(t.h=t.i())}function Hb(){}var Ic={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function G0(){sn.call(this,"d")}$t(G0,sn);function K0(){sn.call(this,"c")}$t(K0,sn);var _y;function Wd(){}$t(Wd,H0);Wd.prototype.g=function(){return new XMLHttpRequest};Wd.prototype.i=function(){return{}};_y=new Wd;function kc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yl(this),this.P=FU,t=wy?125:void 0,this.V=new qd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gb}function Gb(){this.i=null,this.g="",this.h=!1}var FU=45e3,Cy={},zf={};te=kc.prototype;te.setTimeout=function(t){this.P=t};function Iy(t,e,n){t.L=1,t.v=Xd(vi(e)),t.s=n,t.S=!0,Kb(t,null)}function Kb(t,e){t.G=Date.now(),bc(t),t.A=vi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),tD(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Gb,t.g=TD(t.l,n?e:null,!t.s),0<t.O&&(t.M=new RU(rn(t.Pa,t,t.g),t.O)),Vb(t.U,t.g,"readystatechange",t.nb),e=t.I?Db(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Jl(),LU(t.j,t.u,t.A,t.m,t.W,t.s)}te.nb=function(t){t=t.target;const e=this.M;e&&Rr(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const f=Rr(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>f)&&(f!=3||wy||this.g&&(this.h.h||this.g.ja()||OT(this.g)))){this.J||f!=4||e==7||(e==8||0>=m?Jl(3):Jl(2)),Qd(this);var n=this.g.da();this.ca=n;t:if(Wb(this)){var r=OT(this.g);t="";var i=r.length,s=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),ml(this);var o="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,OU(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kl(a)){var c=a;break t}}c=null}if(n=c)wa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ky(this,n);else{this.i=!1,this.o=3,gn(12),Zs(this),ml(this);break e}}this.S?(Qb(this,f,o),wy&&this.i&&f==3&&(Vb(this.U,this.V,"tick",this.mb),this.V.start())):(wa(this.j,this.m,o,null),ky(this,o)),f==4&&Zs(this),this.i&&!this.J&&(f==4?vD(this.l,this):(this.i=!1,bc(this)))}else s3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,gn(12)):(this.o=0,gn(13)),Zs(this),ml(this)}}}catch{}finally{}};function Wb(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Qb(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=VU(t,n),i==zf){e==4&&(t.o=4,gn(14),r=!1),wa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Cy){t.o=4,gn(15),wa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else wa(t.j,t.m,i,null),ky(t,i);Wb(t)&&i!=zf&&i!=Cy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Z0(e),e.M=!0,gn(11))):(wa(t.j,t.m,n,"[Invalid Chunked Response]"),Zs(t),ml(t))}te.mb=function(){if(this.g){var t=Rr(this.g),e=this.g.ja();this.C<e.length&&(Qd(this),Qb(this,t,e),this.i&&t!=4&&bc(this))}};function VU(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?zf:(n=Number(e.substring(n,r)),isNaN(n)?Cy:(r+=1,r+n>e.length?zf:(e=e.slice(r,r+n),t.C=r+n,e)))}te.cancel=function(){this.J=!0,Zs(this)};function bc(t){t.Y=Date.now()+t.P,Xb(t,t.P)}function Xb(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Cc(rn(t.lb,t),e)}function Qd(t){t.B&&(we.clearTimeout(t.B),t.B=null)}te.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(MU(this.j,this.A),this.L!=2&&(Jl(),gn(17)),Zs(this),this.o=2,ml(this)):Xb(this,this.Y-t)};function ml(t){t.l.H==0||t.J||vD(t.l,t)}function Zs(t){Qd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,z0(t.V),jb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ky(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||by(n.i,t))){if(!t.K&&by(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gf(n),Zd(n);else break e;J0(n),gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Cc(rn(n.ib,n),6e3));if(1>=iD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else eo(n,11)}else if((t.K||n.g==t)&&Gf(n),!Kl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const f=c[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const m=c[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const y=c[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const x=t.g;if(x){const T=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var s=r.i;s.g||T.indexOf("spdy")==-1&&T.indexOf("quic")==-1&&T.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(W0(s,s.h),s.h=null))}if(r.F){const C=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,We(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=SD(r,r.J?r.pa:null,r.Y),o.K){sD(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Qd(a),bc(a)),r.g=o}else gD(r);0<n.j.length&&ep(n)}else c[0]!="stop"&&c[0]!="close"||eo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?eo(n,7):Y0(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Jl(4)}catch{}}function jU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(jd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function BU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Yb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=BU(t),r=jU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Jb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function oo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof oo){this.h=t.h,qf(this,t.j),this.s=t.s,this.g=t.g,Hf(this,t.m),this.l=t.l;var e=t.i,n=new Zl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),NT(this,n),this.o=t.o}else t&&(e=String(t).match(Jb))?(this.h=!1,qf(this,e[1]||"",!0),this.s=Xu(e[2]||""),this.g=Xu(e[3]||"",!0),Hf(this,e[4]),this.l=Xu(e[5]||"",!0),NT(this,e[6]||"",!0),this.o=Xu(e[7]||"")):(this.h=!1,this.i=new Zl(null,this.h))}oo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yu(e,RT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yu(e,RT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Yu(n,n.charAt(0)=="/"?HU:qU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yu(n,KU)),t.join("")};function vi(t){return new oo(t)}function qf(t,e,n){t.j=n?Xu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function NT(t,e,n){e instanceof Zl?(t.i=e,WU(t.i,t.h)):(n||(e=Yu(e,GU)),t.i=new Zl(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Xd(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var RT=/[#\/\?@]/g,qU=/[#\?:]/g,HU=/[#\?]/g,GU=/[#\?@]/g,KU=/#/g;function Zl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cs(t){t.g||(t.g=new Map,t.h=0,t.i&&UU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=Zl.prototype;te.add=function(t,e){Cs(this),this.i=null,t=su(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Zb(t,e){Cs(t),e=su(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function eD(t,e){return Cs(t),e=su(t,e),t.g.has(e)}te.forEach=function(t,e){Cs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};te.ta=function(){Cs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};te.Z=function(t){Cs(this);let e=[];if(typeof t=="string")eD(this,t)&&(e=e.concat(this.g.get(su(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return Cs(this),this.i=null,t=su(this,t),eD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function tD(t,e,n){Zb(t,e),0<n.length&&(t.i=null,t.g.set(su(t,e),L0(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function su(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WU(t,e){e&&!t.j&&(Cs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Zb(this,r),tD(this,i,n))},t)),t.j=e}var QU=class{constructor(t,e){this.g=t,this.map=e}};function nD(t){this.l=t||XU,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XU=10;function rD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function iD(t){return t.h?1:t.g?t.g.size:0}function by(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W0(t,e){t.g?t.g.add(e):t.h=e}function sD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}nD.prototype.cancel=function(){if(this.i=oD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function oD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return L0(t.i)}var YU=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function JU(){this.g=new YU}function ZU(t,e,n){const r=n||"";try{Yb(t,function(i,s){let o=i;Ec(i)&&(o=B0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function e3(t,e){const n=new Hd;if(we.Image){const r=new Image;r.onload=Ih(bh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ih(bh,n,r,"TestLoadImage: error",!1,e),r.onabort=Ih(bh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ih(bh,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dc(t){this.l=t.fc||null,this.j=t.ob||!1}$t(Dc,H0);Dc.prototype.g=function(){return new Yd(this.l,this.j)};Dc.prototype.i=function(t){return function(){return t}}({});function Yd(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Q0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$t(Yd,Mt);var Q0=0;te=Yd.prototype;te.open=function(t,e){if(this.readyState!=Q0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ec(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=Q0};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ec(this)),this.g&&(this.readyState=3,ec(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function aD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ac(this):ec(this),this.readyState==3&&aD(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,Ac(this))};te.Ya=function(t){this.g&&(this.response=t,Ac(this))};te.ka=function(){this.g&&Ac(this)};function Ac(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ec(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ec(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var t3=we.JSON.parse;function mt(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uD,this.L=this.M=!1}$t(mt,Mt);var uD="",n3=/^https?$/i,r3=["POST","PUT"];te=mt.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_y.g(),this.C=this.u?PT(this.u):PT(_y),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){LT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=Cb(r3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hD(this),0<this.B&&((this.L=i3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=q0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){LT(this,s)}};function i3(t){return Ba&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof R0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))};function LT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lD(t),Jd(t)}function lD(t){t.F||(t.F=!0,Kt(t,"complete"),Kt(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),Jd(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jd(this,!0)),mt.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?cD(this):this.kb())};te.kb=function(){cD(this)};function cD(t){if(t.h&&typeof R0<"u"&&(!t.C[1]||Rr(t)!=4||t.da()!=2)){if(t.v&&Rr(t)==4)q0(t.La,0,t);else if(Kt(t,"readystatechange"),Rr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Jb)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!n3.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var s=2<Rr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",lD(t)}}finally{Jd(t)}}}}function Jd(t,e){if(t.g){hD(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function hD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}te.isActive=function(){return!!this.g};function Rr(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),t3(e)}};function OT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case uD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function s3(t){const e={};t=(t.g&&2<=Rr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Kl(t[r]))continue;var n=AU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}EU(e,function(r){return r.join(", ")})}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fD(t){let e="";return M0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function X0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function $u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dD(t){this.Ga=0,this.j=[],this.l=new Hd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$u("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$u("baseRetryDelayMs",5e3,t),this.hb=$u("retryDelaySeedMs",1e4,t),this.eb=$u("forwardChannelMaxRetries",2,t),this.xa=$u("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nD(t&&t.concurrentRequestLimit),this.Ja=new JU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}te=dD.prototype;te.ra=8;te.H=1;function Y0(t){if(pD(t),t.H==3){var e=t.W++,n=vi(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),Pc(t,n),e=new kc(t,t.l,e),e.L=2,e.v=Xd(vi(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.v,n=!0),n||(e.g=TD(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bc(e)}xD(t)}function Zd(t){t.g&&(Z0(t),t.g.cancel(),t.g=null)}function pD(t){Zd(t),t.u&&(we.clearTimeout(t.u),t.u=null),Gf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function ep(t){if(!rD(t.i)&&!t.m){t.m=!0;var e=t.Na;Ql||$b(),Xl||(Ql(),Xl=!0),U0.add(e,t),t.C=0}}function o3(t,e){return iD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Cc(rn(t.Na,t,e),wD(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new kc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Db(s),Ab(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mD(this,i,e),n=vi(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Pc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(fD(s)))+"&"+e:this.o&&X0(n,this.o,s)),W0(this.i,i),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),i.aa=!0,Iy(i,n,null)):Iy(i,n,e),this.H=2}}else this.H==3&&(t?MT(this,t):this.j.length==0||rD(this.i)||MT(this))};function MT(t,e){var n;e?n=e.m:n=t.W++;const r=vi(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),Pc(t,r),t.o&&t.s&&X0(r,t.o,t.s),n=new kc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=mD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),W0(t.i,n),Iy(n,r,e)}function Pc(t,e){t.na&&M0(t.na,function(n,r){We(e,r,n)}),t.h&&Yb({},function(n,r){We(e,r,n)})}function mD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const f=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{ZU(f,o,"req"+c+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function gD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ql||$b(),Xl||(Ql(),Xl=!0),U0.add(e,t),t.A=0}}function J0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Cc(rn(t.Ma,t),wD(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,yD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Cc(rn(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gn(10),Zd(this),yD(this))};function Z0(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function yD(t){t.g=new kc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vi(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),Pc(t,e),t.o&&t.s&&X0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Xd(vi(e)),n.s=null,n.S=!0,Kb(n,t)}te.ib=function(){this.v!=null&&(this.v=null,Zd(this),J0(this),gn(19))};function Gf(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function vD(t,e){var n=null;if(t.g==e){Gf(t),Z0(t),t.g=null;var r=2}else if(by(t.i,e))n=e.F,sD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Gd(),Kt(r,new zb(r,n)),ep(t)}else gD(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&o3(t,e)||r==2&&J0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:eo(t,5);break;case 4:eo(t,10);break;case 3:eo(t,6);break;default:eo(t,2)}}}function wD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function eo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=rn(t.pb,t);n||(n=new oo("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||qf(n,"https"),Xd(n)),e3(n.toString(),r)}else gn(2);t.H=0,t.h&&t.h.za(e),xD(t),pD(t)}te.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gn(2)):(this.l.info("Failed to ping google.com"),gn(1))};function xD(t){if(t.H=0,t.ma=[],t.h){const e=oD(t.i);(e.length!=0||t.j.length!=0)&&(IT(t.ma,e),IT(t.ma,t.j),t.i.i.length=0,L0(t.j),t.j.length=0),t.h.ya()}}function SD(t,e,n){var r=n instanceof oo?vi(n):new oo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Hf(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new oo(null);r&&qf(s,r),e&&(s.g=e),i&&Hf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),Pc(t,r),r}function TD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new mt(new Dc({ob:!0})):new mt(t.va),e.Oa(t.J),e}te.isActive=function(){return!!this.h&&this.h.isActive(this)};function ED(){}te=ED.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.isActive=function(){return!0};te.Va=function(){};function Kf(){if(Ba&&!(10<=Number(wU)))throw Error("Environmental error: no available transport.")}Kf.prototype.g=function(t,e){return new qn(t,e)};function qn(t,e){Mt.call(this),this.g=new dD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ou(this)}$t(qn,Mt);qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=SD(t,null,t.Y),ep(t)};qn.prototype.close=function(){Y0(this.g)};qn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=B0(t),t=n);e.j.push(new QU(e.fb++,t)),e.H==3&&ep(e)};qn.prototype.N=function(){this.g.h=null,delete this.j,Y0(this.g),delete this.g,qn.$.N.call(this)};function _D(t){G0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}$t(_D,G0);function CD(){K0.call(this),this.status=1}$t(CD,K0);function ou(t){this.g=t}$t(ou,ED);ou.prototype.Ba=function(){Kt(this.g,"a")};ou.prototype.Aa=function(t){Kt(this.g,new _D(t))};ou.prototype.za=function(t){Kt(this.g,new CD)};ou.prototype.ya=function(){Kt(this.g,"b")};function a3(){this.blockSize=-1}function wr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}$t(wr,a3);wr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}wr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Gm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gm(this,r),i=0;break}}this.h=i,this.i+=e};wr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var u3={};function ew(t){return-128<=t&&128>t?gU(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function Lr(t){if(isNaN(t)||!isFinite(t))return ba;if(0>t)return qt(Lr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dy;return new Ve(e,0)}function ID(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return qt(ID(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Lr(Math.pow(e,8)),r=ba,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Lr(Math.pow(e,s)),r=r.R(s).add(Lr(o))):(r=r.R(n),r=r.add(Lr(o)))}return r}var Dy=4294967296,ba=ew(0),Ay=ew(1),$T=ew(16777216);te=Ve.prototype;te.ea=function(){if(er(this))return-qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dy+r)*e,e*=Dy}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(si(this))return"0";if(er(this))return"-"+qt(this).toString(t);for(var e=Lr(Math.pow(t,6)),n=this,r="";;){var i=Qf(n,e).g;n=Wf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,si(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function si(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function er(t){return t.h==-1}te.X=function(t){return t=Wf(this,t),er(t)?-1:si(t)?0:1};function qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(Ay)}te.abs=function(){return er(this)?qt(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Wf(t,e){return t.add(qt(e))}te.R=function(t){if(si(this)||si(t))return ba;if(er(this))return er(t)?qt(this).R(qt(t)):qt(qt(this).R(t));if(er(t))return qt(this.R(qt(t)));if(0>this.X($T)&&0>t.X($T))return Lr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Dh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Dh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Dh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Dh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function Dh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fu(t,e){this.g=t,this.h=e}function Qf(t,e){if(si(e))throw Error("division by zero");if(si(t))return new Fu(ba,ba);if(er(t))return e=Qf(qt(t),e),new Fu(qt(e.g),qt(e.h));if(er(e))return e=Qf(t,qt(e)),new Fu(qt(e.g),e.h);if(30<t.g.length){if(er(t)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ay,r=e;0>=r.X(t);)n=FT(n),r=FT(r);var i=Yo(n,1),s=Yo(r,1);for(r=Yo(r,2),n=Yo(n,2);!si(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Yo(r,1),n=Yo(n,1)}return e=Wf(t,i.R(e)),new Fu(i,e)}for(i=ba;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Lr(n),o=s.R(e);er(o)||0<o.X(t);)n-=r,s=Lr(n),o=s.R(e);si(s)&&(s=Ay),i=i.add(s),t=Wf(t,o)}return new Fu(i,t)}te.gb=function(t){return Qf(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function FT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function Yo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ve(i,t.h)}Kf.prototype.createWebChannel=Kf.prototype.g;qn.prototype.send=qn.prototype.u;qn.prototype.open=qn.prototype.m;qn.prototype.close=qn.prototype.close;Kd.NO_ERROR=0;Kd.TIMEOUT=8;Kd.HTTP_ERROR=6;qb.COMPLETE="complete";Hb.EventType=Ic;Ic.OPEN="a";Ic.CLOSE="b";Ic.ERROR="c";Ic.MESSAGE="d";Mt.prototype.listen=Mt.prototype.O;mt.prototype.listenOnce=mt.prototype.P;mt.prototype.getLastError=mt.prototype.Sa;mt.prototype.getLastErrorCode=mt.prototype.Ia;mt.prototype.getStatus=mt.prototype.da;mt.prototype.getResponseJson=mt.prototype.Wa;mt.prototype.getResponseText=mt.prototype.ja;mt.prototype.send=mt.prototype.ha;mt.prototype.setWithCredentials=mt.prototype.Oa;wr.prototype.digest=wr.prototype.l;wr.prototype.reset=wr.prototype.reset;wr.prototype.update=wr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=Lr;Ve.fromString=ID;var l3=function(){return new Kf},c3=function(){return Gd()},Km=Kd,h3=qb,f3=Lo,VT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},d3=Dc,Ah=Hb,p3=mt,m3=wr,Da=Ve;const jT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new _0("@firebase/firestore");function Py(){return ls.logLevel}function g3(t){ls.setLogLevel(t)}function W(t,...e){if(ls.logLevel<=Me.DEBUG){const n=e.map(tw);ls.debug(`Firestore (${au}): ${t}`,...n)}}function vt(t,...e){if(ls.logLevel<=Me.ERROR){const n=e.map(tw);ls.error(`Firestore (${au}): ${t}`,...n)}}function xr(t,...e){if(ls.logLevel<=Me.WARN){const n=e.map(tw);ls.warn(`Firestore (${au}): ${t}`,...n)}}function tw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: `+t;throw vt(e),new Error(e)}function le(t,e){t||se()}function y3(t,e){t||se()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class w3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x3{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ot;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ot,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ot)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new kD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new Nt(e)}}class S3{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class T3{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new S3(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _3{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.T=n.token,new E3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=C3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function DD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new nt(0,0))}static max(){return new ue(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return tc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends tc{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends tc{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ne.fromString(e))}static fromName(e){return new J(Ne.fromString(e).popFirst(5))}static empty(){return new J(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Ny(t){return t.fields.find(e=>e.kind===2)}function zs(t){return t.fields.filter(e=>e.kind!==2)}AD.UNKNOWN_ID=-1;class k3{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xf(0,Hn.min())}}function PD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Hn(i,J.empty(),e)}function ND(t){return new Hn(t.readTime,t.key,-1)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(ue.min(),J.empty(),-1)}static max(){return new Hn(ue.max(),J.empty(),-1)}}function nw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==RD)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Ot,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new gl(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=rw(r.target.error);this.v.reject(new gl(e,i))}}static open(e,n,r,i){try{return new tp(n,e.transaction(i,r))}catch(s){throw new gl(n,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new D3(n)}}class pr{constructor(e,n,r){this.name=e,this.version=n,this.V=r,pr.S(dy())===12.2&&vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),qs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!qk())return!1;if(pr.C())return!0;const e=dy(),n=pr.S(e),r=0<n&&n<10,i=pr.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new gl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new K(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new K(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new gl(e,o))},i.onupgradeneeded=s=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.O(o,i.transaction,s.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=tp.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.P(),c)).catch(c=>(a.abort(c),$.reject(c))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class b3{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return qs(this.L.delete())}}class gl extends K{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ks(t){return t.name==="IndexedDbTransactionError"}class D3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qs(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),qs(this.store.add(e))}get(e){return qs(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),qs(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),qs(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new $((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=s=>{const o=rw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new $((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new b3(a),c=n(a.primaryKey,a.value,l);if(c instanceof $){const f=c.catch(m=>(l.done(),$.reject(m)));r.push(f)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qs(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=rw(r.target.error);n(i)}})}let BT=!1;function rw(t){const e=pr.S(dy());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BT||(BT=!0,setTimeout(()=>{throw r},0)),r}}return t}class A3{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){W("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{W("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){ks(n)?W("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Is(n)}await this.et(6e4)})}}class P3{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return $.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return W("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(W("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=ND(s);nw(o,r)>0&&(r=o)}),new Hn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Dn.ct=-1;function Nc(t){return t==null}function nc(t){return t===0&&1/t==-1/0}function OD(t){return typeof t=="number"&&Number.isInteger(t)&&!nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UT(e)),e=N3(t.get(n),e);return UT(e)}function N3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function UT(t){return t+""}function Or(t){const e=t.length;if(le(e>=2),e===2)return le(t.charAt(0)===""&&t.charAt(1)===""),Ne.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&se(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:se()}s=o+2}return new Ne(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e){return[t,vn(e)]}function MD(t,e,n){return[t,vn(e),n]}const R3={},L3=["prefixPath","collectionGroup","readTime","documentId"],O3=["prefixPath","collectionGroup","documentId"],M3=["collectionGroup","readTime","prefixPath","documentId"],$3=["canonicalId","targetId"],F3=["targetId","path"],V3=["path","targetId"],j3=["collectionId","parent"],B3=["indexId","uid"],U3=["uid","sequenceNumber"],z3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q3=["indexId","uid","orderedDocumentKey"],H3=["userId","collectionPath","documentId"],G3=["userId","collectionPath","largestBatchId"],K3=["userId","collectionGroup","largestBatchId"],$D=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],W3=[...$D,"documentOverlays"],FD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VD=FD,Q3=[...VD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends LD{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Ft(t,e){const n=ee(t);return pr.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(t,e,n,r,i){return this}insert(t,e,n){return new zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HT(this.data.getIterator())}getIteratorFrom(e){return new HT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class HT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Ye(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BD("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const Y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(le(!!t),typeof t=="string"){let e=0;const n=Y3.exec(t);if(le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iw(t){const e=t.mapValue.fields.__previous_value__;return np(e)?iw(e):e}function rc(t){const e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class fs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zh={nullValue:"NULL_VALUE"};function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?np(t)?4:UD(t)?9007199254740991:10:se()}function qr(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=cs(r.timestampValue),o=cs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return hs(r.bytesValue).isEqual(hs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return pt(r.geoPointValue.latitude)===pt(i.geoPointValue.latitude)&&pt(r.geoPointValue.longitude)===pt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pt(r.integerValue)===pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=pt(r.doubleValue),o=pt(i.doubleValue);return s===o?nc(s)===nc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(qT(s)!==qT(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!qr(s[a],o[a])))return!1;return!0}(t,e);default:return se()}}function ic(t,e){return(t.values||[]).find(n=>qr(n,e))!==void 0}function ds(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=pt(i.integerValue||i.doubleValue),a=pt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return GT(t.timestampValue,e.timestampValue);case 4:return GT(rc(t),rc(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(i,s){const o=hs(i),a=hs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Se(o[l],a[l]);if(c!==0)return c}return Se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Se(pt(i.latitude),pt(s.latitude));return o!==0?o:Se(pt(i.longitude),pt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ds(o[l],a[l]);if(c)return c}return Se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qi.mapValue&&s===qi.mapValue)return 0;if(i===qi.mapValue)return 1;if(s===qi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let f=0;f<a.length&&f<c.length;++f){const m=Se(a[f],c[f]);if(m!==0)return m;const y=ds(o[a[f]],l[c[f]]);if(y!==0)return y}return Se(a.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function GT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=cs(t),r=cs(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function za(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=cs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,J.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ly(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ly(r.fields[a])}`;return s+"}"}(t.mapValue):se();var e,n}function vo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Oy(t){return!!t&&"integerValue"in t}function sc(t){return!!t&&"arrayValue"in t}function KT(t){return!!t&&"nullValue"in t}function WT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Z3(t){return"nullValue"in t?Zh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?vo(fs.empty(),J.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:se()}function e9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?vo(fs.empty(),J.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?qi:se()}function QT(t,e){const n=ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function XT(t,e){const n=ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ht(yl(this.value))}}function zD(t){const e=[];return Oo(t.fields,(n,r)=>{const i=new wt([n]);if(ef(r)){const s=zD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,ue.min(),ue.min(),ue.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new Qe(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Qe(e,2,n,ue.min(),ue.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,ue.min(),ue.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.position=e,this.inclusive=n}}function YT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=ds(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function t9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{}class be extends qD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n9(e,n,r):n==="array-contains"?new s9(e,r):n==="in"?new XD(e,r):n==="not-in"?new o9(e,r):n==="array-contains-any"?new a9(e,r):new be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r9(e,r):new i9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $e extends qD{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new $e(e,n)}matches(e){return qa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function qa(t){return t.op==="and"}function My(t){return t.op==="or"}function sw(t){return HD(t)&&qa(t)}function HD(t){for(const e of t.filters)if(e instanceof $e)return!1;return!0}function $y(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+za(t.value);if(sw(t))return t.filters.map(e=>$y(e)).join(",");{const e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function GD(t,e){return t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.field.isEqual(r.field)&&qr(n.value,r.value)}(t,e):t instanceof $e?function(n,r){return r instanceof $e&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&GD(s,r.filters[o]),!0):!1}(t,e):void se()}function KD(t,e){const n=t.filters.concat(e);return $e.create(n,t.op)}function WD(t){return t instanceof be?function(e){return`${e.field.canonicalString()} ${e.op} ${za(e.value)}`}(t):t instanceof $e?function(e){return e.op.toString()+" {"+e.getFilters().map(WD).join(" ,")+"}"}(t):"Filter"}class n9 extends be{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class r9 extends be{constructor(e,n){super(e,"in",n),this.keys=QD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i9 extends be{constructor(e,n){super(e,"not-in",n),this.keys=QD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class s9 extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sc(n)&&ic(n.arrayValue,this.value)}}class XD extends be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ic(this.value.arrayValue,n)}}class o9 extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ic(this.value.arrayValue,n)}}class a9 extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Fy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new u9(t,e,n,r,i,s,o)}function wo(t){const e=ee(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>za(r)).join(",")),e.dt=n}return e.dt}function Rc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JT(t.startAt,e.startAt)&&JT(t.endAt,e.endAt)}function Yf(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Jf(t,e){return t.filters.filter(n=>n instanceof be&&n.field.isEqual(e))}function ZT(t,e,n){let r=Zh,i=!0;for(const s of Jf(t,e)){let o=Zh,a=!0;switch(s.op){case"<":case"<=":o=Z3(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Zh}QT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];QT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function eE(t,e,n){let r=qi,i=!0;for(const s of Jf(t,e)){let o=qi,a=!0;switch(s.op){case">=":case">":o=e9(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=qi}XT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];XT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function YD(t,e,n,r,i,s,o,a){return new Ti(t,e,n,r,i,s,o,a)}function uu(t){return new Ti(t)}function tE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ow(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function rp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function aw(t){return t.collectionGroup!==null}function ao(t){const e=ee(t);if(e.wt===null){e.wt=[];const n=rp(e),r=ow(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Aa(n)),e.wt.push(new Aa(wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Aa(wt.keyField(),s))}}}return e.wt}function Mn(t){const e=ee(t);if(!e._t)if(e.limitType==="F")e._t=Fy(e.path,e.collectionGroup,ao(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ao(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Aa(s.field,o))}const r=e.endAt?new ps(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ps(e.startAt.position,e.startAt.inclusive):null;e._t=Fy(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vy(t,e){e.getFirstInequalityField(),rp(t);const n=t.filters.concat([e]);return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zf(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lc(t,e){return Rc(Mn(t),Mn(e))&&t.limitType===e.limitType}function JD(t){return`${wo(Mn(t))}|lt:${t.limitType}`}function jy(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>WD(r)).join(", ")}]`),Nc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>za(r)).join(",")),`Target(${n})`}(Mn(t))}; limitType=${t.limitType})`}function Oc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ao(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=YT(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ao(n),r)||n.endAt&&!function(i,s,o){const a=YT(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ao(n),r))}(t,e)}function ZD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eA(t){return(e,n)=>{let r=!1;for(const i of ao(t)){const s=l9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function l9(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ds(a,l):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new Ge(J.comparator);function Pn(){return c9}const tA=new Ge(J.comparator);function Ju(...t){let e=tA;for(const n of t)e=e.insert(n.key,n);return e}function nA(t){let e=tA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mr(){return vl()}function rA(){return vl()}function vl(){return new bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const h9=new Ge(J.comparator),f9=new Ye(J.comparator);function Te(...t){let e=f9;for(const n of t)e=e.add(n);return e}const d9=new Ye(Se);function uw(){return d9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function sA(t){return{integerValue:""+t}}function oA(t,e){return OD(e)?sA(e):iA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this._=void 0}}function p9(t,e,n){return t instanceof Ha?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&np(i)&&(i=iw(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof xo?uA(t,e):t instanceof So?lA(t,e):function(r,i){const s=aA(r,i),o=nE(s)+nE(r.gt);return Oy(s)&&Oy(r.gt)?sA(o):iA(r.serializer,o)}(t,e)}function m9(t,e,n){return t instanceof xo?uA(t,e):t instanceof So?lA(t,e):n}function aA(t,e){return t instanceof Ga?Oy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ha extends ip{}class xo extends ip{constructor(e){super(),this.elements=e}}function uA(t,e){const n=cA(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class So extends ip{constructor(e){super(),this.elements=e}}function lA(t,e){let n=cA(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class Ga extends ip{constructor(e,n){super(),this.serializer=e,this.gt=n}}function nE(t){return pt(t.integerValue||t.doubleValue)}function cA(t){return sc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.field=e,this.transform=n}}function g9(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof xo&&r instanceof xo||n instanceof So&&r instanceof So?Ua(n.elements,r.elements,qr):n instanceof Ga&&r instanceof Ga?qr(n.gt,r.gt):n instanceof Ha&&r instanceof Ha}(t.transform,e.transform)}class y9{constructor(e,n){this.version=e,this.transformResults=n}}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sp{}function hA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cu(t.key,tt.none()):new lu(t.key,t.data,tt.none());{const n=t.data,r=Ht.empty();let i=new Ye(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ei(t.key,r,new An(i.toArray()),tt.none())}}function v9(t,e,n){t instanceof lu?function(r,i,s){const o=r.value.clone(),a=iE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ei?function(r,i,s){if(!tf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=iE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(fA(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function wl(t,e,n,r){return t instanceof lu?function(i,s,o,a){if(!tf(i.precondition,s))return o;const l=i.value.clone(),c=sE(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ei?function(i,s,o,a){if(!tf(i.precondition,s))return o;const l=sE(i.fieldTransforms,a,s),c=s.data;return c.setAll(fA(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,o){return tf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function w9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aA(r.transform,i||null);s!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,s))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ua(n,r,(i,s)=>g9(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lu extends sp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends sp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iE(t,e,n){const r=new Map;le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,m9(o,a,n[i]))}return r}function sE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,p9(s,o,e))}return r}class cu extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lw extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&v9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=hA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,r)=>rE(n,r))&&Ua(this.baseMutations,e.baseMutations,(n,r)=>rE(n,r))}}class hw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length);let i=h9;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Pe;function dA(t){switch(t){default:return se();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function pA(t){if(t===void 0)return vt("GRPC error has no .code"),V.UNKNOWN;switch(t){case Tt.OK:return V.OK;case Tt.CANCELLED:return V.CANCELLED;case Tt.UNKNOWN:return V.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return V.INTERNAL;case Tt.UNAVAILABLE:return V.UNAVAILABLE;case Tt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Tt.NOT_FOUND:return V.NOT_FOUND;case Tt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Tt.ABORTED:return V.ABORTED;case Tt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Tt.DATA_LOSS:return V.DATA_LOSS;default:return se()}}(Pe=Tt||(Tt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Nh}static getOrCreateInstance(){return Nh===null&&(Nh=new dw),Nh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Nh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new Da([4294967295,4294967295],0);function oE(t){const e=mA().encode(t),n=new m3;return n.update(e),new Uint8Array(n.digest())}function aE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Da([n,r],0),new Da([i,s],0)]}class pw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(r<0)throw new Zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Da.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Da.fromNumber(r)));return i.compare(S9)===1&&(i=new Da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=oE(e),[r,i]=aE(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=oE(e),[r,i]=aE(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $c(ue.min(),i,new Ge(Se),Pn(),Te())}}class Fc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fc(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class gA{constructor(e,n){this.targetId=e,this.Vt=n}}class yA{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uE{constructor(){this.St=0,this.Dt=cE(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Te(),n=Te(),r=Te();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Fc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=cE()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class T9{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Pn(),this.zt=lE(),this.Wt=new Ge(Se)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Yf(o))if(i===0){const a=new J(o.path);this.Yt(r,a,Qe.newNoDocument(a,ue.min()))}else le(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=dw.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,f,m){var y,x,T,C,L,E;const _={localCacheCount:f,existenceFilterCount:m.count},I=m.unchangedNames;return I&&(_.bloomFilter={applied:c===0,hashCount:(y=I==null?void 0:I.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(C=(T=(x=I==null?void 0:I.bits)===null||x===void 0?void 0:x.bitmap)===null||T===void 0?void 0:T.length)!==null&&C!==void 0?C:0,padding:(E=(L=I==null?void 0:I.bits)===null||L===void 0?void 0:L.padding)!==null&&E!==void 0?E:0}),_}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=hs(s).toUint8Array()}catch(f){if(f instanceof BD)return xr("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw f}try{c=new pw(l,o,a)}catch(f){return xr(f instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",f),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Yf(a.target)){const l=new J(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Qe.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Te();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new $c(e,n,this.Wt,this.jt,r);return this.jt=Pn(),this.zt=lE(),this.Wt=new Ge(Se),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new uE,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ye(Se),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new uE),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function lE(){return new Ge(J.comparator)}function cE(){return new Ge(J.comparator)}const E9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),C9=(()=>({and:"AND",or:"OR"}))();class I9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function By(t,e){return t.useProto3Json||Nc(e)?e:{value:e}}function Ka(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k9(t,e){return Ka(t,e.toTimestamp())}function xt(t){return le(!!t),ue.fromTimestamp(function(e){const n=cs(e);return new nt(n.seconds,n.nanos)}(t))}function mw(t,e){return function(n){return new Ne(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function wA(t){const e=Ne.fromString(t);return le(bA(e)),e}function oc(t,e){return mw(t.databaseId,e.path)}function Ur(t,e){const n=wA(e);if(n.get(1)!==t.databaseId.projectId)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(SA(n))}function Uy(t,e){return mw(t.databaseId,e)}function xA(t){const e=wA(t);return e.length===4?Ne.emptyPath():SA(e)}function ac(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SA(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hE(t,e,n){return{name:oc(t,e),fields:n.value.mapValue.fields}}function TA(t,e,n){const r=Ur(t,e.name),i=xt(e.updateTime),s=e.createTime?xt(e.createTime):ue.min(),o=new Ht({mapValue:{fields:e.fields}}),a=Qe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function b9(t,e){return"found"in e?function(n,r){le(!!r.found),r.found.name,r.found.updateTime;const i=Ur(n,r.found.name),s=xt(r.found.updateTime),o=r.found.createTime?xt(r.found.createTime):ue.min(),a=new Ht({mapValue:{fields:r.found.fields}});return Qe.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){le(!!r.missing),le(!!r.readTime);const i=Ur(n,r.missing),s=xt(r.readTime);return Qe.newNoDocument(i,s)}(t,e):se()}function D9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(le(c===void 0||typeof c=="string"),Dt.fromBase64String(c||"")):(le(c===void 0||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?V.UNKNOWN:pA(l.code);return new K(c,l.message||"")}(o);n=new yA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ur(t,r.document.name),s=xt(r.document.updateTime),o=r.document.createTime?xt(r.document.createTime):ue.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=Qe.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new nf(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ur(t,r.document),s=r.readTime?xt(r.readTime):ue.min(),o=Qe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ur(t,r.document),s=r.removedTargetIds||[];n=new nf([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new x9(i,s),a=r.targetId;n=new gA(a,o)}}return n}function uc(t,e){let n;if(e instanceof lu)n={update:hE(t,e.key,e.value)};else if(e instanceof cu)n={delete:oc(t,e.key)};else if(e instanceof Ei)n={update:hE(t,e.key,e.data),updateMask:O9(e.fieldMask)};else{if(!(e instanceof lw))return se();n={verify:oc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof So)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ga)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:k9(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(t,e.precondition)),n}function zy(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?tt.updateTime(xt(i.updateTime)):i.exists!==void 0?tt.exists(i.exists):tt.none()}(e.currentDocument):tt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)le(o.setToServerValue==="REQUEST_TIME"),a=new Ha;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];a=new xo(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];a=new So(c)}else"increment"in o?a=new Ga(s,o.increment):se();const l=wt.fromServerFormat(o.fieldPath);return new Mc(l,a)}(t,i)):[];if(e.update){e.update.name;const i=Ur(t,e.update.name),s=new Ht({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new An(l.map(c=>wt.fromServerFormat(c)))}(e.updateMask);return new Ei(i,s,o,n,r)}return new lu(i,s,n,r)}if(e.delete){const i=Ur(t,e.delete);return new cu(i,n)}if(e.verify){const i=Ur(t,e.verify);return new lw(i,n)}return se()}function A9(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?xt(r.updateTime):xt(i);return s.isEqual(ue.min())&&(s=xt(i)),new y9(s,r.transformResults||[])}(n,e))):[]}function EA(t,e){return{documents:[Uy(t,e.path)]}}function _A(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Uy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return kA($e.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:ea(f.field),direction:N9(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=By(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function CA(t){let e=xA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){le(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(f){const m=IA(f);return m instanceof $e&&sw(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>function(m){return new Aa(ta(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f)));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Nc(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,y=f.values||[];return new ps(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,y=f.values||[];return new ps(y,m)}(n.endAt)),YD(e,i,o,s,a,"F",l,c)}function P9(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IA(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ta(e.unaryFilter.field);return be.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ta(e.unaryFilter.field);return be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ta(e.unaryFilter.field);return be.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ta(e.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(e){return be.create(ta(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return $e.create(e.compositeFilter.filters.map(n=>IA(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return se()}}(e.compositeFilter.op))}(t):se()}function N9(t){return E9[t]}function R9(t){return _9[t]}function L9(t){return C9[t]}function ea(t){return{fieldPath:t.canonicalString()}}function ta(t){return wt.fromServerFormat(t.fieldPath)}function kA(t){return t instanceof be?function(e){if(e.op==="=="){if(WT(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NAN"}};if(KT(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(WT(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NOT_NAN"}};if(KT(e.value))return{unaryFilter:{field:ea(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(e.field),op:R9(e.op),value:e.value}}}(t):t instanceof $e?function(e){const n=e.getFilters().map(r=>kA(r));return n.length===1?n[0]:{compositeFilter:{op:L9(e.op),filters:n}}}(t):se()}function O9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.fe=e}}function M9(t,e){let n;if(e.document)n=TA(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=J.fromSegments(e.noDocument.path),i=Eo(e.noDocument.readTime);n=Qe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{const r=J.fromSegments(e.unknownDocument.path),i=Eo(e.unknownDocument.version);n=Qe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new nt(r[0],r[1]);return ue.fromTimestamp(i)}(e.readTime)),n}function fE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ed(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:oc(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Ka(i,s.version.toTimestamp()),createTime:Ka(i,s.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:To(e.version)};else{if(!e.isUnknownDocument())return se();r.unknownDocument={path:n.path.toArray(),version:To(e.version)}}return r}function ed(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function To(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Eo(t){const e=new nt(t.seconds,t.nanoseconds);return ue.fromTimestamp(e)}function Hs(t,e){const n=(e.baseMutations||[]).map(s=>zy(t.fe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>zy(t.fe,s)),i=nt.fromMillis(e.localWriteTimeMs);return new cw(e.batchId,i,n,r)}function el(t){const e=Eo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Eo(t.lastLimboFreeSnapshotVersion):ue.min();let r;var i;return t.query.documents!==void 0?(le((i=t.query).documents.length===1),r=Mn(uu(xA(i.documents[0])))):r=function(s){return Mn(CA(s))}(t.query),new oi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Dt.fromBase64String(t.resumeToken))}function AA(t,e){const n=To(e.snapshotVersion),r=To(e.lastLimboFreeSnapshotVersion);let i;i=Yf(e.target)?EA(t.fe,e.target):_A(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gw(t){const e=CA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}function Wm(t,e){return new fw(e.largestBatchId,zy(t.fe,e.overlayMutation))}function dE(t,e){const n=e.path.lastSegment();return[t,vn(e.path.popLast()),n]}function pE(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:To(r.readTime),documentKey:vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{getBundleMetadata(e,n){return mE(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Eo(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return mE(e).put({bundleId:(r=n).id,createTime:To(xt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return gE(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:gw(i.bundledQuery),readTime:Eo(i.readTime)};var i})}saveNamedQuery(e,n){return gE(e).put(function(r){return{name:r.name,readTime:To(xt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function mE(t){return Ft(t,"bundles")}function gE(t){return Ft(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new op(e,r)}getOverlay(e,n){return Vu(e).get(dE(this.userId,n)).next(r=>r?Wm(this.serializer,r):null)}getOverlays(e,n){const r=Mr();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new fw(n,o);i.push(this.we(e,a))}),$.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(vn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Vu(e).J("collectionPathOverlayIndex",a))}),$.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Mr(),s=vn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Vu(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Wm(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Mr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Vu(e).X({index:"collectionGroupOverlayIndex",range:a},(l,c,f)=>{const m=Wm(this.serializer,c);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):f.done()}).next(()=>s)}we(e,n){return Vu(e).put(function(r,i,s){const[o,a,l]=dE(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:uc(r.fe,s.mutation)}}(this.serializer,this.userId,n))}}function Vu(t){return Ft(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(pt(e.integerValue));else if("doubleValue"in e){const r=pt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),nc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(hs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?UD(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):se()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),J.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Gs.Ve=new Gs;function F9(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function yE(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=F9(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class V9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=yE(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=yE(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class j9{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class B9{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ju{constructor(){this.je=new V9,this.ze=new j9(this.je),this.We=new B9(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ks(this.indexId,this.documentKey,this.arrayValue,r)}}function Ai(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=vE(t.arrayValue,e.arrayValue),n!==0?n:(n=vE(t.directionalValue,e.directionalValue),n!==0?n:J.comparator(t.documentKey,e.documentKey)))}function vE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){le(e.collectionGroup===this.collectionId);const n=Ny(e);if(n!==void 0&&!this.en(n))return!1;const r=zs(e);let i=0,s=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(this.Ze!==void 0){const o=r[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],o))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){var e,n;if(le(t instanceof be||t instanceof $e),t instanceof be){if(t instanceof XD){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>be.create(t.field,"==",s)))||[];return $e.create(i,"or")}return t}const r=t.filters.map(i=>PA(i));return $e.create(r,t.op)}function z9(t){if(t.getFilters().length===0)return[];const e=Gy(PA(t));return le(NA(e)),qy(e)||Hy(e)?[e]:e.getFilters()}function qy(t){return t instanceof be}function Hy(t){return t instanceof $e&&sw(t)}function NA(t){return qy(t)||Hy(t)||function(e){if(e instanceof $e&&My(e)){for(const n of e.getFilters())if(!qy(n)&&!Hy(n))return!1;return!0}return!1}(t)}function Gy(t){if(le(t instanceof be||t instanceof $e),t instanceof be)return t;if(t.filters.length===1)return Gy(t.filters[0]);const e=t.filters.map(r=>Gy(r));let n=$e.create(e,t.op);return n=td(n),NA(n)?n:(le(n instanceof $e),le(qa(n)),le(n.filters.length>1),n.filters.reduce((r,i)=>yw(r,i)))}function yw(t,e){let n;return le(t instanceof be||t instanceof $e),le(e instanceof be||e instanceof $e),n=t instanceof be?e instanceof be?function(r,i){return $e.create([r,i],"and")}(t,e):wE(t,e):e instanceof be?wE(e,t):function(r,i){if(le(r.filters.length>0&&i.filters.length>0),qa(r)&&qa(i))return KD(r,i.getFilters());const s=My(r)?r:i,o=My(r)?i:r,a=s.filters.map(l=>yw(l,o));return $e.create(a,"or")}(t,e),td(n)}function wE(t,e){if(qa(e))return KD(e,t.getFilters());{const n=e.filters.map(r=>yw(t,r));return $e.create(n,"or")}}function td(t){if(le(t instanceof be||t instanceof $e),t instanceof be)return t;const e=t.getFilters();if(e.length===1)return td(e[0]);if(HD(t))return t;const n=e.map(i=>td(i)),r=[];return n.forEach(i=>{i instanceof be?r.push(i):i instanceof $e&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:$e.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.rn=new vw}addToCollectionParentIndex(e,n){return this.rn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Hn.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class vw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Uint8Array(0);class H9{constructor(e,n){this.user=e,this.databaseId=n,this.on=new vw,this.un=new bs(r=>wo(r),(r,i)=>Rc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:r,parent:vn(i)};return xE(e).put(s)}return $.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[DD(n),""],!1,!0);return xE(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Or(o.parent))}return r})}addFieldIndex(e,n){const r=Lh(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Uu(e);return s.next(a=>{o.put(pE(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Lh(e),i=Uu(e),s=Bu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Bu(e);let i=!0;const s=new Map;return $.forEach(this.cn(n),o=>this.an(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Te();const a=[];return $.forEach(s,(l,c)=>{var f;W("IndexedDbIndexManager",`Using index ${f=l,`id=${f.indexId}|cg=${f.collectionGroup}|f=${f.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`} to execute ${wo(n)}`);const m=function(I,P){const B=Ny(P);if(B===void 0)return null;for(const G of Jf(I,B.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null}(c,l),y=function(I,P){const B=new Map;for(const G of zs(P))for(const p of Jf(I,G.fieldPath))switch(p.op){case"==":case"in":B.set(G.fieldPath.canonicalString(),p.value);break;case"not-in":case"!=":return B.set(G.fieldPath.canonicalString(),p.value),Array.from(B.values())}return null}(c,l),x=function(I,P){const B=[];let G=!0;for(const p of zs(P)){const H=p.kind===0?ZT(I,p.fieldPath,I.startAt):eE(I,p.fieldPath,I.startAt);B.push(H.value),G&&(G=H.inclusive)}return new ps(B,G)}(c,l),T=function(I,P){const B=[];let G=!0;for(const p of zs(P)){const H=p.kind===0?eE(I,p.fieldPath,I.endAt):ZT(I,p.fieldPath,I.endAt);B.push(H.value),G&&(G=H.inclusive)}return new ps(B,G)}(c,l),C=this.hn(l,c,x),L=this.hn(l,c,T),E=this.ln(l,c,y),_=this.fn(l.indexId,m,C,x.inclusive,L,T.inclusive,E);return $.forEach(_,I=>r.H(I,n.limit).next(P=>{P.forEach(B=>{const G=J.fromSegments(B.documentKey);o.has(G)||(o=o.add(G),a.push(G))})}))}).next(()=>a)}return $.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=z9($e.create(e.filters,"and")).map(r=>Fy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),f=[];for(let m=0;m<l;++m){const y=n?this.dn(n[m/c]):Rh,x=this.wn(e,y,r[m%c],i),T=this._n(e,y,s[m%c],o),C=a.map(L=>this.wn(e,y,L,!0));f.push(...this.createRange(x,T,C))}return f}wn(e,n,r,i){const s=new Ks(e,J.empty(),n,r);return i?s:s.Je()}_n(e,n,r,i){const s=new Ks(e,J.empty(),n,r);return i?s.Je():s}an(e,n){const r=new U9(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return $.forEach(i,s=>this.an(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new Ye(wt.comparator),c=!1;for(const f of a.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?c=!0:l=l.add(m.field));for(const f of a.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}mn(e,n){const r=new ju;for(const i of zs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.He(i.kind);Gs.Ve._e(s,o)}return r.Qe()}dn(e){const n=new ju;return Gs.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new ju;return Gs.Ve._e(vo(this.databaseId,n),r.He(function(i){const s=zs(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new ju);let s=0;for(const o of zs(e)){const a=r[s++];for(const l of i)if(this.yn(n,o.fieldPath)&&sc(a))i=this.pn(i,o,a);else{const c=l.He(o.kind);Gs.Ve._e(a,c)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ju;l.seed(a.Qe()),Gs.Ve._e(o,l.He(n.kind)),s.push(l)}return s}yn(e,n){return!!e.filters.find(r=>r instanceof be&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Lh(e),i=Uu(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return $.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,f){const m=f?new Xf(f.sequenceNumber,new Hn(Eo(f.readTime),new J(Or(f.documentKey)),f.largestBatchId)):Xf.empty(),y=c.fields.map(([x,T])=>new k3(wt.fromServerFormat(x),T));return new AD(c.indexId,c.collectionGroup,y,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Se(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Lh(e),s=Uu(e);return this.Tn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>$.forEach(a,l=>s.put(pE(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return $.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?$.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),$.forEach(a,l=>this.En(e,i,l).next(c=>{const f=this.An(s,l);return c.isEqual(f)?$.resolve():this.vn(e,s,l,c,f)}))))})}Rn(e,n,r,i){return Bu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return Bu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=Bu(e);let s=new Ye(Ai);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{s=s.add(new Ks(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}An(e,n){let r=new Ye(Ai);const i=this.mn(n,e);if(i==null)return r;const s=Ny(n);if(s!=null){const o=e.data.field(s.fieldPath);if(sc(o))for(const a of o.arrayValue.values||[])r=r.add(new Ks(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Ks(n.indexId,e.key,Rh,i));return r}vn(e,n,r,i,s){W("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,c,f,m){const y=a.getIterator(),x=l.getIterator();let T=Jo(y),C=Jo(x);for(;T||C;){let L=!1,E=!1;if(T&&C){const _=c(T,C);_<0?E=!0:_>0&&(L=!0)}else T!=null?E=!0:L=!0;L?(f(C),C=Jo(x)):E?(m(T),T=Jo(y)):(T=Jo(y),C=Jo(x))}}(i,s,Ai,a=>{o.push(this.Rn(e,n,r,a))},a=>{o.push(this.Pn(e,n,r,a))}),$.waitFor(o)}Tn(e){let n=1;return Uu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ai(o,a)).filter((o,a,l)=>!a||Ai(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ai(o,e),l=Ai(o,n);if(a===0)i[0]=e.Je();else if(a>0&&l<0)i.push(o),i.push(o.Je());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Rh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Rh,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Ai(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(SE)}getMinOffset(e,n){return $.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||se())).next(SE)}}function xE(t){return Ft(t,"collectionParents")}function Bu(t){return Ft(t,"indexEntries")}function Lh(t){return Ft(t,"indexConfiguration")}function Uu(t){return Ft(t,"indexState")}function SE(t){le(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;nw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Hn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class In{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(f,m,y)=>(a++,y.delete()));s.push(l.next(()=>{le(a===1)}));const c=[];for(const f of n.mutations){const m=MD(e,f.key.path,n.batchId);s.push(i.delete(m)),c.push(f.key)}return $.waitFor(s).next(()=>c)}function nd(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class ap{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){le(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new ap(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pi(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=na(e),o=Pi(e);return o.add({}).next(a=>{le(typeof a=="number");const l=new cw(a,n,r,i),c=function(y,x,T){const C=T.baseMutations.map(E=>uc(y.fe,E)),L=T.mutations.map(E=>uc(y.fe,E));return{userId:x,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:C,mutations:L}}(this.serializer,this.userId,l),f=[];let m=new Ye((y,x)=>Se(y.canonicalString(),x.canonicalString()));for(const y of i){const x=MD(this.userId,y.key.path,a);m=m.add(y.key.path.popLast()),f.push(o.put(c)),f.push(s.put(x,R3))}return m.forEach(y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),$.waitFor(f).next(()=>l)})}lookupMutationBatch(e,n){return Pi(e).get(n).next(r=>r?(le(r.userId===this.userId),Hs(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?$.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Pi(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(le(a.batchId>=r),s=Hs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Pi(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pi(e).j("userMutationsIndex",n).next(r=>r.map(i=>Hs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Jh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return na(e).X({range:i},(o,a,l)=>{const[c,f,m]=o,y=Or(f);if(c===this.userId&&n.path.isEqual(y))return Pi(e).get(m).next(x=>{if(!x)throw se();le(x.userId===this.userId),s.push(Hs(this.serializer,x))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(Se);const i=[];return n.forEach(s=>{const o=Jh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=na(e).X({range:a},(c,f,m)=>{const[y,x,T]=c,C=Or(x);y===this.userId&&s.path.isEqual(C)?r=r.add(T):m.done()});i.push(l)}),$.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Jh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ye(Se);return na(e).X({range:o},(l,c,f)=>{const[m,y,x]=l,T=Or(y);m===this.userId&&r.isPrefixOf(T)?T.length===i&&(a=a.add(x)):f.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Pi(e).get(s).next(o=>{if(o===null)throw se();le(o.userId===this.userId),r.push(Hs(this.serializer,o))}))}),$.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return RA(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),$.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return $.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return na(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Or(s[1]);i.push(l)}else a.done()}).next(()=>{le(i.length===0)})})}containsKey(e,n){return LA(e,this.userId,n)}xn(e){return OA(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function LA(t,e,n){const r=Jh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return na(t).X({range:s,Y:!0},(a,l,c)=>{const[f,m,y]=a;f===e&&m===i&&(o=!0),c.done()}).next(()=>o)}function Pi(t){return Ft(t,"mutations")}function na(t){return Ft(t,"documentMutations")}function OA(t){return Ft(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _o(0)}static Mn(){return new _o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new _o(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ue.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Zo(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(le(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Zo(e).X((o,a)=>{const l=el(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>$.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Zo(e).X((r,i)=>{const s=el(i);n(s)})}$n(e){return EE(e).get("targetGlobalKey").next(n=>(le(n!==null),n))}On(e,n){return EE(e).put("targetGlobalKey",n)}Fn(e,n){return Zo(e).put(AA(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=wo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Zo(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=el(a);Rc(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Vi(e);return n.forEach(o=>{const a=vn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),$.waitFor(i)}removeMatchingKeys(e,n,r){const i=Vi(e);return $.forEach(n,s=>{const o=vn(s.path);return $.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Vi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vi(e);let s=Te();return i.X({range:r,Y:!0},(o,a,l)=>{const c=Or(o[1]),f=new J(c);s=s.add(f)}).next(()=>s)}containsKey(e,n){const r=vn(n.path),i=IDBKeyRange.bound([r],[DD(r)],!1,!0);let s=0;return Vi(e).X({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}le(e,n){return Zo(e).get(n).next(r=>r?el(r):null)}}function Zo(t){return Ft(t,"targets")}function EE(t){return Ft(t,"targetGlobal")}function Vi(t){return Ft(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E([t,e],[n,r]){const i=Se(t,n);return i===0?Se(e,r):i}class K9{constructor(e){this.Ln=e,this.buffer=new Ye(_E),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_E(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ks(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Is(n)}await this.Qn(3e5)})}}class Q9{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Dn.ct);const r=new K9(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(TE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,s,o,a,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Py()<=Me.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function X9(t,e){return new Q9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n){this.db=e,this.garbageCollector=X9(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return Oh(e,r)}removeReference(e,n,r){return Oh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Oh(e,n)}Xn(e,n){return function(r,i){let s=!1;return OA(r).Z(o=>LA(r,o,i).next(a=>(a&&(s=!0),$.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ue.min()),Vi(e).delete([0,vn(o.path)])))});i.push(l)}}).next(()=>$.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Oh(e,n)}Yn(e,n){const r=Vi(e);let i,s=Dn.ct;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Dn.ct&&n(new J(Or(i)),s),s=c,i=l):s=Dn.ct}).next(()=>{s!==Dn.ct&&n(new J(Or(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Oh(t,e){return Vi(t).put(function(n,r){return{targetId:0,path:vn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.changes=new bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $s(e).put(r)}removeEntry(e,n,r){return $s(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],ed(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=Qe.newInvalidDocument(n);return $s(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zu(n))},(i,s)=>{r=this.ts(n,s)}).next(()=>r)}es(e,n){let r={size:0,document:Qe.newInvalidDocument(n)};return $s(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zu(n))},(i,s)=>{r={document:this.ts(n,s),size:nd(s)}}).next(()=>r)}getEntries(e,n){let r=Pn();return this.ns(e,n,(i,s)=>{const o=this.ts(i,s);r=r.insert(i,o)}).next(()=>r)}ss(e,n){let r=Pn(),i=new Ge(J.comparator);return this.ns(e,n,(s,o)=>{const a=this.ts(s,o);r=r.insert(s,a),i=i.insert(s,nd(o))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return $.resolve();let i=new Ye(kE);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(zu(i.first()),zu(i.last())),o=i.getIterator();let a=o.getNext();return $s(e).X({index:"documentKeyIndex",range:s},(l,c,f)=>{const m=J.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&kE(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?f.G(zu(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),ed(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $s(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let c=Pn();for(const f of l){const m=this.ts(J.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Oc(n,m)||i.has(m.key))&&(c=c.insert(m.key,m))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=Pn();const o=IE(n,r),a=IE(n,Hn.max());return $s(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,f)=>{const m=this.ts(J.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(m.key,m),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new Z9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return CE(e).get("remoteDocumentGlobalKey").next(n=>(le(!!n),n))}Zn(e,n){return CE(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=M9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ue.min())))return r}return Qe.newInvalidDocument(e)}}function $A(t){return new J9(t)}class Z9 extends MA{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new bs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ye((s,o)=>Se(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.us.get(s);if(n.push(this.os.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=fE(this.os.serializer,o);i=i.add(s.path.popLast());const c=nd(l);r+=c-a.size,n.push(this.os.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=fE(this.os.serializer,o.convertToNoDocument(ue.min()));n.push(this.os.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.os.updateMetadata(e,r)),$.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((s,o)=>{this.us.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function CE(t){return Ft(t,"remoteDocumentGlobal")}function $s(t){return Ft(t,"remoteDocumentsV14")}function zu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IE(t,e){const n=e.documentKey.path.toArray();return[t,ed(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kE(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Se(n[s],r[s]),i)return i;return i=Se(n.length,r.length),i||(i=Se(n[n.length-2],r[r.length-2]),i||Se(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wl(r.mutation,i,An.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ju();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pn();const o=vl(),a=vl();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ei)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),wl(f.mutation,c,f.mutation.getFieldMask(),nt.now())):o.set(c.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var m;return a.set(c,new ez(f,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vl();let i=new Ge((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||An.empty();f=a.applyToLocalView(c,f),r.set(l,f);const m=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,m=rA();f.forEach(y=>{if(!s.has(y)){const x=hA(n.get(y),r.get(y));x!==null&&m.set(y,x),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return J.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Mr());let a=-1,l=s;return o.next(c=>$.forEach(c,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(f)?$.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{l=l.insert(f,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Te())).next(f=>({batchId:a,changes:nA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ju();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,a=>{const l=function(c,f){return new Ti(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Qe.newInvalidDocument(c)))});let o=Ju();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&wl(c.mutation,l,An.empty(),nt.now()),Oc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return $.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:xt(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:gw(r.bundledQuery),readTime:xt(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.overlays=new Ge(J.comparator),this.ls=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mr();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Mr(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Mr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Mr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return $.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fw(n,r));let s=this.ls.get(n);s===void 0&&(s=Te(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.fs=new Ye(At.ds),this.ws=new Ye(At._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new At(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new At(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new Ne([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new Ne([])),r=new At(n,e),i=new At(n,e+1);let s=Te();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||Se(e.As,n.As)}static _s(e,n){return Se(e.As,n.As)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ye(At.ds)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(Se);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),$.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new At(new J(s),0);let a=new Ye(Se);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),$.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return $.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new At(n,0),i=this.Rs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.Ds=e,this.docs=new Ge(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qe.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pn();const o=n.path,a=new J(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||nw(ND(f),r)<=0||(i.has(f.key)||Oc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Cs(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sz(this)}getSize(e){return $.resolve(this.size)}}class sz extends MA{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.persistence=e,this.xs=new bs(n=>wo(n),Rc),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ww,this.targetCount=0,this.Ms=_o.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),$.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Fn(n),$.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.$s={},this.overlays={},this.Os=new Dn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new oz(this),this.indexManager=new q9,this.remoteDocumentCache=function(r){return new iz(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new DA(n),this.qs=new tz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new rz(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new az(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return $.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class az extends LD{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Qs=new ww,this.js=null}static zs(e){return new up(e)}get Ws(){if(this.js)return this.js;throw se()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),$.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return $.or([()=>$.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.serializer=e}O(e,n,r,i){const s=new tp("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zT,{unique:!0}),a.createObjectStore("documentMutations")}(e),bE(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=$.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),bE(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ue.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zT,{unique:!0});const f=l.store("mutations"),m=c.map(y=>f.put(y));return $.waitFor(m)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Ys(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(o=o.next(()=>this.Zs(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ei(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:H3});l.createIndex("collectionPathOverlayIndex",G3,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",K3,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:L3});l.createIndex("documentKeyIndex",O3),l.createIndex("collectionGroupIndex",M3)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:B3}).createIndex("sequenceNumberIndex",U3,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:z3}).createIndex("documentKeyIndex",q3,{unique:!1})}(e))),o}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=nd(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>$.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>$.forEach(a,l=>{le(l.userId===s.userId);const c=Hs(this.serializer,l);return RA(e,s.userId,c).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new Ne(o),c=function(f){return[0,vn(f)]}(l);s.push(n.get(c).next(f=>f?$.resolve():(m=>n.put({targetId:0,path:vn(m),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>$.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:j3});const r=n.store("collectionParents"),i=new vw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:vn(l)})}};return n.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new Ne(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([o,a,l],c)=>{const f=Or(a);return s(f.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const s=el(i),o=AA(this.serializer,s);return n.put(o)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(c=o,c.document?new J(Ne.fromString(c.document.name).popFirst(5)):c.noDocument?J.fromSegments(c.noDocument.path):c.unknownDocument?J.fromSegments(c.unknownDocument.path):se()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(f))}).next(()=>$.waitFor(i))}si(e,n){const r=n.store("mutations"),i=$A(this.serializer),s=new VA(up.zs,this.serializer.fe);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let f=(c=a.get(l.userId))!==null&&c!==void 0?c:Te();Hs(this.serializer,l).keys().forEach(m=>f=f.add(m)),a.set(l.userId,f)}),$.forEach(a,(l,c)=>{const f=new Nt(c),m=op.de(this.serializer,f),y=s.getIndexManager(f),x=ap.de(f,this.serializer,y,s.referenceDelegate);return new FA(i,x,m,y).recalculateAndSaveOverlaysForDocumentKeys(new Ry(n,Dn.ct),l).next()})})}}function bE(t){t.createObjectStore("targetDocuments",{keyPath:F3}).createIndex("documentTargetsIndex",V3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$3,{unique:!0}),t.createObjectStore("targetGlobal")}const Qm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xw{constructor(e,n,r,i,s,o,a,l,c,f,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=s,this.window=o,this.document=a,this.ri=c,this.oi=f,this.ui=m,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=y=>Promise.resolve(),!xw.D())throw new K(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y9(this,i),this.di=n+"main",this.serializer=new DA(l),this.wi=new pr(this.di,this.ui,new uz(this.serializer)),this.Bs=new G9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$A(this.serializer),this.qs=new $9,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,f===!1&&vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new K(V.FAILED_PRECONDITION,Qm);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Dn(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(ks(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qu(e).get("owner").next(n=>$.resolve(this.Ri(n)))}Pi(e){return Mh(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ft(n,"clientMetadata");return r.j().next(i=>{const s=this.Si(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return $.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?$.resolve(!0):qu(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new K(V.FAILED_PRECONDITION,Qm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mh(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Ry(e,Dn.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Mh(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return ap.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H9(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return op.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){W("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ui)===15?Q3:o===14?VD:o===13?FD:o===12?W3:o===11?$D:void se();var o;let a;return this.wi.runTransaction(e,i,s,l=>(a=new Ry(l,this.Os?this.Os.next():Dn.ct),n==="readwrite-primary"?this.Ti(a).next(c=>!!c||this.Ei(a)).next(c=>{if(!c)throw vt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new K(V.FAILED_PRECONDITION,RD);return r(a)}).next(c=>this.vi(a).next(()=>c)):this.Oi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return qu(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new K(V.FAILED_PRECONDITION,Qm)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qu(e).put("owner",n)}static D(){return pr.D()}Ai(e){const n=qu(e);return n.get("owner").next(r=>this.Ri(r)?(W("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(vt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;sj()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return vt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){vt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qu(t){return Ft(t,"owner")}function Mh(t){return Ft(t,"clientMetadata")}function Sw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(tE(n))return $.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zf(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Zf(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return tE(n)||i.isEqual(ue.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Py()<=Me.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jy(n)),this.Wi(e,o,n,PD(i,-1)))})}ji(e,n){let r=new Ye(eA(e));return n.forEach((i,s)=>{Oc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Py()<=Me.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",jy(n)),this.Ui.getDocumentsMatchingQuery(e,n,Hn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ge(Se),this.Yi=new bs(s=>wo(s),Rc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function BA(t,e,n,r){return new lz(t,e,n,r)}async function UA(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Te();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function cz(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const f=l.batch,m=f.keys();let y=$.resolve();return m.forEach(x=>{y=y.next(()=>c.getEntry(a,x)).next(T=>{const C=l.docVersions.get(x);le(C!==null),T.version.compareTo(C)<0&&(f.applyToRemoteDocument(T,l),T.isValidDocument()&&(T.setReadTime(l.commitVersion),c.addEntry(T)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(a,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Te();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zA(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function hz(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;a.push(n.Bs.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Bs.addMatchingKeys(s,f.addedDocuments,m)));let x=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Dt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),i=i.insert(m,x),function(T,C,L){return T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(y,x,f)&&a.push(n.Bs.updateTargetData(s,x))});let l=Pn(),c=Te();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(qA(s,o,e.documentUpdates).next(f=>{l=f.nr,c=f.sr})),!r.isEqual(ue.min())){const f=n.Bs.getLastRemoteSnapshotVersion(s).next(m=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function qA(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function fz(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wa(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Qa(t,e,n){const r=ee(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ks(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function rd(t,e,n){const r=ee(t);let i=ue.min(),s=Te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const f=ee(a),m=f.Yi.get(c);return m!==void 0?$.resolve(f.Ji.get(m)):f.Bs.getTargetData(l,c)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:Te())).next(a=>(KA(r,ZD(e),a),{documents:a,ir:s})))}function HA(t,e){const n=ee(t),r=ee(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(o=>o?o.target:null))}function GA(t,e){const n=ee(t),r=n.Xi.get(e)||ue.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,PD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(KA(n,e,i),i))}function KA(t,e,n){let r=t.Xi.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}async function dz(t,e,n,r){const i=ee(t);let s=Te(),o=Pn();for(const c of n){const f=e.rr(c.metadata.name);c.document&&(s=s.add(f));const m=e.ur(c);m.setReadTime(e.cr(c.metadata.readTime)),o=o.insert(f,m)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await Wa(i,function(c){return Mn(uu(Ne.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>qA(c,a,o).next(f=>(a.apply(c),f)).next(f=>i.Bs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Bs.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,f.nr,f.sr)).next(()=>f.nr)))}async function pz(t,e,n=Te()){const r=await Wa(t,Mn(gw(e.bundledQuery))),i=ee(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=xt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(s,e);const a=r.withResumeToken(Dt.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(s,a).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,n,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}function DE(t,e){return`firestore_clients_${t}_${e}`}function AE(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Xm(t,e){return`firestore_targets_${t}_${e}`}class id{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new K(i.error.code,i.error.message))),o?new id(e,n,i.state,s):(vt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new K(r.error.code,r.error.message))),s?new xl(e,r.state,i):(vt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=uw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=OD(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new sd(e,s):(vt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Ew{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Ew(n.clientId,n.onlineState):(vt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ky{constructor(){this.activeTargetIds=uw()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ym{constructor(e,n,r,i,s){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ge(Se),this.started=!1,this.yr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=DE(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Ky),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(DE(this.persistenceKey,r));if(i){const s=sd.ar(r,i);s&&(this.gr=this.gr.insert(s.clientId,s))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Xm(this.persistenceKey,e));if(r){const i=xl.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xm(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W("SharedClientState","READ",e,n),n}setItem(e,n){W("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(W("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(i){let s=Dn.ct;if(i!=null)try{const o=JSON.parse(i);le(typeof o=="number"),s=o}catch(o){vt("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Dn.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new id(this.currentUser,e,n,r),s=AE(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const n=AE(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const i=Xm(this.persistenceKey,e),s=new xl(e,n,r);this.setItem(i,s.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return sd.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return id.ar(new Nt(s),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return xl.ar(i,n)}br(e){return Ew.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Wr(o,a).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=uw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class WA{constructor(){this.Hr=new Ky,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ky,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h=null;function Jm(){return $h===null?$h=268435456+Math.round(2147483648*Math.random()):$h++,"0x"+$h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class vz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Jm(),a=this.To(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(W("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw xr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+au,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=gz[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Jm();return new Promise((o,a)=>{const l=new p3;l.setWithCredentials(!0),l.listenOnce(h3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Km.NO_ERROR:const f=l.getResponseJson();W(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Km.TIMEOUT:W(en,`RPC '${e}' ${s} timed out`),a(new K(V.DEADLINE_EXCEEDED,"Request time out"));break;case Km.HTTP_ERROR:const m=l.getStatus();if(W(en,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const T=function(C){const L=C.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(L)>=0?L:V.UNKNOWN}(x.status);a(new K(T,x.message))}else a(new K(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(V.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(en,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);W(en,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=Jm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=l3(),a=c3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new d3({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");W(en,`Creating RPC '${e}' stream ${i}: ${f}`,l);const m=o.createWebChannel(f,l);let y=!1,x=!1;const T=new yz({ro:L=>{x?W(en,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(y||(W(en,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),W(en,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},oo:()=>m.close()}),C=(L,E,_)=>{L.listen(E,I=>{try{_(I)}catch(P){setTimeout(()=>{throw P},0)}})};return C(m,Ah.EventType.OPEN,()=>{x||W(en,`RPC '${e}' stream ${i} transport opened.`)}),C(m,Ah.EventType.CLOSE,()=>{x||(x=!0,W(en,`RPC '${e}' stream ${i} transport closed`),T.wo())}),C(m,Ah.EventType.ERROR,L=>{x||(x=!0,xr(en,`RPC '${e}' stream ${i} transport errored:`,L),T.wo(new K(V.UNAVAILABLE,"The operation could not be completed")))}),C(m,Ah.EventType.MESSAGE,L=>{var E;if(!x){const _=L.data[0];le(!!_);const I=_,P=I.error||((E=I[0])===null||E===void 0?void 0:E.error);if(P){W(en,`RPC '${e}' stream ${i} received error:`,P);const B=P.status;let G=function(H){const Z=Tt[H];if(Z!==void 0)return pA(Z)}(B),p=P.message;G===void 0&&(G=V.INTERNAL,p="Unknown error status: "+B+" with message "+P.message),x=!0,T.wo(new K(G,p)),m.close()}else W(en,`RPC '${e}' stream ${i} received:`,_),T._o(_)}}),C(a,f3.STAT_EVENT,L=>{L.stat===VT.PROXY?W(en,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===VT.NOPROXY&&W(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.fo()},0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof window<"u"?window:null}function rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){return new I9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _w(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(vt(n.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new K(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wz extends XA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=D9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?xt(s.readTime):ue.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ac(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Yf(a)?{documents:EA(i,a)}:{query:_A(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=vA(i,s.resumeToken);const l=By(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){o.readTime=Ka(i,s.snapshotVersion.toTimestamp());const l=By(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=P9(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ac(this.serializer),n.removeTarget=e,this.Wo(n)}}class xz extends XA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=A9(e.writeResults,e.commitTime),r=xt(e.commitTime);return this.listener.cu(r,n)}return le(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ac(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uc(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(V.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(V.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Tz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(vt(n),this.mu=!1):W("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ds(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ee(a);l.vu.add(4),await hu(l),l.bu.set("Unknown"),l.vu.delete(4),await jc(l)}(this))})}),this.bu=new Tz(r,i)}}async function jc(t){if(Ds(t))for(const e of t.Ru)await e(!0)}async function hu(t){for(const e of t.Ru)await e(!1)}function lp(t,e){const n=ee(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),kw(n)?Iw(n):du(n).Ko()&&Cw(n,e))}function lc(t,e){const n=ee(t),r=du(n);n.Au.delete(e),r.Ko()&&YA(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ds(n)&&n.bu.set("Unknown"))}function Cw(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).su(e)}function YA(t,e){t.Vu.qt(e),du(t).iu(e)}function Iw(t){t.Vu=new T9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),du(t).start(),t.bu.gu()}function kw(t){return Ds(t)&&!du(t).Uo()&&t.Au.size>0}function Ds(t){return ee(t).vu.size===0}function JA(t){t.Vu=void 0}async function _z(t){t.Au.forEach((e,n)=>{Cw(t,e)})}async function Cz(t,e){JA(t),kw(t)?(t.bu.Iu(e),Iw(t)):t.bu.set("Unknown")}async function Iz(t,e,n){if(t.bu.set("Online"),e instanceof yA&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof nf?t.Vu.Ht(e):e instanceof gA?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ue.min()))try{const r=await zA(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),YA(i,a);const f=new oi(c.target,a,l,c.sequenceNumber);Cw(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!ks(e))throw e;t.vu.add(1),await hu(t),t.bu.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await jc(t)})}function ZA(t,e){return e().catch(n=>od(t,n,e))}async function fu(t){const e=ee(t),n=ms(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;kz(e);)try{const i=await fz(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,bz(e,i)}catch(i){await od(e,i)}eP(e)&&tP(e)}function kz(t){return Ds(t)&&t.Eu.length<10}function bz(t,e){t.Eu.push(e);const n=ms(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function eP(t){return Ds(t)&&!ms(t).Uo()&&t.Eu.length>0}function tP(t){ms(t).start()}async function Dz(t){ms(t).hu()}async function Az(t){const e=ms(t);for(const n of t.Eu)e.uu(n.mutations)}async function Pz(t,e,n){const r=t.Eu.shift(),i=hw.from(r,e,n);await ZA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fu(t)}async function Nz(t,e){e&&ms(t).ou&&await async function(n,r){if(i=r.code,dA(i)&&i!==V.ABORTED){const s=n.Eu.shift();ms(n).Qo(),await ZA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await fu(n)}var i}(t,e),eP(t)&&tP(t)}async function NE(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ds(n);n.vu.add(3),await hu(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await jc(n)}async function Wy(t,e){const n=ee(t);e?(n.vu.delete(2),await jc(n)):e||(n.vu.add(2),await hu(n),n.bu.set("Unknown"))}function du(t){return t.Su||(t.Su=function(e,n,r){const i=ee(e);return i.fu(),new wz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:_z.bind(null,t),ao:Cz.bind(null,t),nu:Iz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),kw(t)?Iw(t):t.bu.set("Unknown")):(await t.Su.stop(),JA(t))})),t.Su}function ms(t){return t.Du||(t.Du=function(e,n,r){const i=ee(e);return i.fu(),new xz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Dz.bind(null,t),ao:Nz.bind(null,t),au:Az.bind(null,t),cu:Pz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await fu(t)):(await t.Du.stop(),t.Eu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pu(t,e){if(vt("AsyncQueue",`${e}: ${t}`),ks(t))return new K(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Ju(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Pa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.Cu=new Ge(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):se():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xa(e,n,Pa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.Nu=void 0,this.listeners=[]}}class Lz{constructor(){this.queries=new bs(e=>JD(e),Lc),this.onlineState="Unknown",this.ku=new Set}}async function Dw(t,e){const n=ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Rz),i)try{s.Nu=await n.onListen(r)}catch(o){const a=pu(o,`Initialization of query '${jy(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Pw(n)}async function Aw(t,e){const n=ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Oz(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Pw(n)}function Mz(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Pw(t){t.ku.forEach(e=>{e.next()})}class Nw{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.serializer=e}rr(e){return Ur(this.serializer,e)}ur(e){return e.metadata.exists?TA(this.serializer,e.document,!1):Qe.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return xt(e)}}class Fz{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nP(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Ne.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new LE(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Te()).add(s);n.set(o,a)}}return n}async complete(){const e=await dz(this.localStore,new LE(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await pz(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function nP(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.key=e}}class iP{constructor(e){this.key=e}}class sP{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Te(),this.mutatedKeys=Te(),this.tc=eA(e),this.ec=new Pa(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new RE,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),x=Oc(this.query,m)?m:null,T=!!y&&this.mutatedKeys.has(y.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;y&&x?y.data.isEqual(x.data)?T!==C&&(r.track({type:3,doc:x}),L=!0):this.rc(y,x)||(r.track({type:2,doc:x}),L=!0,(l&&this.tc(x,l)>0||c&&this.tc(x,c)<0)&&(a=!0)):!y&&x?(r.track({type:0,doc:x}),L=!0):y&&!x&&(r.track({type:1,doc:y}),L=!0,(l||c)&&(a=!0)),L&&(x?(o=o.add(x),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,f)=>function(m,y){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return x(m)-x(y)}(c.type,f.type)||this.tc(c.doc,f.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Xa(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new RE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Te(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new iP(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new rP(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Te();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Xa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Vz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jz{constructor(e){this.key=e,this.fc=!1}}class Bz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new bs(a=>JD(a),Lc),this._c=new Map,this.mc=new Set,this.gc=new Ge(J.comparator),this.yc=new Map,this.Ic=new ww,this.Tc={},this.Ec=new Map,this.Ac=_o.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Uz(t,e){const n=$w(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Wa(n.localStore,Mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Rw(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&lp(n.remoteStore,o)}return i}async function Rw(t,e,n,r,i){t.Rc=(m,y,x)=>async function(T,C,L,E){let _=C.view.sc(L);_.zi&&(_=await rd(T.localStore,C.query,!1).then(({documents:B})=>C.view.sc(B,_)));const I=E&&E.targetChanges.get(C.targetId),P=C.view.applyChanges(_,T.isPrimaryClient,I);return Qy(T,C.targetId,P.cc),P.snapshot}(t,m,y,x);const s=await rd(t.localStore,e,!0),o=new sP(e,s.ir),a=o.sc(s.documents),l=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Qy(t,n,c.cc);const f=new Vz(e,n,o);return t.wc.set(e,f),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function zz(t,e){const n=ee(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Lc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),lc(n.remoteStore,r.targetId),Ya(n,r.targetId)}).catch(Is)):(Ya(n,r.targetId),await Qa(n.localStore,r.targetId,!0))}async function qz(t,e,n){const r=Fw(t);try{const i=await function(s,o){const a=ee(s),l=nt.now(),c=o.reduce((y,x)=>y.add(x.key),Te());let f,m;return a.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Pn(),T=Te();return a.Zi.getEntries(y,c).next(C=>{x=C,x.forEach((L,E)=>{E.isValidDocument()||(T=T.add(L))})}).next(()=>a.localDocuments.getOverlayedDocuments(y,x)).next(C=>{f=C;const L=[];for(const E of o){const _=w9(E,f.get(E.key).overlayedDocument);_!=null&&L.push(new Ei(E.key,_,zD(_.value.mapValue),tt.exists(!0)))}return a.mutationQueue.addMutationBatch(y,l,L,o)}).next(C=>{m=C;const L=C.applyToLocalDocumentSet(f,T);return a.documentOverlayCache.saveOverlays(y,C.batchId,L)})}).then(()=>({batchId:m.batchId,changes:nA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Ge(Se)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await _i(r,i.changes),await fu(r.remoteStore)}catch(i){const s=pu(i,"Failed to persist write");n.reject(s)}}async function oP(t,e){const n=ee(t);try{const r=await hz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?le(o.fc):i.removedDocuments.size>0&&(le(o.fc),o.fc=!1))}),await _i(n,r,e)}catch(r){await Is(r)}}function OE(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ee(s);a.onlineState=o;let l=!1;a.queries.forEach((c,f)=>{for(const m of f.listeners)m.Mu(o)&&(l=!0)}),l&&Pw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Hz(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ge(J.comparator);o=o.insert(s,Qe.newNoDocument(s,ue.min()));const a=Te().add(s),l=new $c(ue.min(),new Map,new Ge(Se),o,a);await oP(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Mw(r)}else await Qa(r.localStore,e,!1).then(()=>Ya(r,e,n)).catch(Is)}async function Gz(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await cz(n.localStore,e);Ow(n,r,null),Lw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _i(n,i)}catch(i){await Is(i)}}async function Kz(t,e,n){const r=ee(t);try{const i=await function(s,o){const a=ee(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(f=>(le(f!==null),c=f.keys(),a.mutationQueue.removeMutationBatch(l,f))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);Ow(r,e,n),Lw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _i(r,i)}catch(i){await Is(i)}}async function Wz(t,e){const n=ee(t);Ds(n.remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=ee(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=pu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Lw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Ow(t,e,n){const r=ee(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ya(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||aP(t,r)})}function aP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(lc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Mw(t))}function Qy(t,e,n){for(const r of n)r instanceof rP?(t.Ic.addReference(r.key,e),Qz(t,r)):r instanceof iP?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||aP(t,r.key)):se()}function Qz(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.mc.add(r),Mw(t))}function Mw(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(Ne.fromString(e)),r=t.Ac.next();t.yc.set(r,new jz(n)),t.gc=t.gc.insert(n,r),lp(t.remoteStore,new oi(Mn(uu(n.path)),r,"TargetPurposeLimboResolution",Dn.ct))}}async function _i(t,e,n){const r=ee(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const f=Tw.Li(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const c=ee(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(l,m=>$.forEach(m.Fi,y=>c.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>$.forEach(m.Bi,y=>c.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!ks(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const m=f.targetId;if(!f.fromCache){const y=c.Ji.get(m),x=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(x);c.Ji=c.Ji.insert(m,T)}}}(r.localStore,s))}async function Xz(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await UA(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new K(V.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _i(n,r.er)}}function Yz(t,e){const n=ee(t),r=n.yc.get(e);if(r&&r.fc)return Te().add(r.key);{let i=Te();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}async function Jz(t,e){const n=ee(t),r=await rd(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&Qy(n,e.targetId,i.cc),i}async function Zz(t,e){const n=ee(t);return GA(n.localStore,e).then(r=>_i(n,r))}async function e6(t,e,n,r){const i=ee(t),s=await function(o,a){const l=ee(o),c=ee(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>c.Sn(f,a).next(m=>m?l.localDocuments.getDocuments(f,m):$.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await fu(i.remoteStore):n==="acknowledged"||n==="rejected"?(Ow(i,e,r||null),Lw(i,e),function(o,a){ee(ee(o).mutationQueue).Cn(a)}(i.localStore,e)):se(),await _i(i,s)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}async function t6(t,e){const n=ee(t);if($w(n),Fw(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await ME(n,r.toArray());n.vc=!0,await Wy(n.remoteStore,!0);for(const s of i)lp(n.remoteStore,s)}else if(e===!1&&n.vc!==!1){const r=[];let i=Promise.resolve();n._c.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ya(n,o),Qa(n.localStore,o,!0))),lc(n.remoteStore,o)}),await i,await ME(n,r),function(s){const o=ee(s);o.yc.forEach((a,l)=>{lc(o.remoteStore,l)}),o.Ic.Ts(),o.yc=new Map,o.gc=new Ge(J.comparator)}(n),n.vc=!1,await Wy(n.remoteStore,!1)}}async function ME(t,e,n){const r=ee(t),i=[],s=[];for(const o of e){let a;const l=r._c.get(o);if(l&&l.length!==0){a=await Wa(r.localStore,Mn(l[0]));for(const c of l){const f=r.wc.get(c),m=await Jz(r,f);m.snapshot&&s.push(m.snapshot)}}else{const c=await HA(r.localStore,o);a=await Wa(r.localStore,c),await Rw(r,uP(c),o,!1,a.resumeToken)}i.push(a)}return r.dc.nu(s),i}function uP(t){return YD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function n6(t){const e=ee(t);return ee(ee(e.localStore).persistence).$i()}async function r6(t,e,n,r){const i=ee(t);if(i.vc)return void W("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await GA(i.localStore,ZD(s[0])),a=$c.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Dt.EMPTY_BYTE_STRING);await _i(i,o,a);break}case"rejected":await Qa(i.localStore,e,!0),Ya(i,e,r);break;default:se()}}async function i6(t,e,n){const r=$w(t);if(r.vc){for(const i of e){if(r._c.has(i)){W("SyncEngine","Adding an already active target "+i);continue}const s=await HA(r.localStore,i),o=await Wa(r.localStore,s);await Rw(r,uP(s),o.targetId,!1,o.resumeToken),lp(r.remoteStore,o)}for(const i of n)r._c.has(i)&&await Qa(r.localStore,i,!1).then(()=>{lc(r.remoteStore,i),Ya(r,i)}).catch(Is)}}function $w(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hz.bind(null,e),e.dc.nu=Oz.bind(null,e.eventManager),e.dc.Pc=Mz.bind(null,e.eventManager),e}function Fw(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kz.bind(null,e),e}function s6(t,e,n){const r=ee(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(m,y){const x=ee(m),T=xt(y.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",C=>x.qs.getBundleMetadata(C,y.id)).then(C=>!!C&&C.createTime.compareTo(T)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(nP(a));const l=new Fz(a,i.localStore,s.serializer);let c=await s.bc();for(;c;){const m=await l.zu(c);m&&o._updateProgress(m),c=await s.bc()}const f=await l.complete();return await _i(i,f.Ju,void 0),await function(m,y){const x=ee(m);return x.persistence.runTransaction("Save bundle","readwrite",T=>x.qs.saveBundleMetadata(T,y))}(i.localStore,a),o._completeWith(f.progress),Promise.resolve(f.Hu)}catch(a){return xr("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Xy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return BA(this.persistence,new jA,e.initialUser,this.serializer)}createPersistence(e){return new VA(up.zs,this.serializer)}createSharedClientState(e){return new WA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lP extends Xy{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await Fw(this.Vc.syncEngine),await fu(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return BA(this.persistence,new jA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new W9(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new P3(n,this.persistence);return new A3(e.asyncQueue,r)}createPersistence(e){const n=Sw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new xw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,QA(),rf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new WA}}class o6 extends lP{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof Ym&&(this.sharedClientState.syncEngine={jr:e6.bind(null,n),zr:r6.bind(null,n),Wr:i6.bind(null,n),$i:n6.bind(null,n),Qr:Zz.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await t6(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=QA();if(!Ym.D(n))throw new K(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Sw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ym(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Vw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xz.bind(null,this.syncEngine),await Wy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lz}createDatastore(e){const n=Vc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new vz(i));var i;return function(s,o,a,l){return new Sz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>OE(this.syncEngine,a,0),o=PE.D()?new PE:new mz,new Ez(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const f=new Bz(r,i,s,o,a,l);return c&&(f.vc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ee(e);W("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await hu(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):vt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Ot,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const i=await this.$c(r);return new $z(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new K(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=ee(r),o=ac(s.serializer)+"/documents",a={documents:i.map(m=>oc(s.serializer,m))},l=await s.vo("BatchGetDocuments",o,a,i.length),c=new Map;l.forEach(m=>{const y=b9(s.serializer,m);c.set(y.key.toString(),y)});const f=[];return i.forEach(m=>{const y=c.get(m.toString());le(!!y),f.push(y)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=J.fromPath(r);this.mutations.push(new lw(i,this.precondition(i)))}),await async function(n,r){const i=ee(n),s=ac(i.serializer)+"/documents",o={writes:r.map(a=>uc(i.serializer,a))};await i.Io("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw se();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new K(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?tt.exists(!1):tt.updateTime(n):tt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new K(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(n)}return tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new _w(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new u6(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Uc(i)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!Nc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!dA(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=bD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ot;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sf(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jw(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>NE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>NE(e.remoteStore,s)),t._onlineComponents=e}function cP(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!cP(n))throw n;xr("Error using user provided cache. Falling back to memory cache: "+n),await sf(t,new Xy)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await sf(t,new Xy);return t._offlineComponents}async function hp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Yy(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Yy(t,new Vw))),t._onlineComponents}function hP(t){return jw(t).then(e=>e.persistence)}function Bw(t){return jw(t).then(e=>e.localStore)}function fP(t){return hp(t).then(e=>e.remoteStore)}function Uw(t){return hp(t).then(e=>e.syncEngine)}function h6(t){return hp(t).then(e=>e.datastore)}async function Ja(t){const e=await hp(t),n=e.eventManager;return n.onListen=Uz.bind(null,e.syncEngine),n.onUnlisten=zz.bind(null,e.syncEngine),n}function f6(t){return t.asyncQueue.enqueue(async()=>{const e=await hP(t),n=await fP(t);return e.setNetworkEnabled(!0),function(r){const i=ee(r);return i.vu.delete(0),jc(i)}(n)})}function d6(t){return t.asyncQueue.enqueue(async()=>{const e=await hP(t),n=await fP(t);return e.setNetworkEnabled(!1),async function(r){const i=ee(r);i.vu.add(0),await hu(i),i.bu.set("Offline")}(n)})}function p6(t,e){const n=new Ot;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const c=ee(a);return c.persistence.runTransaction("read document","readonly",f=>c.localDocuments.getDocument(f,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new K(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=pu(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await Bw(t),e,n)),n.promise}function dP(t,e,n={}){const r=new Ot;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new cp({next:m=>{s.enqueueAndForget(()=>Aw(i,f));const y=m.docs.has(o);!y&&m.fromCache?l.reject(new K(V.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&a&&a.source==="server"?l.reject(new K(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Nw(uu(o.path),c,{includeMetadataChanges:!0,Ku:!0});return Dw(i,f)}(await Ja(t),t.asyncQueue,e,n,r)),r.promise}function m6(t,e){const n=new Ot;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await rd(r,i,!0),a=new sP(i,o.ir),l=a.sc(o.documents),c=a.applyChanges(l,!1);s.resolve(c.snapshot)}catch(o){const a=pu(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await Bw(t),e,n)),n.promise}function pP(t,e,n={}){const r=new Ot;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new cp({next:m=>{s.enqueueAndForget(()=>Aw(i,f)),m.fromCache&&a.source==="server"?l.reject(new K(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Nw(o,c,{includeMetadataChanges:!0,Ku:!0});return Dw(i,f)}(await Ja(t),t.asyncQueue,e,n,r)),r.promise}function g6(t,e){const n=new cp(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){ee(r).ku.add(i),i.next()}(await Ja(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){ee(r).ku.delete(i)}(await Ja(t),n))}}function y6(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?mA().encode(s):s,function(l,c){return new a6(l,c)}(function(l,c){if(l instanceof Uint8Array)return $E(l,c);if(l instanceof ArrayBuffer)return $E(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,Vc(e));t.asyncQueue.enqueueAndForget(async()=>{s6(await Uw(t),i,r)})}function v6(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=ee(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(await Bw(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t,e,n){if(!n)throw new K(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gP(t,e,n,r){if(e===!0&&r===!0)throw new K(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VE(t){if(!J.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jE(t){if(J.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fp(t);throw new K(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function yP(t,e){if(e<=0)throw new K(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Bc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new v3;switch(n.type){case"firstParty":return new T3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new K(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=FE.get(e);n&&(W("ComponentProvider","Removing Datastore"),FE.delete(e),n.terminate())}(this),Promise.resolve()}}function w6(t,e,n,r={}){var i;const s=(t=Oe(t,Bc))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&xr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Nt.MOCK_USER;else{o=Uk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new K(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(l)}t._authCredentials=new w3(new kD(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class zr extends Qt{constructor(e,n,r){super(e,n,uu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new J(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function vP(t,e,...n){if(t=Be(t),zw("collection","path",e),t instanceof Bc){const r=Ne.fromString(e,...n);return jE(r),new zr(t,null,r)}{if(!(t instanceof Je||t instanceof zr))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return jE(r),new zr(t.firestore,null,r)}}function x6(t,e){if(t=Oe(t,Bc),zw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new K(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qt(t,null,function(n){return new Ti(Ne.emptyPath(),n)}(e))}function ad(t,e,...n){if(t=Be(t),arguments.length===1&&(e=bD.A()),zw("doc","path",e),t instanceof Bc){const r=Ne.fromString(e,...n);return VE(r),new Je(t,null,new J(r))}{if(!(t instanceof Je||t instanceof zr))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return VE(r),new Je(t.firestore,t instanceof zr?t.converter:null,new J(r))}}function wP(t,e){return t=Be(t),e=Be(e),(t instanceof Je||t instanceof zr)&&(e instanceof Je||e instanceof zr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function xP(t,e){return t=Be(t),e=Be(e),t instanceof Qt&&e instanceof Qt&&t.firestore===e.firestore&&Lc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _w(this,"async_queue_retry"),this.Xc=()=>{const n=rf();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=rf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ot;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ks(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw vt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=bw.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&se()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Jy(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class T6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ot,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=-1;class gt extends Bc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new S6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SP(this),this._firestoreClient.terminate()}}function Vt(t){return t._firestoreClient||SP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SP(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new J3(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,mP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new c6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function _6(t,e){EP(t=Oe(t,gt));const n=Vt(t);if(n._uninitializedComponentsProvider)throw new K(V.FAILED_PRECONDITION,"SDK cache is already specified.");xr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Vw;return TP(n,i,new lP(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function C6(t){EP(t=Oe(t,gt));const e=Vt(t);if(e._uninitializedComponentsProvider)throw new K(V.FAILED_PRECONDITION,"SDK cache is already specified.");xr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Vw;return TP(e,r,new o6(r,n.cacheSizeBytes))}function TP(t,e,n){const r=new Ot;return t.asyncQueue.enqueue(async()=>{try{await sf(t,n),await Yy(t,e),r.resolve()}catch(i){const s=i;if(!cP(s))throw s;xr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function I6(t){if(t._initialized&&!t._terminated)throw new K(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ot;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!pr.D())return Promise.resolve();const r=n+"main";await pr.delete(r)}(Sw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function k6(t){return function(e){const n=new Ot;return e.asyncQueue.enqueueAndForget(async()=>Wz(await Uw(e),n)),n.promise}(Vt(t=Oe(t,gt)))}function b6(t){return f6(Vt(t=Oe(t,gt)))}function D6(t){return d6(Vt(t=Oe(t,gt)))}function A6(t,e){const n=Vt(t=Oe(t,gt)),r=new T6;return y6(n,t._databaseId,e,r),r}function P6(t,e){return v6(Vt(t=Oe(t,gt)),e).then(n=>n?new Qt(t,null,n.query):null)}function EP(t){if(t._initialized||t._terminated)throw new K(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(Dt.fromBase64String(e))}catch(n){throw new K(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^__.*__$/;class R6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class _P{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class pp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new pp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ud(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(CP(this.ca)&&N6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class L6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vc(e)}ya(e,n,r,i=!1){return new pp({ca:e,methodName:n,ga:r,path:wt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $o(t){const e=t._freezeSettings(),n=Vc(t._databaseId);return new L6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mp(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Kw("Data must be an object, but it was:",o,r);const a=bP(r,o);let l,c;if(s.merge)l=new An(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const y=Zy(e,m,n);if(!o.contains(y))throw new K(V.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);AP(f,y)||f.push(y)}l=new An(f),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new R6(new Ht(a),l,c)}class Uc extends Mo{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uc}}function IP(t,e,n){return new pp({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qw extends Mo{_toFieldTransform(e){return new Mc(e.path,new Ha)}isEqual(e){return e instanceof qw}}class O6 extends Mo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=IP(this,e,!0),r=this.pa.map(s=>Fo(s,n)),i=new xo(r);return new Mc(e.path,i)}isEqual(e){return this===e}}class M6 extends Mo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=IP(this,e,!0),r=this.pa.map(s=>Fo(s,n)),i=new So(r);return new Mc(e.path,i)}isEqual(e){return this===e}}class $6 extends Mo{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Ga(e.serializer,oA(e.serializer,this.Ia));return new Mc(e.path,n)}isEqual(e){return this===e}}function Hw(t,e,n,r){const i=t.ya(1,e,n);Kw("Data must be an object, but it was:",i,r);const s=[],o=Ht.empty();Oo(r,(l,c)=>{const f=Ww(e,l,n);c=Be(c);const m=i.da(f);if(c instanceof Uc)s.push(f);else{const y=Fo(c,m);y!=null&&(s.push(f),o.set(f,y))}});const a=new An(s);return new _P(o,a,i.fieldTransforms)}function Gw(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Zy(e,r,n)],l=[i];if(s.length%2!=0)throw new K(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(Zy(e,s[y])),l.push(s[y+1]);const c=[],f=Ht.empty();for(let y=a.length-1;y>=0;--y)if(!AP(c,a[y])){const x=a[y];let T=l[y];T=Be(T);const C=o.da(x);if(T instanceof Uc)c.push(x);else{const L=Fo(T,C);L!=null&&(c.push(x),f.set(x,L))}}const m=new An(c);return new _P(f,m,o.fieldTransforms)}function kP(t,e,n,r=!1){return Fo(n,t.ya(r?4:3,e))}function Fo(t,e){if(DP(t=Be(t)))return Kw("Unsupported field value:",e,t),bP(t,e);if(t instanceof Mo)return function(n,r){if(!CP(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Fo(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Be(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return oA(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=nt.fromDate(n);return{timestampValue:Ka(r.serializer,i)}}if(n instanceof nt){const i=new nt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ka(r.serializer,i)}}if(n instanceof dp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hr)return{bytesValue:vA(r.serializer,n._byteString)};if(n instanceof Je){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${fp(n)}`)}(t,e)}function bP(t,e){const n={};return jD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,(r,i)=>{const s=Fo(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof dp||t instanceof Hr||t instanceof Je||t instanceof Mo)}function Kw(t,e,n){if(!DP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=fp(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Zy(t,e,n){if((e=Be(e))instanceof gs)return e._internalPath;if(typeof e=="string")return Ww(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const F6=new RegExp("[~\\*/\\[\\]]");function Ww(t,e,n){if(e.search(F6)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gs(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(V.INVALID_ARGUMENT,a+t+l)}function AP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V6 extends cc{data(){return super.data()}}function gp(t,e){return typeof e=="string"?Ww(t,e):e instanceof gs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qw{}class zc extends Qw{}function Ni(t,e,...n){let r=[];e instanceof Qw&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Xw).length,o=i.filter(a=>a instanceof yp).length;if(s>1||s>0&&o>0)throw new K(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yp extends zc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yp(e,n,r)}_apply(e){const n=this._parse(e);return RP(e._query,n),new Qt(e.firestore,e.converter,Vy(e._query,n))}_parse(e){const n=$o(e.firestore);return function(i,s,o,a,l,c,f){let m;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new K(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){zE(f,c);const y=[];for(const x of f)y.push(UE(a,i,x));m={arrayValue:{values:y}}}else m=UE(a,i,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||zE(f,c),m=kP(o,s,f,c==="in"||c==="not-in");return be.create(l,c,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j6(t,e,n){const r=e,i=gp("where",t);return yp._create(i,r,n)}class Xw extends Qw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)RP(s,a),s=Vy(s,a)}(e._query,n),new Qt(e.firestore,e.converter,Vy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yw extends zc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yw(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new K(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Aa(i,s);return function(a,l){if(ow(a)===null){const c=rp(a);c!==null&&LP(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Qt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ti(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function B6(t,e="asc"){const n=e,r=gp("orderBy",t);return Yw._create(r,n)}class vp extends zc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new vp(e,n,r)}_apply(e){return new Qt(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function U6(t){return yP("limit",t),vp._create("limit",t,"F")}function z6(t){return yP("limitToLast",t),vp._create("limitToLast",t,"L")}class wp extends zc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new wp(e,n,r)}_apply(e){const n=NP(e,this.type,this._docOrFields,this._inclusive);return new Qt(e.firestore,e.converter,function(r,i){return new Ti(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function q6(...t){return wp._create("startAt",t,!0)}function H6(...t){return wp._create("startAfter",t,!1)}class xp extends zc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new xp(e,n,r)}_apply(e){const n=NP(e,this.type,this._docOrFields,this._inclusive);return new Qt(e.firestore,e.converter,function(r,i){return new Ti(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function G6(...t){return xp._create("endBefore",t,!1)}function K6(...t){return xp._create("endAt",t,!0)}function NP(t,e,n,r){if(n[0]=Be(n[0]),n[0]instanceof cc)return function(i,s,o,a,l){if(!a)throw new K(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const f of ao(i))if(f.field.isKeyField())c.push(vo(s,a.key));else{const m=a.data.field(f.field);if(np(m))throw new K(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const y=f.field.canonicalString();throw new K(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(m)}return new ps(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=$o(t.firestore);return function(s,o,a,l,c,f){const m=s.explicitOrderBy;if(c.length>m.length)throw new K(V.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let x=0;x<c.length;x++){const T=c[x];if(m[x].field.isKeyField()){if(typeof T!="string")throw new K(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof T}`);if(!aw(s)&&T.indexOf("/")!==-1)throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${T}' contains a slash.`);const C=s.path.child(Ne.fromString(T));if(!J.isDocumentKey(C))throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const L=new J(C);y.push(vo(o,L))}else{const C=kP(a,l,T);y.push(C)}}return new ps(y,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function UE(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new K(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aw(e)&&n.indexOf("/")!==-1)throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!J.isDocumentKey(r))throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vo(t,new J(r))}if(n instanceof Je)return vo(t,n._key);throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fp(n)}.`)}function zE(t,e){if(!Array.isArray(t)||t.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RP(t,e){if(e.isInequality()){const r=rp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new K(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=ow(t);s!==null&&LP(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function LP(t,e,n){if(!n.isEqual(e))throw new K(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Jw{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new dp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=cs(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);le(bA(r));const i=new fs(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||vt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class W6 extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wi extends cc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sl extends wi{data(e={}){return super.data(e)}}class ys{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sl(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Sl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new to(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Sl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new to(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Q6(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function OP(t,e){return t instanceof wi&&e instanceof wi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ys&&e instanceof ys&&t._firestore===e._firestore&&xP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){t=Oe(t,Je);const e=Oe(t.firestore,gt);return dP(Vt(e),t._key).then(n=>Zw(e,t,n))}class Vo extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function Y6(t){t=Oe(t,Je);const e=Oe(t.firestore,gt),n=Vt(e),r=new Vo(e);return p6(n,t._key).then(i=>new wi(e,r,t._key,i,new to(i!==null&&i.hasLocalMutations,!0),t.converter))}function J6(t){t=Oe(t,Je);const e=Oe(t.firestore,gt);return dP(Vt(e),t._key,{source:"server"}).then(n=>Zw(e,t,n))}function Z6(t){t=Oe(t,Qt);const e=Oe(t.firestore,gt),n=Vt(e),r=new Vo(e);return PP(t._query),pP(n,t._query).then(i=>new ys(e,r,t,i))}function e5(t){t=Oe(t,Qt);const e=Oe(t.firestore,gt),n=Vt(e),r=new Vo(e);return m6(n,t._query).then(i=>new ys(e,r,t,i))}function t5(t){t=Oe(t,Qt);const e=Oe(t.firestore,gt),n=Vt(e),r=new Vo(e);return pP(n,t._query,{source:"server"}).then(i=>new ys(e,r,t,i))}function qE(t,e,n){t=Oe(t,Je);const r=Oe(t.firestore,gt),i=Sp(t.converter,e,n);return qc(r,[mp($o(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tt.none())])}function HE(t,e,n,...r){t=Oe(t,Je);const i=Oe(t.firestore,gt),s=$o(i);let o;return o=typeof(e=Be(e))=="string"||e instanceof gs?Gw(s,"updateDoc",t._key,e,n,r):Hw(s,"updateDoc",t._key,e),qc(i,[o.toMutation(t._key,tt.exists(!0))])}function n5(t){return qc(Oe(t.firestore,gt),[new cu(t._key,tt.none())])}function r5(t,e){const n=Oe(t.firestore,gt),r=ad(t),i=Sp(t.converter,e);return qc(n,[mp($o(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tt.exists(!1))]).then(()=>r)}function MP(t,...e){var n,r,i;t=Be(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Jy(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Jy(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,c,f;if(t instanceof Je)c=Oe(t.firestore,gt),f=uu(t._key.path),l={next:m=>{e[o]&&e[o](Zw(c,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Oe(t,Qt);c=Oe(m.firestore,gt),f=m._query;const y=new Vo(c);l={next:x=>{e[o]&&e[o](new ys(c,y,m,x))},error:e[o+1],complete:e[o+2]},PP(t._query)}return function(m,y,x,T){const C=new cp(T),L=new Nw(y,C,x);return m.asyncQueue.enqueueAndForget(async()=>Dw(await Ja(m),L)),()=>{C.Dc(),m.asyncQueue.enqueueAndForget(async()=>Aw(await Ja(m),L))}}(Vt(c),f,a,l)}function i5(t,e){return g6(Vt(t=Oe(t,gt)),Jy(e)?e:{next:e})}function qc(t,e){return function(n,r){const i=new Ot;return n.asyncQueue.enqueueAndForget(async()=>qz(await Uw(n),r,i)),i.promise}(Vt(t),e)}function Zw(t,e,n){const r=n.docs.get(e._key),i=new Vo(t);return new wi(t,i,e._key,r,new to(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$o(e)}set(e,n,r){this._verifyNotCommitted();const i=ji(e,this._firestore),s=Sp(i.converter,n,r),o=mp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,tt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ji(e,this._firestore);let o;return o=typeof(n=Be(n))=="string"||n instanceof gs?Gw(this._dataReader,"WriteBatch.update",s._key,n,r,i):Hw(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ji(e,this._firestore);return this._mutations=this._mutations.concat(new cu(n._key,tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ji(t,e){if((t=Be(t)).firestore!==e)throw new K(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=$o(e)}get(e){const n=ji(e,this._firestore),r=new W6(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return se();const s=i[0];if(s.isFoundDocument())return new cc(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new cc(this._firestore,r,n._key,null,n.converter);throw se()})}set(e,n,r){const i=ji(e,this._firestore),s=Sp(i.converter,n,r),o=mp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=ji(e,this._firestore);let o;return o=typeof(n=Be(n))=="string"||n instanceof gs?Gw(this._dataReader,"Transaction.update",s._key,n,r,i):Hw(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=ji(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ji(e,this._firestore),r=new Vo(this._firestore);return super.get(e).then(i=>new wi(this._firestore,r,n._key,i._document,new to(!1,!1),n.converter))}}function u5(t,e,n){t=Oe(t,gt);const r=Object.assign(Object.assign({},s5),n);return function(i){if(i.maxAttempts<1)throw new K(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Ot;return i.asyncQueue.enqueueAndForget(async()=>{const l=await h6(i);new l6(i.asyncQueue,l,o,s,a).run()}),a.promise}(Vt(t),i=>e(new a5(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(){return new Uc("deleteField")}function c5(){return new qw("serverTimestamp")}function h5(...t){return new O6("arrayUnion",t)}function f5(...t){return new M6("arrayRemove",t)}function d5(t){return new $6("increment",t)}(function(t,e=!0){(function(n){au=n})(Od),mo(new yi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new gt(new x3(n.getProvider("auth-internal")),new _3(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new K(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fs(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),jr(jT,"3.12.1",t),jr(jT,"3.12.1","esm2017")})();const p5="@firebase/firestore-compat",m5="0.3.10";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new K("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){if(typeof Uint8Array>"u")throw new K("unimplemented","Uint8Arrays are not available in this environment.")}function KE(){if(!X3())throw new K("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $P=class ev{constructor(e){this._delegate=e}static fromBase64String(e){return KE(),new ev(Hr.fromBase64String(e))}static fromUint8Array(e){return GE(),new ev(Hr.fromUint8Array(e))}toBase64(){return KE(),this._delegate.toBase64()}toUint8Array(){return GE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){return g5(t,["next","error","complete"])}function g5(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{enableIndexedDbPersistence(e,n){return _6(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return C6(e._delegate)}clearIndexedDbPersistence(e){return I6(e._delegate)}}class FP{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&xr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){w6(this._delegate,e,n,r)}enableNetwork(){return b6(this._delegate)}disableNetwork(){return D6(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,gP("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return k6(this._delegate)}onSnapshotsInSync(e){return i5(this._delegate,e)}get app(){if(!this._appCompat)throw new K("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Za(this,vP(this._delegate,e))}catch(n){throw mn(n,"collection()","Firestore.collection()")}}doc(e){try{return new rr(this,ad(this._delegate,e))}catch(n){throw mn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dn(this,x6(this._delegate,e))}catch(n){throw mn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return u5(this._delegate,n=>e(new VP(this,n)))}batch(){return Vt(this._delegate),new jP(new o5(this._delegate,e=>qc(this._delegate,e)))}loadBundle(e){return A6(this._delegate,e)}namedQuery(e){return P6(this._delegate,e).then(n=>n?new dn(this,n):null)}}class Tp extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new $P(new Hr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return rr.forKey(n,this.firestore,null)}}function v5(t){g3(t)}class VP{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Tp(e)}get(e){const n=no(e);return this._delegate.get(n).then(r=>new hc(this._firestore,new wi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=no(e);return r?(e1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=no(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=no(e);return this._delegate.delete(n),this}}class jP{constructor(e){this._delegate=e}set(e,n,r){const i=no(e);return r?(e1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=no(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=no(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Co{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Sl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Co.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Co(e,new Tp(e),n),i.set(n,s)),s}}Co.INSTANCES=new WeakMap;class rr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tp(e)}static forPath(e,n,r){if(e.length%2!==0)throw new K("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new rr(n,new Je(n._delegate,r,new J(e)))}static forKey(e,n,r){return new rr(n,new Je(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Za(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Za(this.firestore,vP(this._delegate,e))}catch(n){throw mn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Be(e),e instanceof Je?wP(this._delegate,e):!1}set(e,n){n=e1("DocumentReference.set",n);try{return n?qE(this._delegate,e,n):qE(this._delegate,e)}catch(r){throw mn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?HE(this._delegate,e):HE(this._delegate,e,n,...r)}catch(i){throw mn(i,"updateDoc()","DocumentReference.update()")}}delete(){return n5(this._delegate)}onSnapshot(...e){const n=BP(e),r=UP(e,i=>new hc(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return MP(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Y6(this._delegate):(e==null?void 0:e.source)==="server"?n=J6(this._delegate):n=X6(this._delegate),n.then(r=>new hc(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new rr(this.firestore,e?this._delegate.withConverter(Co.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mn(t,e,n){return t.message=t.message.replace(e,n),t}function BP(t){for(const e of t)if(typeof e=="object"&&!tv(e))return e;return{}}function UP(t,e){var n,r;let i;return tv(t[0])?i=t[0]:tv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class hc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new rr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return OP(this._delegate,e._delegate)}}class fc extends hc{data(e){const n=this._delegate.data(e);return y3(n!==void 0),n}}class dn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Tp(e)}where(e,n,r){try{return new dn(this.firestore,Ni(this._delegate,j6(e,n,r)))}catch(i){throw mn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new dn(this.firestore,Ni(this._delegate,B6(e,n)))}catch(r){throw mn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dn(this.firestore,Ni(this._delegate,U6(e)))}catch(n){throw mn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new dn(this.firestore,Ni(this._delegate,z6(e)))}catch(n){throw mn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dn(this.firestore,Ni(this._delegate,q6(...e)))}catch(n){throw mn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dn(this.firestore,Ni(this._delegate,H6(...e)))}catch(n){throw mn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dn(this.firestore,Ni(this._delegate,G6(...e)))}catch(n){throw mn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dn(this.firestore,Ni(this._delegate,K6(...e)))}catch(n){throw mn(n,"endAt()","Query.endAt()")}}isEqual(e){return xP(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=e5(this._delegate):(e==null?void 0:e.source)==="server"?n=t5(this._delegate):n=Z6(this._delegate),n.then(r=>new nv(this.firestore,new ys(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=BP(e),r=UP(e,i=>new nv(this.firestore,new ys(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return MP(this._delegate,n,r)}withConverter(e){return new dn(this.firestore,e?this._delegate.withConverter(Co.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class w5{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new fc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new dn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new w5(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new fc(this._firestore,r))})}isEqual(e){return OP(this._delegate,e._delegate)}}class Za extends dn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rr(this.firestore,e):null}doc(e){try{return e===void 0?new rr(this.firestore,ad(this._delegate)):new rr(this.firestore,ad(this._delegate,e))}catch(n){throw mn(n,"doc()","CollectionReference.doc()")}}add(e){return r5(this._delegate,e).then(n=>new rr(this.firestore,n))}isEqual(e){return wP(this._delegate,e._delegate)}withConverter(e){return new Za(this.firestore,e?this._delegate.withConverter(Co.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function no(t){return Oe(t,Je)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(...e){this._delegate=new gs(...e)}static documentId(){return new t1(wt.keyField().canonicalString())}isEqual(e){return e=Be(e),e instanceof gs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._delegate=e}static serverTimestamp(){const e=c5();return e._methodName="FieldValue.serverTimestamp",new Ws(e)}static delete(){const e=l5();return e._methodName="FieldValue.delete",new Ws(e)}static arrayUnion(...e){const n=h5(...e);return n._methodName="FieldValue.arrayUnion",new Ws(n)}static arrayRemove(...e){const n=f5(...e);return n._methodName="FieldValue.arrayRemove",new Ws(n)}static increment(e){const n=d5(e);return n._methodName="FieldValue.increment",new Ws(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={Firestore:FP,GeoPoint:dp,Timestamp:nt,Blob:$P,Transaction:VP,WriteBatch:jP,DocumentReference:rr,DocumentSnapshot:hc,Query:dn,QueryDocumentSnapshot:fc,QuerySnapshot:nv,CollectionReference:Za,FieldPath:t1,FieldValue:Ws,setLogLevel:v5,CACHE_SIZE_UNLIMITED:E6};function S5(t,e){t.INTERNAL.registerComponent(new yi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},x5)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){S5(t,(e,n)=>new FP(e,n,new y5)),t.registerVersion(p5,m5)}T5(Ro);const E5={apiKey:"AIzaSyD5ZGv_O6svYbJNDpZ9PMDRk7ysrXESGYw",authDomain:"caicai5913.firebaseapp.com",projectId:"caicai5913",storageBucket:"caicai5913.appspot.com",messagingSenderId:"1046927345797",appId:"1:1046927345797:web:5bb5201fb0e246c7c581ec"};Ro.initializeApp(E5);const _5=Ro.storage(),zP=Ro.firestore(),C5=Ro.firestore.FieldValue.serverTimestamp,I5=t=>{const[e,n]=q.useState(0),[r,i]=q.useState(null),[s,o]=q.useState(null);return q.useEffect(()=>{const a=_5.ref(),l=zP.collection("images"),f=a.child(t.name).put(t);f.on("state_changed",m=>{const y=m.bytesTransferred/m.totalBytes*100;n(y)},m=>{i(err),console.error("Error uploading file:",m)},()=>{f.snapshot.ref.getDownloadURL().then(m=>{const y=C5();console.log("111"),l.add({url:m,createdAt:y}),console.log("222"),o(m)})})},[t]),{progress:e,url:s,error:r}},k5=({file:t,setFile:e})=>{const{progress:n,url:r}=I5(t);return q.useEffect(()=>{r&&e(null)},[r,e]),R.jsx(ja.div,{className:"progress-bar",initial:{width:0},animate:{width:n+"%"}})},b5=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(null),i=["image/png","image/jpeg"],s=o=>{let a=o.target.files[0];a&&i.includes(a.type)?(e(a),r("")):(e(null),r("Please select an image file (png or jpeg)"))};return R.jsxs("form",{children:[R.jsxs("label",{children:[R.jsx("input",{type:"file",onChange:s}),R.jsx("span",{children:"+"})]}),R.jsxs("div",{className:"output",children:[n&&R.jsx("div",{className:"error",children:n}),t&&R.jsx("div",{children:t.name}),t&&R.jsx(k5,{file:t,setFile:e})]})]})},D5=t=>{const[e,n]=q.useState([]);return q.useEffect(()=>{const r=zP.collection(t).orderBy("createdAt","desc").onSnapshot(i=>{let s=[];i.forEach(o=>{s.push({...o.data(),id:o.id})}),n(s)});return()=>r()},[t]),{docs:e}},A5=({setSelectedImg:t})=>{const{docs:e}=D5("images");return R.jsx("div",{className:"img-grid",children:e&&e.map(n=>R.jsx(ja.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:()=>t(n.url),children:R.jsx(ja.img,{src:n.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},n.id))})},P5=({setSelectedImg:t,selectedImg:e})=>{const n=r=>{r.target.classList.contains("backdrop")&&t(null)};return R.jsx(ja.div,{className:"backdrop",onClick:n,initial:{opacity:0},animate:{opacity:1},children:R.jsx(ja.img,{src:e,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})},N5=()=>{const[t,e]=q.useState(null);return R.jsxs("div",{className:"title",children:[R.jsx("h1",{children:"Memory"}),R.jsx("h2",{children:"Our Photos"}),R.jsx("p",{children:"Love is like a butterfly. It goes where it pleases and it pleases where it goes."}),R.jsx(b5,{}),R.jsx(A5,{setSelectedImg:e}),t&&R.jsx(P5,{selectedImg:t,setSelectedImg:e})]})};function R5(){return R.jsx(yO,{children:R.jsx(hO,{children:R.jsxs(Bt,{path:"/",element:R.jsx(OO,{}),children:[R.jsx(Bt,{index:!0,element:R.jsx(xO,{})}),R.jsx(Bt,{path:"letter",element:R.jsx(KV,{})}),R.jsx(Bt,{path:"photos",element:R.jsx(N5,{})}),R.jsx(Bt,{path:"vans",element:R.jsx(TO,{})}),R.jsx(Bt,{path:"vans/:id",element:R.jsx(EO,{})}),R.jsxs(Bt,{path:"host",element:R.jsx(MO,{}),children:[R.jsx(Bt,{index:!0,element:R.jsx(_O,{})}),R.jsx(Bt,{path:"income",element:R.jsx(CO,{})}),R.jsx(Bt,{path:"reviews",element:R.jsx(IO,{})}),R.jsx(Bt,{path:"vans",element:R.jsx(kO,{})}),R.jsxs(Bt,{path:"vans/:id",element:R.jsx(bO,{}),children:[R.jsx(Bt,{index:!0,element:R.jsx(DO,{})}),R.jsx(Bt,{path:"pricing",element:R.jsx(AO,{})}),R.jsx(Bt,{path:"photos",element:R.jsx(PO,{})})]})]}),R.jsx(Bt,{path:"*",element:R.jsx(NO,{})})]})})})}eg.createRoot(document.getElementById("root")).render(R.jsx(R5,{}));
